(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qh={exports:{}},oa={},Zh={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),Yy=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),iv=Symbol.for("react.memo"),sv=Symbol.for("react.lazy"),xd=Symbol.iterator;function ov(e){return e===null||typeof e!="object"?null:(e=xd&&e[xd]||e["@@iterator"],typeof e=="function"?e:null)}var Xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ep=Object.assign,tp={};function ci(e,t,r){this.props=e,this.context=t,this.refs=tp,this.updater=r||Xh}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rp(){}rp.prototype=ci.prototype;function tc(e,t,r){this.props=e,this.context=t,this.refs=tp,this.updater=r||Xh}var rc=tc.prototype=new rp;rc.constructor=tc;ep(rc,ci.prototype);rc.isPureReactComponent=!0;var bd=Array.isArray,np=Object.prototype.hasOwnProperty,nc={current:null},ip={key:!0,ref:!0,__self:!0,__source:!0};function sp(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)np.call(t,n)&&!ip.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var l=Array(u),d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:js,type:e,key:s,ref:o,props:i,_owner:nc.current}}function av(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function lv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wd=/\/+/g;function Ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lv(""+e.key):t.toString(36)}function oo(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case js:case Yy:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ba(o,0):n,bd(i)?(r="",e!=null&&(r=e.replace(wd,"$&/")+"/"),oo(i,t,r,"",function(d){return d})):i!=null&&(ic(i)&&(i=av(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",bd(e))for(var u=0;u<e.length;u++){s=e[u];var l=n+Ba(s,u);o+=oo(s,t,r,l,i)}else if(l=ov(e),typeof l=="function")for(e=l.call(e),u=0;!(s=e.next()).done;)s=s.value,l=n+Ba(s,u++),o+=oo(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Is(e,t,r){if(e==null)return e;var n=[],i=0;return oo(e,n,"","",function(s){return t.call(r,s,i++)}),n}function uv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},ao={transition:null},cv={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:ao,ReactCurrentOwner:nc};function op(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Is,forEach:function(e,t,r){Is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ci;ve.Fragment=Qy;ve.Profiler=Xy;ve.PureComponent=tc;ve.StrictMode=Zy;ve.Suspense=nv;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;ve.act=op;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ep({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=nc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)np.call(t,l)&&!ip.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&u!==void 0?u[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:js,type:e.type,key:i,ref:s,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:tv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ev,_context:e},e.Consumer=e};ve.createElement=sp;ve.createFactory=function(e){var t=sp.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:rv,render:e}};ve.isValidElement=ic;ve.lazy=function(e){return{$$typeof:sv,_payload:{_status:-1,_result:e},_init:uv}};ve.memo=function(e,t){return{$$typeof:iv,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};ve.unstable_act=op;ve.useCallback=function(e,t){return ft.current.useCallback(e,t)};ve.useContext=function(e){return ft.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ve.useEffect=function(e,t){return ft.current.useEffect(e,t)};ve.useId=function(){return ft.current.useId()};ve.useImperativeHandle=function(e,t,r){return ft.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return ft.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return ft.current.useReducer(e,t,r)};ve.useRef=function(e){return ft.current.useRef(e)};ve.useState=function(e){return ft.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return ft.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return ft.current.useTransition()};ve.version="18.3.1";Zh.exports=ve;var q=Zh.exports;const ue=ec(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=q,fv=Symbol.for("react.element"),hv=Symbol.for("react.fragment"),pv=Object.prototype.hasOwnProperty,mv=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gv={key:!0,ref:!0,__self:!0,__source:!0};function ap(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)pv.call(t,n)&&!gv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:fv,type:e,key:s,ref:o,props:i,_owner:mv.current}}oa.Fragment=hv;oa.jsx=ap;oa.jsxs=ap;Qh.exports=oa;var a=Qh.exports,lp={exports:{}},Ot={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,z){var L=H.length;H.push(z);e:for(;0<L;){var A=L-1>>>1,R=H[A];if(0<i(R,z))H[A]=z,H[L]=R,L=A;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var z=H[0],L=H.pop();if(L!==z){H[0]=L;e:for(var A=0,R=H.length,$=R>>>1;A<$;){var J=2*(A+1)-1,K=H[J],I=J+1,W=H[I];if(0>i(K,L))I<R&&0>i(W,K)?(H[A]=W,H[I]=L,A=I):(H[A]=K,H[J]=L,A=J);else if(I<R&&0>i(W,L))H[A]=W,H[I]=L,A=I;else break e}}return z}function i(H,z){var L=H.sortIndex-z.sortIndex;return L!==0?L:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var l=[],d=[],p=1,f=null,c=3,g=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=H)n(d),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(d)}}function v(H){if(y=!1,x(H),!b)if(r(l)!==null)b=!0,V(_);else{var z=r(d);z!==null&&F(v,z.startTime-H)}}function _(H,z){b=!1,y&&(y=!1,m(E),E=-1),g=!0;var L=c;try{for(x(z),f=r(l);f!==null&&(!(f.expirationTime>z)||H&&!O());){var A=f.callback;if(typeof A=="function"){f.callback=null,c=f.priorityLevel;var R=A(f.expirationTime<=z);z=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),x(z)}else n(l);f=r(l)}if(f!==null)var $=!0;else{var J=r(d);J!==null&&F(v,J.startTime-z),$=!1}return $}finally{f=null,c=L,g=!1}}var j=!1,S=null,E=-1,P=5,N=-1;function O(){return!(e.unstable_now()-N<P)}function k(){if(S!==null){var H=e.unstable_now();N=H;var z=!0;try{z=S(!0,H)}finally{z?T():(j=!1,S=null)}}else j=!1}var T;if(typeof h=="function")T=function(){h(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,D=C.port2;C.port1.onmessage=k,T=function(){D.postMessage(null)}}else T=function(){w(k,0)};function V(H){S=H,j||(j=!0,T())}function F(H,z){E=w(function(){H(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,V(_))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(c){case 1:case 2:case 3:var z=3;break;default:z=c}var L=c;c=z;try{return H()}finally{c=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=c;c=H;try{return z()}finally{c=L}},e.unstable_scheduleCallback=function(H,z,L){var A=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?A+L:A):L=A,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,H={id:p++,callback:z,priorityLevel:H,startTime:L,expirationTime:R,sortIndex:-1},L>A?(H.sortIndex=L,t(d,H),r(l)===null&&H===r(d)&&(y?(m(E),E=-1):y=!0,F(v,L-A))):(H.sortIndex=R,t(l,H),b||g||(b=!0,V(_))),H},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(H){var z=c;return function(){var L=c;c=z;try{return H.apply(this,arguments)}finally{c=L}}}})(cp);up.exports=cp;var yv=up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=q,Et=yv;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dp=new Set,is={};function wn(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(is[e]=t,e=0;e<t.length;e++)dp.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=Object.prototype.hasOwnProperty,xv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_d={},Sd={};function bv(e){return Ml.call(Sd,e)?!0:Ml.call(_d,e)?!1:xv.test(e)?Sd[e]=!0:(_d[e]=!0,!1)}function wv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _v(e,t,r,n){if(t===null||typeof t>"u"||wv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function oc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,oc);rt[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,oc);rt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,oc);rt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function ac(e,t,r,n){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_v(t,r,i,n)&&(r=null),n||i===null?bv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nr=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),jd=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=jd&&e[jd]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Va;function Fi(e){if(Va===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Va=t&&t[1]||""}return`
`+Va+e}var Ha=!1;function Wa(e,t){if(!e||Ha)return"";Ha=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=u);break}}}finally{Ha=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fi(e):""}function Sv(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case Ln:return"Portal";case $l:return"Profiler";case lc:return"StrictMode";case zl:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hp:return(e.displayName||"Context")+".Consumer";case fp:return(e._context.displayName||"Context")+".Provider";case uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return t=e.displayName||null,t!==null?t:ql(e.type)||"Memo";case Cr:t=e._payload,e=e._init;try{return ql(e(t))}catch{}}return null}function jv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(t);case 8:return t===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kv(e){var t=mp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=kv(e))}function gp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ul(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yp(e,t){t=t.checked,t!=null&&ac(e,"checked",t,!1)}function Bl(e,t){yp(e,t);var r=Jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,Jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vl(e,t,r){(t!=="number"||jo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qi=Array.isArray;function Gn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ed(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(qi(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jr(r)}}function vp(e,t){var r=Jr(t.value),n=Jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,bp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nv=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){Nv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hi[t]=Hi[e]})});function wp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+t).trim():t+"px"}function _p(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Ev=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(e,t){if(t){if(Ev[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,Kn=null,Jn=null;function Td(e){if(e=Es(e)){if(typeof Yl!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=da(t),Yl(e.stateNode,e.type,t))}}function Sp(e){Kn?Jn?Jn.push(e):Jn=[e]:Kn=e}function jp(){if(Kn){var e=Kn,t=Jn;if(Jn=Kn=null,Td(e),t)for(e=0;e<t.length;e++)Td(t[e])}}function kp(e,t){return e(t)}function Np(){}var Ga=!1;function Ep(e,t,r){if(Ga)return e(t,r);Ga=!0;try{return kp(e,t,r)}finally{Ga=!1,(Kn!==null||Jn!==null)&&(Np(),jp())}}function os(e,t){var r=e.stateNode;if(r===null)return null;var n=da(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Ql=!1;if(br)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Ql=!1}function Ov(e,t,r,n,i,s,o,u,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var Wi=!1,ko=null,No=!1,Zl=null,Tv={onError:function(e){Wi=!0,ko=e}};function Av(e,t,r,n,i,s,o,u,l){Wi=!1,ko=null,Ov.apply(Tv,arguments)}function Pv(e,t,r,n,i,s,o,u,l){if(Av.apply(this,arguments),Wi){if(Wi){var d=ko;Wi=!1,ko=null}else throw Error(ne(198));No||(No=!0,Zl=d)}}function _n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Op(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ad(e){if(_n(e)!==e)throw Error(ne(188))}function Cv(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Ad(i),e;if(s===n)return Ad(i),t;s=s.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function Tp(e){return e=Cv(e),e!==null?Ap(e):null}function Ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ap(e);if(t!==null)return t;e=e.sibling}return null}var Pp=Et.unstable_scheduleCallback,Pd=Et.unstable_cancelCallback,Lv=Et.unstable_shouldYield,Rv=Et.unstable_requestPaint,Ue=Et.unstable_now,Iv=Et.unstable_getCurrentPriorityLevel,fc=Et.unstable_ImmediatePriority,Cp=Et.unstable_UserBlockingPriority,Eo=Et.unstable_NormalPriority,Dv=Et.unstable_LowPriority,Lp=Et.unstable_IdlePriority,aa=null,ar=null;function Mv(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Fv,$v=Math.log,zv=Math.LN2;function Fv(e){return e>>>=0,e===0?32:31-($v(e)/zv|0)|0}var zs=64,Fs=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=Ui(u):(s&=o,s!==0&&(n=Ui(s)))}else o=r&~i,o!==0?n=Ui(o):s!==0&&(n=Ui(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gt(t),i=1<<r,n|=e[r],t&=~i;return n}function qv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Gt(s),u=1<<o,l=i[o];l===-1?(!(u&r)||u&n)&&(i[o]=qv(u,t)):l<=t&&(e.expiredLanes|=u),s&=~u}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rp(){var e=zs;return zs<<=1,!(zs&4194240)&&(zs=64),e}function Ka(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ks(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=r}function Bv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Gt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function hc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var we=0;function Ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dp,pc,Mp,$p,zp,eu=!1,qs=[],Fr=null,qr=null,Ur=null,as=new Map,ls=new Map,Rr=[],Vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function Ni(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Es(t),t!==null&&pc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Hv(e,t,r,n,i){switch(t){case"focusin":return Fr=Ni(Fr,e,t,r,n,i),!0;case"dragenter":return qr=Ni(qr,e,t,r,n,i),!0;case"mouseover":return Ur=Ni(Ur,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return as.set(s,Ni(as.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ls.set(s,Ni(ls.get(s)||null,e,t,r,n,i)),!0}return!1}function Fp(e){var t=un(e.target);if(t!==null){var r=_n(t);if(r!==null){if(t=r.tag,t===13){if(t=Op(r),t!==null){e.blockedOn=t,zp(e.priority,function(){Mp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jl=n,r.target.dispatchEvent(n),Jl=null}else return t=Es(r),t!==null&&pc(t),e.blockedOn=r,!1;t.shift()}return!0}function Ld(e,t,r){lo(e)&&r.delete(t)}function Wv(){eu=!1,Fr!==null&&lo(Fr)&&(Fr=null),qr!==null&&lo(qr)&&(qr=null),Ur!==null&&lo(Ur)&&(Ur=null),as.forEach(Ld),ls.forEach(Ld)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,Wv)))}function us(e){function t(i){return Ei(i,e)}if(0<qs.length){Ei(qs[0],e);for(var r=1;r<qs.length;r++){var n=qs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fr!==null&&Ei(Fr,e),qr!==null&&Ei(qr,e),Ur!==null&&Ei(Ur,e),as.forEach(t),ls.forEach(t),r=0;r<Rr.length;r++)n=Rr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)Fp(r),r.blockedOn===null&&Rr.shift()}var Yn=Nr.ReactCurrentBatchConfig,To=!0;function Gv(e,t,r,n){var i=we,s=Yn.transition;Yn.transition=null;try{we=1,mc(e,t,r,n)}finally{we=i,Yn.transition=s}}function Kv(e,t,r,n){var i=we,s=Yn.transition;Yn.transition=null;try{we=4,mc(e,t,r,n)}finally{we=i,Yn.transition=s}}function mc(e,t,r,n){if(To){var i=tu(e,t,r,n);if(i===null)il(e,t,n,Ao,r),Cd(e,n);else if(Hv(i,e,t,r,n))n.stopPropagation();else if(Cd(e,n),t&4&&-1<Vv.indexOf(e)){for(;i!==null;){var s=Es(i);if(s!==null&&Dp(s),s=tu(e,t,r,n),s===null&&il(e,t,n,Ao,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else il(e,t,n,null,r)}}var Ao=null;function tu(e,t,r,n){if(Ao=null,e=dc(n),e=un(e),e!==null)if(t=_n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Op(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ao=e,null}function qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iv()){case fc:return 1;case Cp:return 4;case Eo:case Dv:return 16;case Lp:return 536870912;default:return 16}default:return 16}}var $r=null,gc=null,uo=null;function Up(){if(uo)return uo;var e,t=gc,r=t.length,n,i="value"in $r?$r.value:$r.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return uo=i.slice(e,1<n?1-n:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function Rd(){return!1}function Tt(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Us:Rd,this.isPropagationStopped=Rd,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=Tt(di),Ns=Me({},di,{view:0,detail:0}),Jv=Tt(Ns),Ja,Ya,Oi,la=Me({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Ja=e.screenX-Oi.screenX,Ya=e.screenY-Oi.screenY):Ya=Ja=0,Oi=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),Id=Tt(la),Yv=Me({},la,{dataTransfer:0}),Qv=Tt(Yv),Zv=Me({},Ns,{relatedTarget:0}),Qa=Tt(Zv),Xv=Me({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),e0=Tt(Xv),t0=Me({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r0=Tt(t0),n0=Me({},di,{data:0}),Dd=Tt(n0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o0[e])?!!t[e]:!1}function vc(){return a0}var l0=Me({},Ns,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=Tt(l0),c0=Me({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=Tt(c0),d0=Me({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),f0=Tt(d0),h0=Me({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=Tt(h0),m0=Me({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g0=Tt(m0),y0=[9,13,27,32],xc=br&&"CompositionEvent"in window,Gi=null;br&&"documentMode"in document&&(Gi=document.documentMode);var v0=br&&"TextEvent"in window&&!Gi,Bp=br&&(!xc||Gi&&8<Gi&&11>=Gi),$d=" ",zd=!1;function Vp(e,t){switch(e){case"keyup":return y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function x0(e,t){switch(e){case"compositionend":return Hp(t);case"keypress":return t.which!==32?null:(zd=!0,$d);case"textInput":return e=t.data,e===$d&&zd?null:e;default:return null}}function b0(e,t){if(In)return e==="compositionend"||!xc&&Vp(e,t)?(e=Up(),uo=gc=$r=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bp&&t.locale!=="ko"?null:t.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w0[e.type]:t==="textarea"}function Wp(e,t,r,n){Sp(n),t=Po(t,"onChange"),0<t.length&&(r=new yc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ki=null,cs=null;function _0(e){nm(e,0)}function ua(e){var t=$n(e);if(gp(t))return e}function S0(e,t){if(e==="change")return t}var Gp=!1;if(br){var Za;if(br){var Xa="oninput"in document;if(!Xa){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Xa=typeof qd.oninput=="function"}Za=Xa}else Za=!1;Gp=Za&&(!document.documentMode||9<document.documentMode)}function Ud(){Ki&&(Ki.detachEvent("onpropertychange",Kp),cs=Ki=null)}function Kp(e){if(e.propertyName==="value"&&ua(cs)){var t=[];Wp(t,cs,e,dc(e)),Ep(_0,t)}}function j0(e,t,r){e==="focusin"?(Ud(),Ki=t,cs=r,Ki.attachEvent("onpropertychange",Kp)):e==="focusout"&&Ud()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(cs)}function N0(e,t){if(e==="click")return ua(t)}function E0(e,t){if(e==="input"||e==="change")return ua(t)}function O0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:O0;function ds(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ml.call(t,i)||!Jt(e[i],t[i]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vd(e,t){var r=Bd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bd(r)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yp(){for(var e=window,t=jo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jo(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T0(e){var t=Yp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jp(r.ownerDocument.documentElement,r)){if(n!==null&&bc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Vd(r,s);var o=Vd(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A0=br&&"documentMode"in document&&11>=document.documentMode,Dn=null,ru=null,Ji=null,nu=!1;function Hd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Dn==null||Dn!==jo(n)||(n=Dn,"selectionStart"in n&&bc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ji&&ds(Ji,n)||(Ji=n,n=Po(ru,"onSelect"),0<n.length&&(t=new yc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Dn)))}function Bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mn={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},el={},Qp={};br&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function ca(e){if(el[e])return el[e];if(!Mn[e])return e;var t=Mn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qp)return el[e]=t[r];return e}var Zp=ca("animationend"),Xp=ca("animationiteration"),em=ca("animationstart"),tm=ca("transitionend"),rm=new Map,Wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){rm.set(e,t),wn(t,[e])}for(var tl=0;tl<Wd.length;tl++){var rl=Wd[tl],P0=rl.toLowerCase(),C0=rl[0].toUpperCase()+rl.slice(1);Qr(P0,"on"+C0)}Qr(Zp,"onAnimationEnd");Qr(Xp,"onAnimationIteration");Qr(em,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(tm,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Gd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Pv(n,t,void 0,e),e.currentTarget=null}function nm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],l=u.instance,d=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Gd(i,u,d),s=l}else for(o=0;o<n.length;o++){if(u=n[o],l=u.instance,d=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Gd(i,u,d),s=l}}}if(No)throw e=Zl,No=!1,Zl=null,e}function Ne(e,t){var r=t[lu];r===void 0&&(r=t[lu]=new Set);var n=e+"__bubble";r.has(n)||(im(t,e,2,!1),r.add(n))}function nl(e,t,r){var n=0;t&&(n|=4),im(r,e,n,t)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function fs(e){if(!e[Vs]){e[Vs]=!0,dp.forEach(function(r){r!=="selectionchange"&&(L0.has(r)||nl(r,!1,e),nl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vs]||(t[Vs]=!0,nl("selectionchange",!1,t))}}function im(e,t,r,n){switch(qp(t)){case 1:var i=Gv;break;case 4:i=Kv;break;default:i=mc}r=i.bind(null,t,r,e),i=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function il(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=un(u),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}u=u.parentNode}}n=n.return}Ep(function(){var d=s,p=dc(r),f=[];e:{var c=rm.get(e);if(c!==void 0){var g=yc,b=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":g=u0;break;case"focusin":b="focus",g=Qa;break;case"focusout":b="blur",g=Qa;break;case"beforeblur":case"afterblur":g=Qa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=f0;break;case Zp:case Xp:case em:g=e0;break;case tm:g=p0;break;case"scroll":g=Jv;break;case"wheel":g=g0;break;case"copy":case"cut":case"paste":g=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Md}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?c!==null?c+"Capture":null:c;y=[];for(var h=d,x;h!==null;){x=h;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,m!==null&&(v=os(h,m),v!=null&&y.push(hs(h,v,x)))),w)break;h=h.return}0<y.length&&(c=new g(c,b,null,r,p),f.push({event:c,listeners:y}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",c&&r!==Jl&&(b=r.relatedTarget||r.fromElement)&&(un(b)||b[wr]))break e;if((g||c)&&(c=p.window===p?p:(c=p.ownerDocument)?c.defaultView||c.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=d,b=b?un(b):null,b!==null&&(w=_n(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=d),g!==b)){if(y=Id,v="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=Md,v="onPointerLeave",m="onPointerEnter",h="pointer"),w=g==null?c:$n(g),x=b==null?c:$n(b),c=new y(v,h+"leave",g,r,p),c.target=w,c.relatedTarget=x,v=null,un(p)===d&&(y=new y(m,h+"enter",b,r,p),y.target=x,y.relatedTarget=w,v=y),w=v,g&&b)t:{for(y=g,m=b,h=0,x=y;x;x=jn(x))h++;for(x=0,v=m;v;v=jn(v))x++;for(;0<h-x;)y=jn(y),h--;for(;0<x-h;)m=jn(m),x--;for(;h--;){if(y===m||m!==null&&y===m.alternate)break t;y=jn(y),m=jn(m)}y=null}else y=null;g!==null&&Kd(f,c,g,y,!1),b!==null&&w!==null&&Kd(f,w,b,y,!0)}}e:{if(c=d?$n(d):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var _=S0;else if(Fd(c))if(Gp)_=E0;else{_=k0;var j=j0}else(g=c.nodeName)&&g.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(_=N0);if(_&&(_=_(e,d))){Wp(f,_,r,p);break e}j&&j(e,c,d),e==="focusout"&&(j=c._wrapperState)&&j.controlled&&c.type==="number"&&Vl(c,"number",c.value)}switch(j=d?$n(d):window,e){case"focusin":(Fd(j)||j.contentEditable==="true")&&(Dn=j,ru=d,Ji=null);break;case"focusout":Ji=ru=Dn=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Hd(f,r,p);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Hd(f,r,p)}var S;if(xc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else In?Vp(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Bp&&r.locale!=="ko"&&(In||E!=="onCompositionStart"?E==="onCompositionEnd"&&In&&(S=Up()):($r=p,gc="value"in $r?$r.value:$r.textContent,In=!0)),j=Po(d,E),0<j.length&&(E=new Dd(E,e,null,r,p),f.push({event:E,listeners:j}),S?E.data=S:(S=Hp(r),S!==null&&(E.data=S)))),(S=v0?x0(e,r):b0(e,r))&&(d=Po(d,"onBeforeInput"),0<d.length&&(p=new Dd("onBeforeInput","beforeinput",null,r,p),f.push({event:p,listeners:d}),p.data=S))}nm(f,t)})}function hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Po(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=os(e,r),s!=null&&n.unshift(hs(e,s,i)),s=os(e,t),s!=null&&n.push(hs(e,s,i))),e=e.return}return n}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kd(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,l=u.alternate,d=u.stateNode;if(l!==null&&l===n)break;u.tag===5&&d!==null&&(u=d,i?(l=os(r,s),l!=null&&o.unshift(hs(r,l,u))):i||(l=os(r,s),l!=null&&o.push(hs(r,l,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var R0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(R0,`
`).replace(I0,"")}function Hs(e,t,r){if(t=Jd(t),Jd(e)!==t&&r)throw Error(ne(425))}function Co(){}var iu=null,su=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch($0)}:au;function $0(e){setTimeout(function(){throw e})}function sl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),us(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);us(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),ir="__reactFiber$"+fi,ps="__reactProps$"+fi,wr="__reactContainer$"+fi,lu="__reactEvents$"+fi,z0="__reactListeners$"+fi,F0="__reactHandles$"+fi;function un(e){var t=e[ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qd(e);e!==null;){if(r=e[ir])return r;e=Qd(e)}return t}e=r,r=e.parentNode}return null}function Es(e){return e=e[ir]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function da(e){return e[ps]||null}var uu=[],zn=-1;function Zr(e){return{current:e}}function Te(e){0>zn||(e.current=uu[zn],uu[zn]=null,zn--)}function je(e,t){zn++,uu[zn]=e.current,e.current=t}var Yr={},at=Zr(Yr),bt=Zr(!1),mn=Yr;function ti(e,t){var r=e.type.contextTypes;if(!r)return Yr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function Lo(){Te(bt),Te(at)}function Zd(e,t,r){if(at.current!==Yr)throw Error(ne(168));je(at,t),je(bt,r)}function sm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ne(108,jv(e)||"Unknown",i));return Me({},r,n)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,mn=at.current,je(at,e),je(bt,bt.current),!0}function Xd(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=sm(e,t,mn),n.__reactInternalMemoizedMergedChildContext=e,Te(bt),Te(at),je(at,e)):Te(bt),je(bt,r)}var mr=null,fa=!1,ol=!1;function om(e){mr===null?mr=[e]:mr.push(e)}function q0(e){fa=!0,om(e)}function Xr(){if(!ol&&mr!==null){ol=!0;var e=0,t=we;try{var r=mr;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mr=null,fa=!1}catch(i){throw mr!==null&&(mr=mr.slice(e+1)),Pp(fc,Xr),i}finally{we=t,ol=!1}}return null}var Fn=[],qn=0,Io=null,Do=0,Pt=[],Ct=0,gn=null,gr=1,yr="";function nn(e,t){Fn[qn++]=Do,Fn[qn++]=Io,Io=e,Do=t}function am(e,t,r){Pt[Ct++]=gr,Pt[Ct++]=yr,Pt[Ct++]=gn,gn=e;var n=gr;e=yr;var i=32-Gt(n)-1;n&=~(1<<i),r+=1;var s=32-Gt(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gr=1<<32-Gt(t)+i|r<<i|n,yr=s+e}else gr=1<<s|r<<i|n,yr=e}function wc(e){e.return!==null&&(nn(e,1),am(e,1,0))}function _c(e){for(;e===Io;)Io=Fn[--qn],Fn[qn]=null,Do=Fn[--qn],Fn[qn]=null;for(;e===gn;)gn=Pt[--Ct],Pt[Ct]=null,yr=Pt[--Ct],Pt[Ct]=null,gr=Pt[--Ct],Pt[Ct]=null}var Nt=null,kt=null,Ce=!1,Ht=null;function lm(e,t){var r=It(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ef(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,kt=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gn!==null?{id:gr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=It(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,kt=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(Ce){var t=kt;if(t){var r=t;if(!ef(e,t)){if(cu(e))throw Error(ne(418));t=Br(r.nextSibling);var n=Nt;t&&ef(e,t)?lm(n,r):(e.flags=e.flags&-4097|2,Ce=!1,Nt=e)}}else{if(cu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Ce=!1,Nt=e}}}function tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ws(e){if(e!==Nt)return!1;if(!Ce)return tf(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=kt)){if(cu(e))throw um(),Error(ne(418));for(;t;)lm(e,t),t=Br(t.nextSibling)}if(tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=Br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Nt?Br(e.stateNode.nextSibling):null;return!0}function um(){for(var e=kt;e;)e=Br(e.nextSibling)}function ri(){kt=Nt=null,Ce=!1}function Sc(e){Ht===null?Ht=[e]:Ht.push(e)}var U0=Nr.ReactCurrentBatchConfig;function Ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rf(e){var t=e._init;return t(e._payload)}function cm(e){function t(m,h){if(e){var x=m.deletions;x===null?(m.deletions=[h],m.flags|=16):x.push(h)}}function r(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function n(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Gr(m,h),m.index=0,m.sibling=null,m}function s(m,h,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<h?(m.flags|=2,h):x):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,h,x,v){return h===null||h.tag!==6?(h=hl(x,m.mode,v),h.return=m,h):(h=i(h,x),h.return=m,h)}function l(m,h,x,v){var _=x.type;return _===Rn?p(m,h,x.props.children,v,x.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cr&&rf(_)===h.type)?(v=i(h,x.props),v.ref=Ti(m,h,x),v.return=m,v):(v=vo(x.type,x.key,x.props,null,m.mode,v),v.ref=Ti(m,h,x),v.return=m,v)}function d(m,h,x,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=pl(x,m.mode,v),h.return=m,h):(h=i(h,x.children||[]),h.return=m,h)}function p(m,h,x,v,_){return h===null||h.tag!==7?(h=pn(x,m.mode,v,_),h.return=m,h):(h=i(h,x),h.return=m,h)}function f(m,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hl(""+h,m.mode,x),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ds:return x=vo(h.type,h.key,h.props,null,m.mode,x),x.ref=Ti(m,null,h),x.return=m,x;case Ln:return h=pl(h,m.mode,x),h.return=m,h;case Cr:var v=h._init;return f(m,v(h._payload),x)}if(qi(h)||ji(h))return h=pn(h,m.mode,x,null),h.return=m,h;Gs(m,h)}return null}function c(m,h,x,v){var _=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:u(m,h,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ds:return x.key===_?l(m,h,x,v):null;case Ln:return x.key===_?d(m,h,x,v):null;case Cr:return _=x._init,c(m,h,_(x._payload),v)}if(qi(x)||ji(x))return _!==null?null:p(m,h,x,v,null);Gs(m,x)}return null}function g(m,h,x,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(x)||null,u(h,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ds:return m=m.get(v.key===null?x:v.key)||null,l(h,m,v,_);case Ln:return m=m.get(v.key===null?x:v.key)||null,d(h,m,v,_);case Cr:var j=v._init;return g(m,h,x,j(v._payload),_)}if(qi(v)||ji(v))return m=m.get(x)||null,p(h,m,v,_,null);Gs(h,v)}return null}function b(m,h,x,v){for(var _=null,j=null,S=h,E=h=0,P=null;S!==null&&E<x.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var N=c(m,S,x[E],v);if(N===null){S===null&&(S=P);break}e&&S&&N.alternate===null&&t(m,S),h=s(N,h,E),j===null?_=N:j.sibling=N,j=N,S=P}if(E===x.length)return r(m,S),Ce&&nn(m,E),_;if(S===null){for(;E<x.length;E++)S=f(m,x[E],v),S!==null&&(h=s(S,h,E),j===null?_=S:j.sibling=S,j=S);return Ce&&nn(m,E),_}for(S=n(m,S);E<x.length;E++)P=g(S,m,E,x[E],v),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?E:P.key),h=s(P,h,E),j===null?_=P:j.sibling=P,j=P);return e&&S.forEach(function(O){return t(m,O)}),Ce&&nn(m,E),_}function y(m,h,x,v){var _=ji(x);if(typeof _!="function")throw Error(ne(150));if(x=_.call(x),x==null)throw Error(ne(151));for(var j=_=null,S=h,E=h=0,P=null,N=x.next();S!==null&&!N.done;E++,N=x.next()){S.index>E?(P=S,S=null):P=S.sibling;var O=c(m,S,N.value,v);if(O===null){S===null&&(S=P);break}e&&S&&O.alternate===null&&t(m,S),h=s(O,h,E),j===null?_=O:j.sibling=O,j=O,S=P}if(N.done)return r(m,S),Ce&&nn(m,E),_;if(S===null){for(;!N.done;E++,N=x.next())N=f(m,N.value,v),N!==null&&(h=s(N,h,E),j===null?_=N:j.sibling=N,j=N);return Ce&&nn(m,E),_}for(S=n(m,S);!N.done;E++,N=x.next())N=g(S,m,E,N.value,v),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?E:N.key),h=s(N,h,E),j===null?_=N:j.sibling=N,j=N);return e&&S.forEach(function(k){return t(m,k)}),Ce&&nn(m,E),_}function w(m,h,x,v){if(typeof x=="object"&&x!==null&&x.type===Rn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ds:e:{for(var _=x.key,j=h;j!==null;){if(j.key===_){if(_=x.type,_===Rn){if(j.tag===7){r(m,j.sibling),h=i(j,x.props.children),h.return=m,m=h;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cr&&rf(_)===j.type){r(m,j.sibling),h=i(j,x.props),h.ref=Ti(m,j,x),h.return=m,m=h;break e}r(m,j);break}else t(m,j);j=j.sibling}x.type===Rn?(h=pn(x.props.children,m.mode,v,x.key),h.return=m,m=h):(v=vo(x.type,x.key,x.props,null,m.mode,v),v.ref=Ti(m,h,x),v.return=m,m=v)}return o(m);case Ln:e:{for(j=x.key;h!==null;){if(h.key===j)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){r(m,h.sibling),h=i(h,x.children||[]),h.return=m,m=h;break e}else{r(m,h);break}else t(m,h);h=h.sibling}h=pl(x,m.mode,v),h.return=m,m=h}return o(m);case Cr:return j=x._init,w(m,h,j(x._payload),v)}if(qi(x))return b(m,h,x,v);if(ji(x))return y(m,h,x,v);Gs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(r(m,h.sibling),h=i(h,x),h.return=m,m=h):(r(m,h),h=hl(x,m.mode,v),h.return=m,m=h),o(m)):r(m,h)}return w}var ni=cm(!0),dm=cm(!1),Mo=Zr(null),$o=null,Un=null,jc=null;function kc(){jc=Un=$o=null}function Nc(e){var t=Mo.current;Te(Mo),e._currentValue=t}function fu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qn(e,t){$o=e,jc=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(jc!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if($o===null)throw Error(ne(308));Un=e,$o.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var cn=null;function Ec(e){cn===null?cn=[e]:cn.push(e)}function fm(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Ec(t)):(r.next=i.next,i.next=r),t.interleaved=r,_r(e,n)}function _r(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function Oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_r(e,r)}return i=n.interleaved,i===null?(t.next=t,Ec(n)):(t.next=i.next,i.next=t),n.interleaved=t,_r(e,r)}function fo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hc(e,r)}}function nf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zo(e,t,r,n){var i=e.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==o&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,p=d=l=null,u=s;do{var c=u.lane,g=u.eventTime;if((n&c)===c){p!==null&&(p=p.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=e,y=u;switch(c=t,g=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(g,f,c);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,c=typeof b=="function"?b.call(g,f,c):b,c==null)break e;f=Me({},f,c);break e;case 2:Lr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[u]:c.push(u))}else g={eventTime:g,lane:c,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=g,l=f):p=p.next=g,o|=c;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;c=u,u=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(p===null&&(l=f),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=f}}function sf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var Os={},lr=Zr(Os),ms=Zr(Os),gs=Zr(Os);function dn(e){if(e===Os)throw Error(ne(174));return e}function Tc(e,t){switch(je(gs,t),je(ms,e),je(lr,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wl(t,e)}Te(lr),je(lr,t)}function ii(){Te(lr),Te(ms),Te(gs)}function pm(e){dn(gs.current);var t=dn(lr.current),r=Wl(t,e.type);t!==r&&(je(ms,e),je(lr,r))}function Ac(e){ms.current===e&&(Te(lr),Te(ms))}var Ie=Zr(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function Pc(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var ho=Nr.ReactCurrentDispatcher,ll=Nr.ReactCurrentBatchConfig,yn=0,De=null,Ke=null,Qe=null,qo=!1,Yi=!1,ys=0,B0=0;function it(){throw Error(ne(321))}function Cc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jt(e[r],t[r]))return!1;return!0}function Lc(e,t,r,n,i,s){if(yn=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?G0:K0,e=r(n,i),Yi){s=0;do{if(Yi=!1,ys=0,25<=s)throw Error(ne(301));s+=1,Qe=Ke=null,t.updateQueue=null,ho.current=J0,e=r(n,i)}while(Yi)}if(ho.current=Uo,t=Ke!==null&&Ke.next!==null,yn=0,Qe=Ke=De=null,qo=!1,t)throw Error(ne(300));return e}function Rc(){var e=ys!==0;return ys=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?De.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function zt(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Qe===null?De.memoizedState:Qe.next;if(t!==null)Qe=t,Ke=e;else{if(e===null)throw Error(ne(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?De.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function vs(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=zt(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Ke,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,l=null,d=s;do{var p=d.lane;if((yn&p)===p)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(u=l=f,o=n):l=l.next=f,De.lanes|=p,vn|=p}d=d.next}while(d!==null&&d!==s);l===null?o=n:l.next=u,Jt(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,De.lanes|=s,vn|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cl(e){var t=zt(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Jt(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function mm(){}function gm(e,t){var r=De,n=zt(),i=t(),s=!Jt(n.memoizedState,i);if(s&&(n.memoizedState=i,vt=!0),n=n.queue,Ic(xm.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,xs(9,vm.bind(null,r,n,i,t),void 0,null),Ze===null)throw Error(ne(349));yn&30||ym(r,t,i)}return i}function ym(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vm(e,t,r,n){t.value=r,t.getSnapshot=n,bm(t)&&wm(e)}function xm(e,t,r){return r(function(){bm(t)&&wm(e)})}function bm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jt(e,r)}catch{return!0}}function wm(e){var t=_r(e,1);t!==null&&Kt(t,e,1,-1)}function of(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=W0.bind(null,De,e),[t.memoizedState,e]}function xs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _m(){return zt().memoizedState}function po(e,t,r,n){var i=rr();De.flags|=e,i.memoizedState=xs(1|t,r,void 0,n===void 0?null:n)}function ha(e,t,r,n){var i=zt();n=n===void 0?null:n;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,n!==null&&Cc(n,o.deps)){i.memoizedState=xs(t,r,s,n);return}}De.flags|=e,i.memoizedState=xs(1|t,r,s,n)}function af(e,t){return po(8390656,8,e,t)}function Ic(e,t){return ha(2048,8,e,t)}function Sm(e,t){return ha(4,2,e,t)}function jm(e,t){return ha(4,4,e,t)}function km(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,r){return r=r!=null?r.concat([e]):null,ha(4,4,km.bind(null,t,e),r)}function Dc(){}function Em(e,t){var r=zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Om(e,t){var r=zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tm(e,t,r){return yn&21?(Jt(r,t)||(r=Rp(),De.lanes|=r,vn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function V0(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=ll.transition;ll.transition={};try{e(!1),t()}finally{we=r,ll.transition=n}}function Am(){return zt().memoizedState}function H0(e,t,r){var n=Wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pm(e))Cm(t,r);else if(r=fm(e,t,r,n),r!==null){var i=dt();Kt(r,e,n,i),Lm(r,t,n)}}function W0(e,t,r){var n=Wr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pm(e))Cm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,Jt(u,o)){var l=t.interleaved;l===null?(i.next=i,Ec(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=fm(e,t,i,n),r!==null&&(i=dt(),Kt(r,e,n,i),Lm(r,t,n))}}function Pm(e){var t=e.alternate;return e===De||t!==null&&t===De}function Cm(e,t){Yi=qo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Lm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hc(e,r)}}var Uo={readContext:$t,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},G0={readContext:$t,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:af,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,po(4194308,4,km.bind(null,t,e),r)},useLayoutEffect:function(e,t){return po(4194308,4,e,t)},useInsertionEffect:function(e,t){return po(4,2,e,t)},useMemo:function(e,t){var r=rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=H0.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:of,useDebugValue:Dc,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=of(!1),t=e[0];return e=V0.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,i=rr();if(Ce){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Ze===null)throw Error(ne(349));yn&30||ym(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,af(xm.bind(null,n,s,e),[e]),n.flags|=2048,xs(9,vm.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=rr(),t=Ze.identifierPrefix;if(Ce){var r=yr,n=gr;r=(n&~(1<<32-Gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=B0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K0={readContext:$t,useCallback:Em,useContext:$t,useEffect:Ic,useImperativeHandle:Nm,useInsertionEffect:Sm,useLayoutEffect:jm,useMemo:Om,useReducer:ul,useRef:_m,useState:function(){return ul(vs)},useDebugValue:Dc,useDeferredValue:function(e){var t=zt();return Tm(t,Ke.memoizedState,e)},useTransition:function(){var e=ul(vs)[0],t=zt().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:gm,useId:Am,unstable_isNewReconciler:!1},J0={readContext:$t,useCallback:Em,useContext:$t,useEffect:Ic,useImperativeHandle:Nm,useInsertionEffect:Sm,useLayoutEffect:jm,useMemo:Om,useReducer:cl,useRef:_m,useState:function(){return cl(vs)},useDebugValue:Dc,useDeferredValue:function(e){var t=zt();return Ke===null?t.memoizedState=e:Tm(t,Ke.memoizedState,e)},useTransition:function(){var e=cl(vs)[0],t=zt().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:gm,useId:Am,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pa={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dt(),i=Wr(e),s=vr(n,i);s.payload=t,r!=null&&(s.callback=r),t=Vr(e,s,i),t!==null&&(Kt(t,e,i,n),fo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dt(),i=Wr(e),s=vr(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Vr(e,s,i),t!==null&&(Kt(t,e,i,n),fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dt(),n=Wr(e),i=vr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vr(e,i,n),t!==null&&(Kt(t,e,n,r),fo(t,e,n))}};function lf(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!ds(r,n)||!ds(i,s):!0}function Rm(e,t,r){var n=!1,i=Yr,s=t.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=wt(t)?mn:at.current,n=t.contextTypes,s=(n=n!=null)?ti(e,i):Yr),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function pu(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Oc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=wt(t)?mn:at.current,i.context=ti(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hu(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),zo(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var r="",n=t;do r+=Sv(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function dl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y0=typeof WeakMap=="function"?WeakMap:Map;function Im(e,t,r){r=vr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vo||(Vo=!0,ku=n),mu(e,t)},r}function Dm(e,t,r){r=vr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){mu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mu(e,t),typeof n!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=cx.bind(null,e,t,r),t.then(e,e))}function df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ff(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vr(-1,1),t.tag=2,Vr(r,t,1))),r.lanes|=1),e)}var Q0=Nr.ReactCurrentOwner,vt=!1;function ut(e,t,r,n){t.child=e===null?dm(t,null,r,n):ni(t,e.child,r,n)}function hf(e,t,r,n,i){r=r.render;var s=t.ref;return Qn(t,i),n=Lc(e,t,r,n,s,i),r=Rc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(Ce&&r&&wc(t),t.flags|=1,ut(e,t,n,i),t.child)}function pf(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Vc(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Mm(e,t,s,n,i)):(e=vo(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ds,r(o,n)&&e.ref===t.ref)return Sr(e,t,i)}return t.flags|=1,e=Gr(s,n),e.ref=t.ref,e.return=t,t.child=e}function Mm(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(ds(s,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Sr(e,t,i)}return gu(e,t,r,n,i)}function $m(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Vn,jt),jt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Vn,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,je(Vn,jt),jt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,je(Vn,jt),jt|=n;return ut(e,t,i,r),t.child}function zm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,r,n,i){var s=wt(r)?mn:at.current;return s=ti(t,s),Qn(t,i),r=Lc(e,t,r,n,s,i),n=Rc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(Ce&&n&&wc(t),t.flags|=1,ut(e,t,r,i),t.child)}function mf(e,t,r,n,i){if(wt(r)){var s=!0;Ro(t)}else s=!1;if(Qn(t,i),t.stateNode===null)mo(e,t),Rm(t,r,n),pu(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=$t(d):(d=wt(r)?mn:at.current,d=ti(t,d));var p=r.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||l!==d)&&uf(t,o,n,d),Lr=!1;var c=t.memoizedState;o.state=c,zo(t,n,o,i),l=t.memoizedState,u!==n||c!==l||bt.current||Lr?(typeof p=="function"&&(hu(t,r,p,n),l=t.memoizedState),(u=Lr||lf(t,r,u,n,c,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,hm(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Ut(t.type,u),o.props=d,f=t.pendingProps,c=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=wt(r)?mn:at.current,l=ti(t,l));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==f||c!==l)&&uf(t,o,n,l),Lr=!1,c=t.memoizedState,o.state=c,zo(t,n,o,i);var b=t.memoizedState;u!==f||c!==b||bt.current||Lr?(typeof g=="function"&&(hu(t,r,g,n),b=t.memoizedState),(d=Lr||lf(t,r,d,n,c,b,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return yu(e,t,r,n,s,i)}function yu(e,t,r,n,i,s){zm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Xd(t,r,!1),Sr(e,t,s);n=t.stateNode,Q0.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ni(t,e.child,null,s),t.child=ni(t,null,u,s)):ut(e,t,u,s),t.memoizedState=n.state,i&&Xd(t,r,!0),t.child}function Fm(e){var t=e.stateNode;t.pendingContext?Zd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zd(e,t.context,!1),Tc(e,t.containerInfo)}function gf(e,t,r,n,i){return ri(),Sc(i),t.flags|=256,ut(e,t,r,n),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function qm(e,t,r){var n=t.pendingProps,i=Ie.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Ie,i&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ya(o,n,0,null),e=pn(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xu(r),t.memoizedState=vu,e):Mc(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Z0(e,t,o,n,u,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,u=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Gr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Gr(u,s):(s=pn(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?xu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=vu,n}return s=e.child,e=s.sibling,n=Gr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mc(e,t){return t=ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ks(e,t,r,n){return n!==null&&Sc(n),ni(t,e.child,null,r),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z0(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=dl(Error(ne(422))),Ks(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=ya({mode:"visible",children:n.children},i,0,null),s=pn(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ni(t,e.child,null,o),t.child.memoizedState=xu(o),t.memoizedState=vu,s);if(!(t.mode&1))return Ks(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(ne(419)),n=dl(s,n,void 0),Ks(e,t,o,n)}if(u=(o&e.childLanes)!==0,vt||u){if(n=Ze,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_r(e,i),Kt(n,e,i,-1))}return Bc(),n=dl(Error(ne(421))),Ks(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dx.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,kt=Br(i.nextSibling),Nt=t,Ce=!0,Ht=null,e!==null&&(Pt[Ct++]=gr,Pt[Ct++]=yr,Pt[Ct++]=gn,gr=e.id,yr=e.overflow,gn=t),t=Mc(t,n.children),t.flags|=4096,t)}function yf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fu(e.return,t,r)}function fl(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Um(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ut(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yf(e,r,t);else if(e.tag===19)yf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Fo(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),fl(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}fl(t,!0,r,null,s);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Gr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function X0(e,t,r){switch(t.tag){case 3:Fm(t),ri();break;case 5:pm(t);break;case 1:wt(t.type)&&Ro(t);break;case 4:Tc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;je(Mo,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?qm(e,t,r):(je(Ie,Ie.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Um(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,$m(e,t,r)}return Sr(e,t,r)}var Bm,bu,Vm,Hm;Bm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bu=function(){};Vm=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,dn(lr.current);var s=null;switch(r){case"input":i=Ul(e,i),n=Ul(e,n),s=[];break;case"select":i=Me({},i,{value:void 0}),n=Me({},n,{value:void 0}),s=[];break;case"textarea":i=Hl(e,i),n=Hl(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Co)}Gl(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(is.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(u=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==u&&(l!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(is.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ne("scroll",e),s||u===l||(s=[])):(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Hm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ai(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ex(e,t,r){var n=t.pendingProps;switch(_c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return wt(t.type)&&Lo(),st(t),null;case 3:return n=t.stateNode,ii(),Te(bt),Te(at),Pc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Ou(Ht),Ht=null))),bu(e,t),st(t),null;case 5:Ac(t);var i=dn(gs.current);if(r=t.type,e!==null&&t.stateNode!=null)Vm(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return st(t),null}if(e=dn(lr.current),Ws(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ir]=t,n[ps]=s,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(i=0;i<Bi.length;i++)Ne(Bi[i],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":kd(n,s),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",n);break;case"textarea":Ed(n,s),Ne("invalid",n)}Gl(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Hs(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Hs(n.textContent,u,e),i=["children",""+u]):is.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Ms(n),Nd(n,s,!0);break;case"textarea":Ms(n),Od(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Co)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ir]=t,e[ps]=n,Bm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kl(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),i=n;break;case"iframe":case"object":case"embed":Ne("load",e),i=n;break;case"video":case"audio":for(i=0;i<Bi.length;i++)Ne(Bi[i],e);i=n;break;case"source":Ne("error",e),i=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=n;break;case"details":Ne("toggle",e),i=n;break;case"input":kd(e,n),i=Ul(e,n),Ne("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Me({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":Ed(e,n),i=Hl(e,n),Ne("invalid",e);break;default:i=n}Gl(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?_p(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bp(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ss(e,l):typeof l=="number"&&ss(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(is.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",e):l!=null&&ac(e,s,l,o))}switch(r){case"input":Ms(e),Nd(e,n,!1);break;case"textarea":Ms(e),Od(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jr(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Gn(e,!!n.multiple,s,!1):n.defaultValue!=null&&Gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Co)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=dn(gs.current),dn(lr.current),Ws(t)){if(n=t.stateNode,r=t.memoizedProps,n[ir]=t,(s=n.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ir]=t,t.stateNode=n}return st(t),null;case 13:if(Te(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&kt!==null&&t.mode&1&&!(t.flags&128))um(),ri(),t.flags|=98560,s=!1;else if(s=Ws(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[ir]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),s=!1}else Ht!==null&&(Ou(Ht),Ht=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Je===0&&(Je=3):Bc())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ii(),bu(e,t),e===null&&fs(t.stateNode.containerInfo),st(t),null;case 10:return Nc(t.type._context),st(t),null;case 17:return wt(t.type)&&Lo(),st(t),null;case 19:if(Te(Ie),s=t.memoizedState,s===null)return st(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ai(s,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fo(e),o!==null){for(t.flags|=128,Ai(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ue()>oi&&(t.flags|=128,n=!0,Ai(s,!1),t.lanes=4194304)}else{if(!n)if(e=Fo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ai(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return st(t),null}else 2*Ue()-s.renderingStartTime>oi&&r!==1073741824&&(t.flags|=128,n=!0,Ai(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ue(),t.sibling=null,r=Ie.current,je(Ie,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return Uc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function tx(e,t){switch(_c(t),t.tag){case 1:return wt(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),Te(bt),Te(at),Pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ac(t),null;case 13:if(Te(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ie),null;case 4:return ii(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var Js=!1,ot=!1,rx=typeof WeakSet=="function"?WeakSet:Set,le=null;function Bn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function wu(e,t,r){try{r()}catch(n){$e(e,t,n)}}var vf=!1;function nx(e,t){if(iu=To,e=Yp(),bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,l=-1,d=0,p=0,f=e,c=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(u=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)c=f,f=g;for(;;){if(f===e)break t;if(c===r&&++d===i&&(u=o),c===s&&++p===n&&(l=o),(g=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=g}r=u===-1||l===-1?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(su={focusedElem:e,selectionRange:r},To=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ut(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(v){$e(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return b=vf,vf=!1,b}function Qi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&wu(t,r,s)}i=i.next}while(i!==n)}}function ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _u(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wm(e){var t=e.alternate;t!==null&&(e.alternate=null,Wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[ps],delete t[lu],delete t[z0],delete t[F0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gm(e){return e.tag===5||e.tag===3||e.tag===4}function xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Co));else if(n!==4&&(e=e.child,e!==null))for(Su(e,t,r),e=e.sibling;e!==null;)Su(e,t,r),e=e.sibling}function ju(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ju(e,t,r),e=e.sibling;e!==null;)ju(e,t,r),e=e.sibling}var et=null,Bt=!1;function Or(e,t,r){for(r=r.child;r!==null;)Km(e,t,r),r=r.sibling}function Km(e,t,r){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(aa,r)}catch{}switch(r.tag){case 5:ot||Bn(r,t);case 6:var n=et,i=Bt;et=null,Or(e,t,r),et=n,Bt=i,et!==null&&(Bt?(e=et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(Bt?(e=et,r=r.stateNode,e.nodeType===8?sl(e.parentNode,r):e.nodeType===1&&sl(e,r),us(e)):sl(et,r.stateNode));break;case 4:n=et,i=Bt,et=r.stateNode.containerInfo,Bt=!0,Or(e,t,r),et=n,Bt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wu(r,t,o),i=i.next}while(i!==n)}Or(e,t,r);break;case 1:if(!ot&&(Bn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){$e(r,t,u)}Or(e,t,r);break;case 21:Or(e,t,r);break;case 22:r.mode&1?(ot=(n=ot)||r.memoizedState!==null,Or(e,t,r),ot=n):Or(e,t,r);break;default:Or(e,t,r)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rx),t.forEach(function(n){var i=fx.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:et=u.stateNode,Bt=!1;break e;case 3:et=u.stateNode.containerInfo,Bt=!0;break e;case 4:et=u.stateNode.containerInfo,Bt=!0;break e}u=u.return}if(et===null)throw Error(ne(160));Km(s,o,i),et=null,Bt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){$e(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jm(t,e),t=t.sibling}function Jm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),er(e),n&4){try{Qi(3,e,e.return),ma(3,e)}catch(y){$e(e,e.return,y)}try{Qi(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:Ft(t,e),er(e),n&512&&r!==null&&Bn(r,r.return);break;case 5:if(Ft(t,e),er(e),n&512&&r!==null&&Bn(r,r.return),e.flags&32){var i=e.stateNode;try{ss(i,"")}catch(y){$e(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&yp(i,s),Kl(u,o);var d=Kl(u,s);for(o=0;o<l.length;o+=2){var p=l[o],f=l[o+1];p==="style"?_p(i,f):p==="dangerouslySetInnerHTML"?bp(i,f):p==="children"?ss(i,f):ac(i,p,f,d)}switch(u){case"input":Bl(i,s);break;case"textarea":vp(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Gn(i,!!s.multiple,g,!1):c!==!!s.multiple&&(s.defaultValue!=null?Gn(i,!!s.multiple,s.defaultValue,!0):Gn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ps]=s}catch(y){$e(e,e.return,y)}}break;case 6:if(Ft(t,e),er(e),n&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){$e(e,e.return,y)}}break;case 3:if(Ft(t,e),er(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:Ft(t,e),er(e);break;case 13:Ft(t,e),er(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fc=Ue())),n&4&&bf(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(d=ot)||p,Ft(t,e),ot=d):Ft(t,e),er(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(le=e,p=e.child;p!==null;){for(f=le=p;le!==null;){switch(c=le,g=c.child,c.tag){case 0:case 11:case 14:case 15:Qi(4,c,c.return);break;case 1:Bn(c,c.return);var b=c.stateNode;if(typeof b.componentWillUnmount=="function"){n=c,r=c.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){$e(n,r,y)}}break;case 5:Bn(c,c.return);break;case 22:if(c.memoizedState!==null){_f(f);continue}}g!==null?(g.return=c,le=g):_f(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=wp("display",o))}catch(y){$e(e,e.return,y)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(y){$e(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ft(t,e),er(e),n&4&&bf(e);break;case 21:break;default:Ft(t,e),er(e)}}function er(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gm(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ss(i,""),n.flags&=-33);var s=xf(e);ju(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=xf(e);Su(e,u,o);break;default:throw Error(ne(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ix(e,t,r){le=e,Ym(e)}function Ym(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Js;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||ot;u=Js;var d=ot;if(Js=o,(ot=l)&&!d)for(le=i;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?Sf(i):l!==null?(l.return=o,le=l):Sf(i);for(;s!==null;)le=s,Ym(s),s=s.sibling;le=i,Js=u,ot=d}wf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):wf(e)}}function wf(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||ma(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ot)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sf(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sf(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&us(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}ot||t.flags&512&&_u(t)}catch(c){$e(t,t.return,c)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function _f(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function Sf(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ma(4,t)}catch(l){$e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){$e(t,i,l)}}var s=t.return;try{_u(t)}catch(l){$e(t,s,l)}break;case 5:var o=t.return;try{_u(t)}catch(l){$e(t,o,l)}}}catch(l){$e(t,t.return,l)}if(t===e){le=null;break}var u=t.sibling;if(u!==null){u.return=t.return,le=u;break}le=t.return}}var sx=Math.ceil,Bo=Nr.ReactCurrentDispatcher,$c=Nr.ReactCurrentOwner,Dt=Nr.ReactCurrentBatchConfig,xe=0,Ze=null,We=null,tt=0,jt=0,Vn=Zr(0),Je=0,bs=null,vn=0,ga=0,zc=0,Zi=null,gt=null,Fc=0,oi=1/0,fr=null,Vo=!1,ku=null,Hr=null,Ys=!1,zr=null,Ho=0,Xi=0,Nu=null,go=-1,yo=0;function dt(){return xe&6?Ue():go!==-1?go:go=Ue()}function Wr(e){return e.mode&1?xe&2&&tt!==0?tt&-tt:U0.transition!==null?(yo===0&&(yo=Rp()),yo):(e=we,e!==0||(e=window.event,e=e===void 0?16:qp(e.type)),e):1}function Kt(e,t,r,n){if(50<Xi)throw Xi=0,Nu=null,Error(ne(185));ks(e,r,n),(!(xe&2)||e!==Ze)&&(e===Ze&&(!(xe&2)&&(ga|=r),Je===4&&Ir(e,tt)),_t(e,n),r===1&&xe===0&&!(t.mode&1)&&(oi=Ue()+500,fa&&Xr()))}function _t(e,t){var r=e.callbackNode;Uv(e,t);var n=Oo(e,e===Ze?tt:0);if(n===0)r!==null&&Pd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pd(r),t===1)e.tag===0?q0(jf.bind(null,e)):om(jf.bind(null,e)),M0(function(){!(xe&6)&&Xr()}),r=null;else{switch(Ip(n)){case 1:r=fc;break;case 4:r=Cp;break;case 16:r=Eo;break;case 536870912:r=Lp;break;default:r=Eo}r=ig(r,Qm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qm(e,t){if(go=-1,yo=0,xe&6)throw Error(ne(327));var r=e.callbackNode;if(Zn()&&e.callbackNode!==r)return null;var n=Oo(e,e===Ze?tt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wo(e,n);else{t=n;var i=xe;xe|=2;var s=Xm();(Ze!==e||tt!==t)&&(fr=null,oi=Ue()+500,hn(e,t));do try{lx();break}catch(u){Zm(e,u)}while(!0);kc(),Bo.current=s,xe=i,We!==null?t=0:(Ze=null,tt=0,t=Je)}if(t!==0){if(t===2&&(i=Xl(e),i!==0&&(n=i,t=Eu(e,i))),t===1)throw r=bs,hn(e,0),Ir(e,n),_t(e,Ue()),r;if(t===6)Ir(e,n);else{if(i=e.current.alternate,!(n&30)&&!ox(i)&&(t=Wo(e,n),t===2&&(s=Xl(e),s!==0&&(n=s,t=Eu(e,s))),t===1))throw r=bs,hn(e,0),Ir(e,n),_t(e,Ue()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:sn(e,gt,fr);break;case 3:if(Ir(e,n),(n&130023424)===n&&(t=Fc+500-Ue(),10<t)){if(Oo(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=au(sn.bind(null,e,gt,fr),t);break}sn(e,gt,fr);break;case 4:if(Ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Gt(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sx(n/1960))-n,10<n){e.timeoutHandle=au(sn.bind(null,e,gt,fr),n);break}sn(e,gt,fr);break;case 5:sn(e,gt,fr);break;default:throw Error(ne(329))}}}return _t(e,Ue()),e.callbackNode===r?Qm.bind(null,e):null}function Eu(e,t){var r=Zi;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=gt,gt=r,t!==null&&Ou(t)),e}function Ou(e){gt===null?gt=e:gt.push.apply(gt,e)}function ox(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Jt(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~zc,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gt(t),n=1<<r;e[r]=-1,t&=~n}}function jf(e){if(xe&6)throw Error(ne(327));Zn();var t=Oo(e,0);if(!(t&1))return _t(e,Ue()),null;var r=Wo(e,t);if(e.tag!==0&&r===2){var n=Xl(e);n!==0&&(t=n,r=Eu(e,n))}if(r===1)throw r=bs,hn(e,0),Ir(e,t),_t(e,Ue()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,gt,fr),_t(e,Ue()),null}function qc(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(oi=Ue()+500,fa&&Xr())}}function xn(e){zr!==null&&zr.tag===0&&!(xe&6)&&Zn();var t=xe;xe|=1;var r=Dt.transition,n=we;try{if(Dt.transition=null,we=1,e)return e()}finally{we=n,Dt.transition=r,xe=t,!(xe&6)&&Xr()}}function Uc(){jt=Vn.current,Te(Vn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D0(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(_c(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lo();break;case 3:ii(),Te(bt),Te(at),Pc();break;case 5:Ac(n);break;case 4:ii();break;case 13:Te(Ie);break;case 19:Te(Ie);break;case 10:Nc(n.type._context);break;case 22:case 23:Uc()}r=r.return}if(Ze=e,We=e=Gr(e.current,null),tt=jt=t,Je=0,bs=null,zc=ga=vn=0,gt=Zi=null,cn!==null){for(t=0;t<cn.length;t++)if(r=cn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}cn=null}return e}function Zm(e,t){do{var r=We;try{if(kc(),ho.current=Uo,qo){for(var n=De.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qo=!1}if(yn=0,Qe=Ke=De=null,Yi=!1,ys=0,$c.current=null,r===null||r.return===null){Je=1,bs=t,We=null;break}e:{var s=e,o=r.return,u=r,l=t;if(t=tt,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,p=u,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var c=p.alternate;c?(p.updateQueue=c.updateQueue,p.memoizedState=c.memoizedState,p.lanes=c.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=df(o);if(g!==null){g.flags&=-257,ff(g,o,u,s,t),g.mode&1&&cf(s,d,t),t=g,l=d;var b=t.updateQueue;if(b===null){var y=new Set;y.add(l),t.updateQueue=y}else b.add(l);break e}else{if(!(t&1)){cf(s,d,t),Bc();break e}l=Error(ne(426))}}else if(Ce&&u.mode&1){var w=df(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ff(w,o,u,s,t),Sc(si(l,u));break e}}s=l=si(l,u),Je!==4&&(Je=2),Zi===null?Zi=[s]:Zi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Im(s,l,t);nf(s,m);break e;case 1:u=l;var h=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hr===null||!Hr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Dm(s,u,t);nf(s,v);break e}}s=s.return}while(s!==null)}tg(r)}catch(_){t=_,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function Xm(){var e=Bo.current;return Bo.current=Uo,e===null?Uo:e}function Bc(){(Je===0||Je===3||Je===2)&&(Je=4),Ze===null||!(vn&268435455)&&!(ga&268435455)||Ir(Ze,tt)}function Wo(e,t){var r=xe;xe|=2;var n=Xm();(Ze!==e||tt!==t)&&(fr=null,hn(e,t));do try{ax();break}catch(i){Zm(e,i)}while(!0);if(kc(),xe=r,Bo.current=n,We!==null)throw Error(ne(261));return Ze=null,tt=0,Je}function ax(){for(;We!==null;)eg(We)}function lx(){for(;We!==null&&!Lv();)eg(We)}function eg(e){var t=ng(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?tg(e):We=t,$c.current=null}function tg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tx(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,We=null;return}}else if(r=ex(r,t,jt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Je===0&&(Je=5)}function sn(e,t,r){var n=we,i=Dt.transition;try{Dt.transition=null,we=1,ux(e,t,r,n)}finally{Dt.transition=i,we=n}return null}function ux(e,t,r,n){do Zn();while(zr!==null);if(xe&6)throw Error(ne(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Bv(e,s),e===Ze&&(We=Ze=null,tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ys||(Ys=!0,ig(Eo,function(){return Zn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=we;we=1;var u=xe;xe|=4,$c.current=null,nx(e,r),Jm(r,e),T0(su),To=!!iu,su=iu=null,e.current=r,ix(r),Rv(),xe=u,we=o,Dt.transition=s}else e.current=r;if(Ys&&(Ys=!1,zr=e,Ho=i),s=e.pendingLanes,s===0&&(Hr=null),Mv(r.stateNode),_t(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vo)throw Vo=!1,e=ku,ku=null,e;return Ho&1&&e.tag!==0&&Zn(),s=e.pendingLanes,s&1?e===Nu?Xi++:(Xi=0,Nu=e):Xi=0,Xr(),null}function Zn(){if(zr!==null){var e=Ip(Ho),t=Dt.transition,r=we;try{if(Dt.transition=null,we=16>e?16:e,zr===null)var n=!1;else{if(e=zr,zr=null,Ho=0,xe&6)throw Error(ne(331));var i=xe;for(xe|=4,le=e.current;le!==null;){var s=le,o=s.child;if(le.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var d=u[l];for(le=d;le!==null;){var p=le;switch(p.tag){case 0:case 11:case 15:Qi(8,p,s)}var f=p.child;if(f!==null)f.return=p,le=f;else for(;le!==null;){p=le;var c=p.sibling,g=p.return;if(Wm(p),p===d){le=null;break}if(c!==null){c.return=g,le=c;break}le=g}}}var b=s.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,le=o;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,le=m;break e}le=s.return}}var h=e.current;for(le=h;le!==null;){o=le;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,le=x;else e:for(o=h;le!==null;){if(u=le,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ma(9,u)}}catch(_){$e(u,u.return,_)}if(u===o){le=null;break e}var v=u.sibling;if(v!==null){v.return=u.return,le=v;break e}le=u.return}}if(xe=i,Xr(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(aa,e)}catch{}n=!0}return n}finally{we=r,Dt.transition=t}}return!1}function kf(e,t,r){t=si(r,t),t=Im(e,t,1),e=Vr(e,t,1),t=dt(),e!==null&&(ks(e,1,t),_t(e,t))}function $e(e,t,r){if(e.tag===3)kf(e,e,r);else for(;t!==null;){if(t.tag===3){kf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hr===null||!Hr.has(n))){e=si(r,e),e=Dm(t,e,1),t=Vr(t,e,1),e=dt(),t!==null&&(ks(t,1,e),_t(t,e));break}}t=t.return}}function cx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&r,Ze===e&&(tt&r)===r&&(Je===4||Je===3&&(tt&130023424)===tt&&500>Ue()-Fc?hn(e,0):zc|=r),_t(e,t)}function rg(e,t){t===0&&(e.mode&1?(t=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):t=1);var r=dt();e=_r(e,t),e!==null&&(ks(e,t,r),_t(e,r))}function dx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rg(e,r)}function fx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),rg(e,r)}var ng;ng=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,X0(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Ce&&t.flags&1048576&&am(t,Do,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mo(e,t),e=t.pendingProps;var i=ti(t,at.current);Qn(t,r),i=Lc(null,t,n,e,i,r);var s=Rc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(n)?(s=!0,Ro(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oc(t),i.updater=pa,t.stateNode=i,i._reactInternals=t,pu(t,n,e,r),t=yu(null,t,n,!0,s,r)):(t.tag=0,Ce&&s&&wc(t),ut(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=px(n),e=Ut(n,e),i){case 0:t=gu(null,t,n,e,r);break e;case 1:t=mf(null,t,n,e,r);break e;case 11:t=hf(null,t,n,e,r);break e;case 14:t=pf(null,t,n,Ut(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),gu(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),mf(e,t,n,i,r);case 3:e:{if(Fm(t),e===null)throw Error(ne(387));n=t.pendingProps,s=t.memoizedState,i=s.element,hm(e,t),zo(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=si(Error(ne(423)),t),t=gf(e,t,n,r,i);break e}else if(n!==i){i=si(Error(ne(424)),t),t=gf(e,t,n,r,i);break e}else for(kt=Br(t.stateNode.containerInfo.firstChild),Nt=t,Ce=!0,Ht=null,r=dm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ri(),n===i){t=Sr(e,t,r);break e}ut(e,t,n,r)}t=t.child}return t;case 5:return pm(t),e===null&&du(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ou(n,i)?o=null:s!==null&&ou(n,s)&&(t.flags|=32),zm(e,t),ut(e,t,o,r),t.child;case 6:return e===null&&du(t),null;case 13:return qm(e,t,r);case 4:return Tc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ni(t,null,n,r):ut(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),hf(e,t,n,i,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,je(Mo,n._currentValue),n._currentValue=o,s!==null)if(Jt(s.value,o)){if(s.children===i.children&&!bt.current){t=Sr(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=vr(-1,r&-r),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),fu(s.return,r,t),u.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),fu(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ut(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Qn(t,r),i=$t(i),n=n(i),t.flags|=1,ut(e,t,n,r),t.child;case 14:return n=t.type,i=Ut(n,t.pendingProps),i=Ut(n.type,i),pf(e,t,n,i,r);case 15:return Mm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ut(n,i),mo(e,t),t.tag=1,wt(n)?(e=!0,Ro(t)):e=!1,Qn(t,r),Rm(t,n,i),pu(t,n,i,r),yu(null,t,n,!0,e,r);case 19:return Um(e,t,r);case 22:return $m(e,t,r)}throw Error(ne(156,t.tag))};function ig(e,t){return Pp(e,t)}function hx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,r,n){return new hx(e,t,r,n)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function px(e){if(typeof e=="function")return Vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uc)return 11;if(e===cc)return 14}return 2}function Gr(e,t){var r=e.alternate;return r===null?(r=It(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vo(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Vc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rn:return pn(r.children,i,s,t);case lc:o=8,i|=8;break;case $l:return e=It(12,r,t,i|2),e.elementType=$l,e.lanes=s,e;case zl:return e=It(13,r,t,i),e.elementType=zl,e.lanes=s,e;case Fl:return e=It(19,r,t,i),e.elementType=Fl,e.lanes=s,e;case pp:return ya(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fp:o=10;break e;case hp:o=9;break e;case uc:o=11;break e;case cc:o=14;break e;case Cr:o=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=It(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function pn(e,t,r,n){return e=It(7,e,n,t),e.lanes=r,e}function ya(e,t,r,n){return e=It(22,e,n,t),e.elementType=pp,e.lanes=r,e.stateNode={isHidden:!1},e}function hl(e,t,r){return e=It(6,e,null,t),e.lanes=r,e}function pl(e,t,r){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mx(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,r,n,i,s,o,u,l){return e=new mx(e,t,r,u,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=It(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oc(s),e}function gx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sg(e){if(!e)return Yr;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(wt(r))return sm(e,r,t)}return t}function og(e,t,r,n,i,s,o,u,l){return e=Hc(r,n,!0,e,i,s,o,u,l),e.context=sg(null),r=e.current,n=dt(),i=Wr(r),s=vr(n,i),s.callback=t??null,Vr(r,s,i),e.current.lanes=i,ks(e,i,n),_t(e,n),e}function va(e,t,r,n){var i=t.current,s=dt(),o=Wr(i);return r=sg(r),t.context===null?t.context=r:t.pendingContext=r,t=vr(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vr(i,t,o),e!==null&&(Kt(e,i,o,s),fo(e,i,o)),o}function Go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wc(e,t){Nf(e,t),(e=e.alternate)&&Nf(e,t)}function yx(){return null}var ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}xa.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));va(e,t,null,null)};xa.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){va(null,e,null,null)}),t[wr]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=$p();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rr.length&&t!==0&&t<Rr[r].priority;r++);Rr.splice(r,0,e),r===0&&Fp(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function vx(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Go(o);s.call(d)}}var o=og(t,n,e,0,null,!1,!1,"",Ef);return e._reactRootContainer=o,e[wr]=o.current,fs(e.nodeType===8?e.parentNode:e),xn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var d=Go(l);u.call(d)}}var l=Hc(e,0,!1,null,null,!1,!1,"",Ef);return e._reactRootContainer=l,e[wr]=l.current,fs(e.nodeType===8?e.parentNode:e),xn(function(){va(t,l,r,n)}),l}function wa(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=Go(o);u.call(l)}}va(t,o,e,i)}else o=vx(r,t,e,i,n);return Go(o)}Dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ui(t.pendingLanes);r!==0&&(hc(t,r|1),_t(t,Ue()),!(xe&6)&&(oi=Ue()+500,Xr()))}break;case 13:xn(function(){var n=_r(e,1);if(n!==null){var i=dt();Kt(n,e,1,i)}}),Wc(e,1)}};pc=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var r=dt();Kt(t,e,134217728,r)}Wc(e,134217728)}};Mp=function(e){if(e.tag===13){var t=Wr(e),r=_r(e,t);if(r!==null){var n=dt();Kt(r,e,t,n)}Wc(e,t)}};$p=function(){return we};zp=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Yl=function(e,t,r){switch(t){case"input":if(Bl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=da(n);if(!i)throw Error(ne(90));gp(n),Bl(n,i)}}}break;case"textarea":vp(e,r);break;case"select":t=r.value,t!=null&&Gn(e,!!r.multiple,t,!1)}};kp=qc;Np=xn;var xx={usingClientEntryPoint:!1,Events:[Es,$n,da,Sp,jp,qc]},Pi={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bx={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tp(e),e===null?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{aa=Qs.inject(bx),ar=Qs}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;Ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(ne(200));return gx(e,t,null,r)};Ot.createRoot=function(e,t){if(!Kc(e))throw Error(ne(299));var r=!1,n="",i=ag;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,null,r,!1,n,i),e[wr]=t.current,fs(e.nodeType===8?e.parentNode:e),new Gc(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Tp(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return xn(e)};Ot.hydrate=function(e,t,r){if(!ba(t))throw Error(ne(200));return wa(null,e,t,!0,r)};Ot.hydrateRoot=function(e,t,r){if(!Kc(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ag;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=og(t,null,e,1,r??null,i,!1,s,o),e[wr]=t.current,fs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new xa(t)};Ot.render=function(e,t,r){if(!ba(t))throw Error(ne(200));return wa(null,e,t,!1,r)};Ot.unmountComponentAtNode=function(e){if(!ba(e))throw Error(ne(40));return e._reactRootContainer?(xn(function(){wa(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Ot.unstable_batchedUpdates=qc;Ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ba(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return wa(e,t,r,!1,n)};Ot.version="18.3.1-next-f1338f8080-20240426";function lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lg)}catch(e){console.error(e)}}lg(),lp.exports=Ot;var ug=lp.exports,cg,Of=ug;cg=Of.createRoot,Of.hydrateRoot;/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tf="popstate";function wx(e={}){function t(n,i){let{pathname:s,search:o,hash:u}=n.location;return Tu("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ws(i)}return Sx(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _x(){return Math.random().toString(36).substring(2,10)}function Af(e,t){return{usr:e.state,key:e.key,idx:t}}function Tu(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hi(t):t,state:r,key:t&&t.key||n||_x()}}function ws({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Sx(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u="POP",l=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function f(){u="POP";let w=p(),m=w==null?null:w-d;d=w,l&&l({action:u,location:y.location,delta:m})}function c(w,m){u="PUSH";let h=Tu(y.location,w,m);d=p()+1;let x=Af(h,d),v=y.createHref(h);try{o.pushState(x,"",v)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(v)}s&&l&&l({action:u,location:y.location,delta:1})}function g(w,m){u="REPLACE";let h=Tu(y.location,w,m);d=p();let x=Af(h,d),v=y.createHref(h);o.replaceState(x,"",v),s&&l&&l({action:u,location:y.location,delta:0})}function b(w){return jx(w)}let y={get action(){return u},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tf,f),l=w,()=>{i.removeEventListener(Tf,f),l=null}},createHref(w){return t(i,w)},createURL:b,encodeLocation(w){let m=b(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:g,go(w){return o.go(w)}};return y}function jx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ws(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function dg(e,t,r="/"){return kx(e,t,r,!1)}function kx(e,t,r,n){let i=typeof t=="string"?hi(t):t,s=jr(i.pathname||"/",r);if(s==null)return null;let o=fg(e);Nx(o);let u=null;for(let l=0;u==null&&l<o.length;++l){let d=Mx(s);u=Ix(o[l],d,n)}return u}function fg(e,t=[],r=[],n=""){let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let d=xr([n,l.relativePath]),p=r.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),fg(s.children,t,p,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Lx(d,s.index),routesMeta:p})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of hg(s.path))i(s,o,l)}),t}function hg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=hg(n.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>e.startsWith("/")&&l===""?"/":l)}function Nx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rx(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ex=/^:[\w-]+$/,Ox=3,Tx=2,Ax=1,Px=10,Cx=-2,Pf=e=>e==="*";function Lx(e,t){let r=e.split("/"),n=r.length;return r.some(Pf)&&(n+=Cx),t&&(n+=Tx),r.filter(i=>!Pf(i)).reduce((i,s)=>i+(Ex.test(s)?Ox:s===""?Ax:Px),n)}function Rx(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Ix(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let u=0;u<n.length;++u){let l=n[u],d=u===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=Ko({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},p),c=l.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Ko({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:xr([s,f.pathname]),pathnameBase:qx(xr([s,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(s=xr([s,f.pathnameBase]))}return o}function Ko(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dx(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:f},c)=>{if(p==="*"){let b=u[c]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=u[c];return f&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function Dx(e,t=!1,r=!0){Yt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,l)=>(n.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $x(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?hi(e):e;return{pathname:r?r.startsWith("/")?r:zx(r,t):t,search:Ux(n),hash:Bx(i)}}function zx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ml(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Jc(e){let t=Fx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Yc(e,t,r,n=!1){let i;typeof e=="string"?i=hi(e):(i={...e},Le(!i.pathname||!i.pathname.includes("?"),ml("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),ml("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),ml("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}u=f>=0?t[f]:"/"}let l=$x(i,u),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||p)&&(l.pathname+="/"),l}var xr=e=>e.join("/").replace(/\/\/+/g,"/"),qx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pg=["POST","PUT","PATCH","DELETE"];new Set(pg);var Hx=["GET",...pg];new Set(Hx);var pi=q.createContext(null);pi.displayName="DataRouter";var _a=q.createContext(null);_a.displayName="DataRouterState";q.createContext(!1);var mg=q.createContext({isTransitioning:!1});mg.displayName="ViewTransition";var Wx=q.createContext(new Map);Wx.displayName="Fetchers";var Gx=q.createContext(null);Gx.displayName="Await";var Zt=q.createContext(null);Zt.displayName="Navigation";var Ts=q.createContext(null);Ts.displayName="Location";var Xt=q.createContext({outlet:null,matches:[],isDataRoute:!1});Xt.displayName="Route";var Qc=q.createContext(null);Qc.displayName="RouteError";function Kx(e,{relative:t}={}){Le(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=q.useContext(Zt),{hash:i,pathname:s,search:o}=As(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:xr([r,s])),n.createHref({pathname:u,search:o,hash:i})}function mi(){return q.useContext(Ts)!=null}function ur(){return Le(mi(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ts).location}var gg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yg(e){q.useContext(Zt).static||q.useLayoutEffect(e)}function vg(){let{isDataRoute:e}=q.useContext(Xt);return e?l1():Jx()}function Jx(){Le(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=q.useContext(pi),{basename:t,navigator:r}=q.useContext(Zt),{matches:n}=q.useContext(Xt),{pathname:i}=ur(),s=JSON.stringify(Jc(n)),o=q.useRef(!1);return yg(()=>{o.current=!0}),q.useCallback((l,d={})=>{if(Yt(o.current,gg),!o.current)return;if(typeof l=="number"){r.go(l);return}let p=Yc(l,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:xr([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,s,i,e])}q.createContext(null);function Yx(){let{matches:e}=q.useContext(Xt),t=e[e.length-1];return t?t.params:{}}function As(e,{relative:t}={}){let{matches:r}=q.useContext(Xt),{pathname:n}=ur(),i=JSON.stringify(Jc(r));return q.useMemo(()=>Yc(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function Qx(e,t){return xg(e,t)}function xg(e,t,r,n){var m;Le(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=q.useContext(Zt),{matches:s}=q.useContext(Xt),o=s[s.length-1],u=o?o.params:{},l=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let h=p&&p.path||"";bg(l,!p||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let f=ur(),c;if(t){let h=typeof t=="string"?hi(t):t;Le(d==="/"||((m=h.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${h.pathname}" was given in the \`location\` prop.`),c=h}else c=f;let g=c.pathname||"/",b=g;if(d!=="/"){let h=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let y=dg(e,{pathname:b});Yt(p||y!=null,`No routes matched location "${c.pathname}${c.search}${c.hash}" `),Yt(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${c.pathname}${c.search}${c.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=r1(y&&y.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:xr([d,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:xr([d,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),s,r,n);return t&&w?q.createElement(Ts.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...c},navigationType:"POP"}},w):w}function Zx(){let e=a1(),t=Vx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:s},"ErrorBoundary")," or"," ",q.createElement("code",{style:s},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),r?q.createElement("pre",{style:i},r):null,o)}var Xx=q.createElement(Zx,null),e1=class extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?q.createElement(Xt.Provider,{value:this.props.routeContext},q.createElement(Qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t1({routeContext:e,match:t,children:r}){let n=q.useContext(pi);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Xt.Provider,{value:e},r)}function r1(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Le(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,u=-1;if(r)for(let l=0;l<i.length;l++){let d=i[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:p,errors:f}=r,c=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||c){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((l,d,p)=>{let f,c=!1,g=null,b=null;r&&(f=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||Xx,o&&(u<0&&p===0?(bg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,b=null):u===p&&(c=!0,b=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),w=()=>{let m;return f?m=g:c?m=b:d.route.Component?m=q.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=l,q.createElement(t1,{match:d,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?q.createElement(e1,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}function Zc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(e){let t=q.useContext(pi);return Le(t,Zc(e)),t}function i1(e){let t=q.useContext(_a);return Le(t,Zc(e)),t}function s1(e){let t=q.useContext(Xt);return Le(t,Zc(e)),t}function Xc(e){let t=s1(e),r=t.matches[t.matches.length-1];return Le(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function o1(){return Xc("useRouteId")}function a1(){var n;let e=q.useContext(Qc),t=i1("useRouteError"),r=Xc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function l1(){let{router:e}=n1("useNavigate"),t=Xc("useNavigate"),r=q.useRef(!1);return yg(()=>{r.current=!0}),q.useCallback(async(i,s={})=>{Yt(r.current,gg),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Cf={};function bg(e,t,r){!t&&!Cf[e]&&(Cf[e]=!0,Yt(!1,r))}q.memo(u1);function u1({routes:e,future:t,state:r}){return xg(e,void 0,r,t)}function c1({to:e,replace:t,state:r,relative:n}){Le(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(Zt);Yt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=q.useContext(Xt),{pathname:o}=ur(),u=vg(),l=Yc(e,Jc(s),o,n==="path"),d=JSON.stringify(l);return q.useEffect(()=>{u(JSON.parse(d),{replace:t,state:r,relative:n})},[u,d,n,t,r]),null}function At(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d1({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Le(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=hi(r));let{pathname:l="/",search:d="",hash:p="",state:f=null,key:c="default"}=r,g=q.useMemo(()=>{let b=jr(l,o);return b==null?null:{location:{pathname:b,search:d,hash:p,state:f,key:c},navigationType:n}},[o,l,d,p,f,c,n]);return Yt(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:q.createElement(Zt.Provider,{value:u},q.createElement(Ts.Provider,{children:t,value:g}))}function f1({children:e,location:t}){return Qx(Au(e),t)}function Au(e,t=[]){let r=[];return q.Children.forEach(e,(n,i)=>{if(!q.isValidElement(n))return;let s=[...t,i];if(n.type===q.Fragment){r.push.apply(r,Au(n.props.children,s));return}Le(n.type===At,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Au(n.props.children,s)),r.push(o)}),r}var xo="get",bo="application/x-www-form-urlencoded";function Sa(e){return e!=null&&typeof e.tagName=="string"}function h1(e){return Sa(e)&&e.tagName.toLowerCase()==="button"}function p1(e){return Sa(e)&&e.tagName.toLowerCase()==="form"}function m1(e){return Sa(e)&&e.tagName.toLowerCase()==="input"}function g1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y1(e,t){return e.button===0&&(!t||t==="_self")&&!g1(e)}var Zs=null;function v1(){if(Zs===null)try{new FormData(document.createElement("form"),0),Zs=!1}catch{Zs=!0}return Zs}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gl(e){return e!=null&&!x1.has(e)?(Yt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bo}"`),null):e}function b1(e,t){let r,n,i,s,o;if(p1(e)){let u=e.getAttribute("action");n=u?jr(u,t):null,r=e.getAttribute("method")||xo,i=gl(e.getAttribute("enctype"))||bo,s=new FormData(e)}else if(h1(e)||m1(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||u.getAttribute("action");if(n=l?jr(l,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||xo,i=gl(e.getAttribute("formenctype"))||gl(u.getAttribute("enctype"))||bo,s=new FormData(u,e),!v1()){let{name:d,type:p,value:f}=e;if(p==="image"){let c=d?`${d}.`:"";s.append(`${c}x`,"0"),s.append(`${c}y`,"0")}else d&&s.append(d,f)}}else{if(Sa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xo,n=null,i=bo,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ed(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w1(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&jr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function _1(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j1(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await _1(s,r);return o.links?o.links():[]}return[]}));return O1(n.flat(1).filter(S1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lf(e,t,r,n,i,s){let o=(l,d)=>r[d]?l.route.id!==r[d].route.id:!0,u=(l,d)=>{var p;return r[d].pathname!==l.pathname||((p=r[d].route.path)==null?void 0:p.endsWith("*"))&&r[d].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,d)=>o(l,d)||u(l,d)):s==="data"?t.filter((l,d)=>{var f;let p=n.routes[l.route.id];if(!p||!p.hasLoader)return!1;if(o(l,d)||u(l,d))return!0;if(l.route.shouldRevalidate){let c=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function k1(e,t,{includeHydrateFallback:r}={}){return N1(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function N1(e){return[...new Set(e)]}function E1(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function O1(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(E1(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function wg(){let e=q.useContext(pi);return ed(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function T1(){let e=q.useContext(_a);return ed(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var td=q.createContext(void 0);td.displayName="FrameworkContext";function _g(){let e=q.useContext(td);return ed(e,"You must render this element inside a <HydratedRouter> element"),e}function A1(e,t){let r=q.useContext(td),[n,i]=q.useState(!1),[s,o]=q.useState(!1),{onFocus:u,onBlur:l,onMouseEnter:d,onMouseLeave:p,onTouchStart:f}=t,c=q.useRef(null);q.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=m=>{m.forEach(h=>{o(h.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return c.current&&w.observe(c.current),()=>{w.disconnect()}}},[e]),q.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},b=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,c,{}]:[s,c,{onFocus:Ci(u,g),onBlur:Ci(l,b),onMouseEnter:Ci(d,g),onMouseLeave:Ci(p,b),onTouchStart:Ci(f,g)}]:[!1,c,{}]}function Ci(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function P1({page:e,...t}){let{router:r}=wg(),n=q.useMemo(()=>dg(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?q.createElement(L1,{page:e,matches:n,...t}):null}function C1(e){let{manifest:t,routeModules:r}=_g(),[n,i]=q.useState([]);return q.useEffect(()=>{let s=!1;return j1(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function L1({page:e,matches:t,...r}){let n=ur(),{manifest:i,routeModules:s}=_g(),{basename:o}=wg(),{loaderData:u,matches:l}=T1(),d=q.useMemo(()=>Lf(e,t,l,i,n,"data"),[e,t,l,i,n]),p=q.useMemo(()=>Lf(e,t,l,i,n,"assets"),[e,t,l,i,n]),f=q.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,y=!1;if(t.forEach(m=>{var x;let h=i.routes[m.route.id];!h||!h.hasLoader||(!d.some(v=>v.route.id===m.route.id)&&m.route.id in u&&((x=s[m.route.id])!=null&&x.shouldRevalidate)||h.hasClientLoader?y=!0:b.add(m.route.id))}),b.size===0)return[];let w=w1(e,o,"data");return y&&b.size>0&&w.searchParams.set("_routes",t.filter(m=>b.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[o,u,n,i,d,t,e,s]),c=q.useMemo(()=>k1(p,i),[p,i]),g=C1(p);return q.createElement(q.Fragment,null,f.map(b=>q.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),c.map(b=>q.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:y})=>q.createElement("link",{key:b,nonce:r.nonce,...y})))}function R1(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sg&&(window.__reactRouterVersion="7.8.0")}catch{}function I1({basename:e,children:t,window:r}){let n=q.useRef();n.current==null&&(n.current=wx({window:r,v5Compat:!0}));let i=n.current,[s,o]=q.useState({action:i.action,location:i.location}),u=q.useCallback(l=>{q.startTransition(()=>o(l))},[o]);return q.useLayoutEffect(()=>i.listen(u),[i,u]),q.createElement(d1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=q.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:u,target:l,to:d,preventScrollReset:p,viewTransition:f,...c},g){let{basename:b}=q.useContext(Zt),y=typeof d=="string"&&jg.test(d),w,m=!1;if(typeof d=="string"&&y&&(w=d,Sg))try{let P=new URL(window.location.href),N=d.startsWith("//")?new URL(P.protocol+d):new URL(d),O=jr(N.pathname,b);N.origin===P.origin&&O!=null?d=O+N.search+N.hash:m=!0}catch{Yt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=Kx(d,{relative:i}),[x,v,_]=A1(n,c),j=z1(d,{replace:o,state:u,target:l,preventScrollReset:p,relative:i,viewTransition:f});function S(P){t&&t(P),P.defaultPrevented||j(P)}let E=q.createElement("a",{...c,..._,href:w||h,onClick:m||s?t:S,ref:R1(g,v),target:l,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?q.createElement(q.Fragment,null,E,q.createElement(P1,{page:h})):E});qe.displayName="Link";var D1=q.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:u,children:l,...d},p){let f=As(o,{relative:d.relative}),c=ur(),g=q.useContext(_a),{navigator:b,basename:y}=q.useContext(Zt),w=g!=null&&V1(f)&&u===!0,m=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,h=c.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(h=h.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&y&&(x=jr(x,y)||x);const v=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=h===m||!i&&h.startsWith(m)&&h.charAt(v)==="/",j=x!=null&&(x===m||!i&&x.startsWith(m)&&x.charAt(m.length)==="/"),S={isActive:_,isPending:j,isTransitioning:w},E=_?t:void 0,P;typeof n=="function"?P=n(S):P=[n,_?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(S):s;return q.createElement(qe,{...d,"aria-current":E,className:P,ref:p,style:N,to:o,viewTransition:u},typeof l=="function"?l(S):l)});D1.displayName="NavLink";var M1=q.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=xo,action:u,onSubmit:l,relative:d,preventScrollReset:p,viewTransition:f,...c},g)=>{let b=U1(),y=B1(u,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",m=typeof u=="string"&&jg.test(u),h=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let v=x.nativeEvent.submitter,_=(v==null?void 0:v.getAttribute("formmethod"))||o;b(v||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:f})};return q.createElement("form",{ref:g,method:w,action:y,onSubmit:n?l:h,...c,"data-discover":!m&&e==="render"?"true":void 0})});M1.displayName="Form";function $1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(e){let t=q.useContext(pi);return Le(t,$1(e)),t}function z1(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let u=vg(),l=ur(),d=As(e,{relative:s});return q.useCallback(p=>{if(y1(p,t)){p.preventDefault();let f=r!==void 0?r:ws(l)===ws(d);u(e,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,u,d,r,n,t,e,i,s,o])}var F1=0,q1=()=>`__${String(++F1)}__`;function U1(){let{router:e}=kg("useSubmit"),{basename:t}=q.useContext(Zt),r=o1();return q.useCallback(async(n,i={})=>{let{action:s,method:o,encType:u,formData:l,body:d}=b1(n,t);if(i.navigate===!1){let p=i.fetcherKey||q1();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:d,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function B1(e,{relative:t}={}){let{basename:r}=q.useContext(Zt),n=q.useContext(Xt);Le(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...As(e||".",{relative:t})},o=ur();if(e==null){s.search=o.search;let u=new URLSearchParams(s.search),l=u.getAll("index");if(l.some(p=>p==="")){u.delete("index"),l.filter(f=>f).forEach(f=>u.append("index",f));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:xr([r,s.pathname])),ws(s)}function V1(e,{relative:t}={}){let r=q.useContext(mg);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kg("useViewTransitionState"),i=As(e,{relative:t});if(!r.isTransitioning)return!1;let s=jr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=jr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ko(i.pathname,o)!=null||Ko(i.pathname,s)!=null}const H1="modulepreload",W1=function(e){return"/"+e},Rf={},Ps=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=W1(l),l in Rf)return;Rf[l]=!0;const d=l.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":H1,d||(f.as="script"),f.crossOrigin="",f.href=l,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((c,g)=>{f.addEventListener("load",c),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},G1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class K1 extends rd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class If extends rd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Df extends rd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pu||(Pu={}));var J1=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};class Y1{constructor(t,{headers:r={},customFetch:n,region:i=Pu.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=G1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return J1(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let u={},{region:l}=r;l||(l=this.region);const d=new URL(`${this.url}/${t}`);l&&l!=="any"&&(u["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let p;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(u["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(u["Content-Type"]="application/json",p=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p}).catch(y=>{throw new K1(y)}),c=f.headers.get("x-relay-error");if(c&&c==="true")throw new If(f);if(!f.ok)throw new Df(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield f.json():g==="application/octet-stream"?b=yield f.blob():g==="text/event-stream"?b=f:g==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Df||i instanceof If?i.context:void 0}}})}}var yt={},nd={},ja={},Cs={},ka={},Na={},Q1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=Q1();const Z1=ai.fetch,Ng=ai.fetch.bind(ai),Eg=ai.Headers,X1=ai.Request,eb=ai.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Eg,Request:X1,Response:eb,default:Ng,fetch:Z1},Symbol.toStringTag,{value:"Module"})),tb=Jy(gi);var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});let rb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ea.default=rb;var Og=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Na,"__esModule",{value:!0});const nb=Og(tb),ib=Og(Ea);let sb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,u,l;let d=null,p=null,f=null,c=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=m:p=JSON.parse(m))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");y&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,f=null,c=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const y=await s.text();try{d=JSON.parse(y),Array.isArray(d)&&s.status===404&&(p=[],d=null,c=200,g="OK")}catch{s.status===404&&y===""?(c=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,c=200,g="OK"),d&&this.shouldThrowOnError)throw new ib.default(d)}return{error:d,data:p,count:f,status:c,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,u,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Na.default=sb;var ob=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ka,"__esModule",{value:!0});const ab=ob(Na);let lb=class extends ab.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var u;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ka.default=lb;var ub=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});const cb=ub(ka);let db=class extends cb.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Cs.default=db;var fb=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});const Li=fb(Cs);let hb=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Li.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(o.length>0){const u=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Li.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",u=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const l=t.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(l.length>0){const d=[...new Set(l)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new Li.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Li.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Li.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ja.default=hb;var Oa={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.version=void 0;Ta.version="0.0.0-automated";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.DEFAULT_HEADERS=void 0;const pb=Ta;Oa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pb.version}`};var Tg=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nd,"__esModule",{value:!0});const mb=Tg(ja),gb=Tg(Cs),yb=Oa;let vb=class Ag{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},yb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new mb.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ag(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const u=new URL(`${this.url}/rpc/${t}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,f])=>f!==void 0).map(([p,f])=>[p,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([p,f])=>{u.searchParams.append(p,f)})):(o="POST",l=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new gb.default({method:o,url:u,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};nd.default=vb;var yi=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const Pg=yi(nd);yt.PostgrestClient=Pg.default;const Cg=yi(ja);yt.PostgrestQueryBuilder=Cg.default;const Lg=yi(Cs);yt.PostgrestFilterBuilder=Lg.default;const Rg=yi(ka);yt.PostgrestTransformBuilder=Rg.default;const Ig=yi(Na);yt.PostgrestBuilder=Ig.default;const Dg=yi(Ea);yt.PostgrestError=Dg.default;var xb=yt.default={PostgrestClient:Pg.default,PostgrestQueryBuilder:Cg.default,PostgrestFilterBuilder:Lg.default,PostgrestTransformBuilder:Rg.default,PostgrestBuilder:Ig.default,PostgrestError:Dg.default};const{PostgrestClient:bb,PostgrestQueryBuilder:FA,PostgrestFilterBuilder:qA,PostgrestTransformBuilder:UA,PostgrestBuilder:BA,PostgrestError:VA}=xb;class wb{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _b="2.15.1",Sb=`realtime-js/${_b}`,jb="1.0.0",Cu=1e4,kb=1e3,Nb=100;var es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(es||(es={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var Vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vt||(Vt={}));var Lu;(function(e){e.websocket="websocket"})(Lu||(Lu={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class Eb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const u=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:l,payload:d}}}class Mg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const Mf=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Ob(o,e,t,i),s),{})},Ob=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?$g(s,o):Ru(o)},$g=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cb(t,r)}switch(e){case _e.bool:return Tb(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return Ab(t);case _e.json:case _e.jsonb:return Pb(t);case _e.timestamp:return Lb(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Ru(t);default:return Ru(t)}},Ru=e=>e,Tb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ab=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cb=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>$g(t,u))}return e},Lb=e=>typeof e=="string"?e.replace(" ","T"):e,zg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yl{constructor(t,r,n={},i=Cu){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $f;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($f||($f={}));class ts{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ts.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ts.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),u={},l={};return this.map(s,(d,p)=>{o[d]||(l[d]=p)}),this.map(o,(d,p)=>{const f=s[d];if(f){const c=p.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),b=p.filter(w=>g.indexOf(w.presence_ref)<0),y=f.filter(w=>c.indexOf(w.presence_ref)<0);b.length>0&&(u[d]=b),y.length>0&&(l[d]=y)}else u[d]=p}),this.syncDiff(s,{joins:u,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,l)=>{var d;const p=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(l),p.length>0){const f=t[u].map(g=>g.presence_ref),c=p.filter(g=>f.indexOf(g.presence_ref)<0);t[u].unshift(...c)}n(u,p,l)}),this.map(o,(u,l)=>{let d=t[u];if(!d)return;const p=l.map(f=>f.presence_ref);d=d.filter(f=>p.indexOf(f.presence_ref)<0),t[u]=d,i(u,d,l),d.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zf||(zf={}));var rs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rs||(rs={}));var hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class id{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yl(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ts(this),this.broadcastEndpointURL=zg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:s,presence:o,private:u}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[rs.PRESENCE]&&this.bindings[rs.PRESENCE].length>0,p={},f={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(c=>t==null?void 0:t(hr.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var g;if(this.socket.setAuth(),c===void 0){t==null||t(hr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,w=[];for(let m=0;m<y;m++){const h=b[m],{filter:{event:x,schema:v,table:_,filter:j}}=h,S=c&&c[m];if(S&&S.event===x&&S.schema===v&&S.table===_&&S.filter===j)w.push(Object.assign(Object.assign({},h),{id:S.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(hr.SUBSCRIBED);return}}).receive("error",c=>{this.state=Ge.errored,t==null||t(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ge.joined&&t===rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,l;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new yl(this,Vt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yl(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Nb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:l,leave:d,join:p}=Vt;if(n&&[u,l,d,p].indexOf(o)>=0&&n!==this._joinRef())return;let c=this._onMessage(o,r,n);if(r&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,y,w;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=g.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(c,n)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var b,y,w,m,h,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const v=g.id,_=(b=g.filter)===null||b===void 0?void 0:b.event;return v&&((y=r.ids)===null||y===void 0?void 0:y.includes(v))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const v=(h=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return v==="*"||v===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof c=="object"&&"ids"in c){const b=c.data,{schema:y,table:w,commit_timestamp:m,type:h,errors:x}=b;c=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:m,eventType:h,new:{},old:{},errors:x}),this._getPayloadRecords(b))}g.callback(c,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&id.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vt.close,{},t)}_onError(t){this._on(Vt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mf(t.columns,t.old_record)),r}}const Ff=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rb=[1e3,2e3,5e3,1e4],Ib=1e4,Db=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mb{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ff,this.ref=0,this.reconnectTimer=null,this.logger=Ff,this.conn=null,this.sendBuffer=[],this.serializer=new Eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Ps(async()=>{const{default:u}=await Promise.resolve().then(()=>gi);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Lu.websocket}`,this.httpEndpoint=zg(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jb}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return ln.Connecting;case es.open:return ln.Open;case es.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new id(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var l;(l=this.conn)===null||l===void 0||l.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,u=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${u}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Db],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Sb};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,u,l,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Cu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Xs.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>Rb[p-1]||Ib,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(p,f)=>f(JSON.stringify(p)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $b extends sd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iu extends sd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zb=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};const Fg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fb=()=>zb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ps(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),Du=e=>{if(Array.isArray(e))return e.map(r=>Du(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Du(n)}),t},qb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Sn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};const vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ub=(e,t,r)=>Sn(void 0,void 0,void 0,function*(){const n=yield Fb();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new $b(vl(i),s,o))}).catch(i=>{t(new Iu(vl(i),i))}):t(new Iu(vl(e),e))}),Bb=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(qb(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Ls(e,t,r,n,i,s){return Sn(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(r,Bb(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ub(l,u,n))})})}function Jo(e,t,r,n){return Sn(this,void 0,void 0,function*(){return Ls(e,"GET",t,r,n)})}function pr(e,t,r,n,i){return Sn(this,void 0,void 0,function*(){return Ls(e,"POST",t,n,i,r)})}function Mu(e,t,r,n,i){return Sn(this,void 0,void 0,function*(){return Ls(e,"PUT",t,n,i,r)})}function Vb(e,t,r,n){return Sn(this,void 0,void 0,function*(){return Ls(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qg(e,t,r,n,i){return Sn(this,void 0,void 0,function*(){return Ls(e,"DELETE",t,n,i,r)})}var mt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};const Hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wb{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Fg(i)}uploadOrUpdate(t,r,n,i){return mt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},qf),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,l&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(r),p=this._getFinalPath(d),f=yield(t=="PUT"?Mu:pr)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}upload(t,r,n){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return mt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:qf.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const f=yield Mu(this.fetch,u.toString(),l,{headers:p});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return mt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield pr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),u=o.searchParams.get("token");if(!u)throw new sd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return mt(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}copy(t,r,n){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return mt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield pr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return mt(this,void 0,void 0,function*(){try{const i=yield pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}download(t,r){return mt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Jo(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ye(u))return{data:null,error:u};throw u}})}info(t){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Jo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Du(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Vb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof Iu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${d}`)}}}remove(t){return mt(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return mt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Hb),r),{prefix:t||""});return{data:yield pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Gb="2.10.5",Kb={"X-Client-Info":`storage-js/${Gb}`};var kn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};class Jb{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Kb),r),this.fetch=Fg(n)}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kn(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kn(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class Yb extends Jb{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Wb(this.url,this.headers,t,this.fetch)}}const Qb="2.55.0";let Vi="";typeof Deno<"u"?Vi="deno":typeof document<"u"?Vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vi="react-native":Vi="node";const Zb={"X-Client-Info":`supabase-js-${Vi}/${Qb}`},Xb={headers:Zb},ew={schema:"public"},tw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rw={};var nw=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};const iw=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ng:t=fetch,(...r)=>t(...r)},sw=()=>typeof Headers>"u"?Eg:Headers,ow=(e,t,r)=>{const n=iw(r),i=sw();return(s,o)=>nw(void 0,void 0,void 0,function*(){var u;const l=(u=yield t())!==null&&u!==void 0?u:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:d}))})};var aw=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};function lw(e){return e.endsWith("/")?e:e+"/"}function uw(e,t){var r,n;const{db:i,auth:s,realtime:o,global:u}=e,{db:l,auth:d,realtime:p,global:f}=t,c={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),u),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>aw(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Ug="2.71.1",Pn=30*1e3,$u=3,xl=$u*Pn,cw="http://localhost:9999",dw="supabase.auth.token",fw={"X-Client-Info":`gotrue-js/${Ug}`},zu="X-Supabase-Api-Version",Bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pw=10*60*1e3;class od extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mw extends od{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gw(e){return pe(e)&&e.name==="AuthApiError"}class Vg extends od{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class en extends od{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Pr extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yw(e){return pe(e)&&e.name==="AuthSessionMissingError"}class eo extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ro extends en{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vw(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uf extends en{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fu extends en{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function bl(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class Bf extends en{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qu extends en{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vf=` 	
\r=`.split(""),xw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vf.length;t+=1)e[Vf[t].charCodeAt(0)]=-2;for(let t=0;t<Yo.length;t+=1)e[Yo[t].charCodeAt(0)]=t;return e})();function Hf(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yo[n]),t.queuedBits-=6}}function Hg(e,t,r){const n=xw[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wf(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_w(o,n,r)};for(let o=0;o<e.length;o+=1)Hg(e.charCodeAt(o),i,s);return t.join("")}function bw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ww(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}bw(n,t)}}function _w(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sw(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Hg(e.charCodeAt(i),r,n);return new Uint8Array(t)}function jw(e){const t=[];return ww(e,r=>t.push(r)),new Uint8Array(t)}function kw(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Hf(i,r,n)),Hf(null,r,n),t.join("")}function Nw(e){return Math.round(Date.now()/1e3)+e}function Ew(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},Wg=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function Ow(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Gg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tr=async(e,t)=>{await e.removeItem(t)};class Aa{constructor(){this.promise=new Aa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Aa.promiseConstructor=Promise;function wl(e){const t=e.split(".");if(t.length!==3)throw new qu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!hw.test(t[n]))throw new qu("JWT not in base64url format");return{header:JSON.parse(Wf(t[0])),payload:JSON.parse(Wf(t[1])),signature:Sw(t[2]),raw:{header:t[0],payload:t[1]}}}async function Aw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Pw(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Cw(e){return("0"+e.toString(16)).substr(-2)}function Lw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Cw).join("")}async function Rw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Iw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Rw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(e,t,r=!1){const n=Lw();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cn(e,`${t}-code-verifier`,i);const s=await Iw(n);return[s,n===s?"plain":"s256"]}const Dw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mw(e){const t=e.headers.get(zu);if(!t||!t.match(Dw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $w(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(e){if(!Fw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gf(e){return JSON.parse(JSON.stringify(e))}var qw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uw=[502,503,504];async function Kf(e){var t;if(!Tw(e))throw new Fu(on(e),0);if(Uw.includes(e.status))throw new Fu(on(e),e.status);let r;try{r=await e.json()}catch(s){throw new Vg(on(s),s)}let n;const i=Mw(e);if(i&&i.getTime()>=Bg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bf(on(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Bf(on(r),e.status,r.weak_password.reasons);throw new mw(on(r),e.status||500,n)}const Bw=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ye(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[zu]||(s[zu]=Bg["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vw(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Vw(e,t,r,n,i,s){const o=Bw(t,n,i,s);let u;try{u=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Fu(on(l),0)}if(u.ok||await Kf(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(l){await Kf(l)}}function dr(e){var t;let r=null;Kw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Nw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jf(e){const t=dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hw(e){return{data:e,error:null}}function Ww(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=qw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:u,user:l},error:null}}function Gw(e){return e}function Kw(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sl=["global","local","others"];var Jw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Yw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Sl[0]){if(Sl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sl.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Jw(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ww,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,u,l;try{const d={nextPage:null,lastPage:0,total:0},p=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Gw});if(p.error)throw p.error;const f=await p.json(),c=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(c)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){En(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){En(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){En(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){En(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){En(t.userId),En(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}function Yf(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Qw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const On={debug:!!(globalThis&&Wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Zw extends Kg{}async function Xw(e,t,r){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(On.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Qw();const e_={url:cw,storageKey:dw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qf(e,t,r){return await r()}const Tn={};class _s{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_s.nextInstanceID,_s.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},e_),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gg(i.fetch),this.lock=i.lock||Qf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Xw:this.lock=Qf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ug}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ow(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),vw(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pe(r)?{error:r}:{error:new Vg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dr}),{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:f,options:c}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Nn(this.storage,this.storageKey)),s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:c==null?void 0:c.emailRedirectTo,body:{email:p,password:f,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:g,code_challenge_method:b},xform:dr})}else if("phone"in t){const{phone:p,password:f,options:c}=t;s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:f,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:dr})}else throw new to("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:u}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jf})}else if("phone"in t){const{phone:s,password:o,options:u}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jf})}else throw new to("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new eo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,u,l,d,p,f,c,g;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:w,wallet:m,statement:h,options:x}=t;let v;if(qt())if(typeof m=="object")v=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))v=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const j=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),h?{statement:h}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(p=x==null?void 0:x.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await v.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:w,error:m}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:kw(y)},!((c=t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:dr});if(m)throw m;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new eo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:m})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await rn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dr});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new eo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(pe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,u=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dr}),{data:l,error:d}=u;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new eo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:u,options:l}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Nn(this.storage,this.storageKey));const{error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:u,options:l}=t,{data:d,error:p}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new to("You must provide either an email or phone number.")}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:dr});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Nn(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Hw})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pr;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:u}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new to("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_l()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,p)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dr}):await this._useSession(async r=>{var n,i,s;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Dr})})}catch(r){if(pe(r))return yw(r)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Pr;const o=i.session;let u=null,l=null;this.flowType==="pkce"&&t.email!=null&&([u,l]=await Nn(this.storage,this.storageKey));const{data:d,error:p}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:l}),jwt:o.access_token,xform:Dr});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=wl(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:u,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pr;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qt())throw new ro("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ro(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uf("No code detected.");const{data:h,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:l,token_type:d}=t;if(!s||!u||!o||!d)throw new ro("No session defined in URL");const p=Math.round(Date.now()/1e3),f=parseInt(u);let c=p+f;l&&(c=parseInt(l));const g=c-p;g*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=c-f;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,c,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,c,p);const{data:y,error:w}=await this._getUser(s);if(w)throw w;const m={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:c,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(gw(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ew(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Nn(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,u,l,d,p;const{data:f,error:c}=s;if(c)throw c;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pw(async i=>(i>0&&await Aw(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&bl(s)&&Date.now()+o-n<Pn})}catch(n){if(this._debug(r,"error",n),pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await rn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Cn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_l()}else if(i&&!i.user&&!i.user){const o=await rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Tr(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,i)):i.user=_l()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${xl}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),bl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Aa;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Pr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),pe(s)){const o={session:null,error:s};return bl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Gf(i);await Cn(this.storage,this.storageKey,s)}else{const i=Gf(r);await Cn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Tr(this.storage,this.storageKey),await Tr(this.storage,this.storageKey+"-code-verifier"),await Tr(this.storage,this.storageKey+"-user"),this.userStorage&&await Tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pn}ms, refresh threshold is ${$u} ticks`),i<=$u&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Nn(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:u}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wl(i.access_token);let u=null;o.aal&&(u=o.aal);let l=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:l,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+pw>i)return n;const{data:s,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:l}}=wl(n);r!=null&&r.allowExpired||$w(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const p=zw(i.alg),f=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,f,o,jw(`${u}.${l}`)))throw new qu("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}_s.nextInstanceID=0;const t_=_s;class r_ extends t_{constructor(t){super(t)}}var n_=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(e,t||[])).next())})};class i_{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=lw(t),l=new URL(u);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,p={db:ew,realtime:rw,auth:Object.assign(Object.assign({},tw),{storageKey:d}),global:Xb},f=uw(n??{},p);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(c,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=ow(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new bb(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Yb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Y1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return n_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:u,debug:l},d,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:u,debug:l,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const s_=(e,t,r)=>new i_(e,t,r);function o_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}o_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a_="https://eldmxjzprivmwuknwjmv.supabase.co",l_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsZG14anpwcml2bXd1a253am12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5ODQ5NjIsImV4cCI6MjA3MDU2MDk2Mn0.F9JCuWf4GNiyzq_ZoND4zWxChkK_cIzKVR0OTT-O2O0",se=s_(a_,l_),u_=async e=>{const{data:t,error:r}=await se.auth.signInWithPassword({email:"admin@pubpuzzlecrawl.com",password:e});return{data:t,error:r}},c_=async()=>{const{error:e}=await se.auth.signOut();return{error:e}},Zf=e=>{let t;const r=new Set,n=(d,p)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const c=t;t=p??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(g=>g(t,c))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>l,subscribe:d=>(r.add(d),()=>r.delete(d))},l=t=e(n,i,u);return u},d_=e=>e?Zf(e):Zf,f_=e=>e;function h_(e,t=f_){const r=ue.useSyncExternalStore(e.subscribe,ue.useCallback(()=>t(e.getState()),[e,t]),ue.useCallback(()=>t(e.getInitialState()),[e,t]));return ue.useDebugValue(r),r}const Xf=e=>{const t=d_(e),r=n=>h_(t,n);return Object.assign(r,t),r},Jg=e=>e?Xf(e):Xf;function p_(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),u=(s=r.getItem(i))!=null?s:null;return u instanceof Promise?u.then(o):o(u)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const Uu=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Uu(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Uu(n)(r)}}}},m_=(e,t)=>(r,n,i)=>{let s={storage:p_(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},o=!1;const u=new Set,l=new Set;let d=s.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...y)},n,i);const p=()=>{const y=s.partialize({...n()});return d.setItem(s.name,{state:y,version:s.version})},f=i.setState;i.setState=(y,w)=>{f(y,w),p()};const c=e((...y)=>{r(...y),p()},n,i);i.getInitialState=()=>c;let g;const b=()=>{var y,w;if(!d)return;o=!1,u.forEach(h=>{var x;return h((x=n())!=null?x:c)});const m=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(y=n())!=null?y:c))||void 0;return Uu(d.getItem.bind(d))(s.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==s.version){if(s.migrate){const x=s.migrate(h.state,h.version);return x instanceof Promise?x.then(v=>[!0,v]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var x;const[v,_]=h;if(g=s.merge(_,(x=n())!=null?x:c),r(g,!0),v)return p()}).then(()=>{m==null||m(g,void 0),g=n(),o=!0,l.forEach(h=>h(g))}).catch(h=>{m==null||m(void 0,h)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:y=>(u.add(y),()=>{u.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},s.skipHydration||b(),g||c},g_=m_,sr=Jg()(g_((e,t)=>({currentSession:null,currentGame:null,currentPuzzle:null,puzzles:[],accessCode:null,isLoading:!1,error:null,revealedClues:0,setSession:r=>e({currentSession:r}),setGame:r=>e({currentGame:r}),setPuzzles:r=>e({puzzles:r}),setCurrentPuzzle:r=>e({currentPuzzle:r,revealedClues:0}),setAccessCode:r=>e({accessCode:r}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),revealNextClue:()=>{const{currentPuzzle:r,revealedClues:n}=t();r&&n<r.clues.length&&e({revealedClues:n+1})},resetClues:()=>e({revealedClues:0}),markPuzzleComplete:r=>{const{currentSession:n}=t();if(n){const i=[...n.completed_puzzles,r];e({currentSession:{...n,completed_puzzles:i}})}},clearSession:()=>e({currentSession:null,currentGame:null,currentPuzzle:null,puzzles:[],accessCode:null,revealedClues:0,error:null})}),{name:"pub-puzzle-session",partialize:e=>({currentSession:e.currentSession,currentGame:e.currentGame,puzzles:e.puzzles,accessCode:e.accessCode,revealedClues:e.revealedClues})})),kr=Jg((e,t)=>({pages:[],settings:{},isLoading:!1,error:null,isInitialized:!1,setPages:r=>e({pages:r}),setSettings:r=>e({settings:r}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),getSetting:(r,n="")=>{const{settings:i}=t();return i[r]||n},refreshSettings:async()=>{try{console.log("Refreshing settings from database...");const{data:r}=await se.from("site_settings").select("*");if(r){const n=r.reduce((i,s)=>({...i,[s.key]:s.value}),{});e({settings:n}),console.log("Settings refreshed:",n)}else console.log("No settings data returned from database")}catch(r){console.error("Failed to refresh settings:",r),e({error:"Failed to refresh settings"})}},initialize:async()=>{const{isInitialized:r}=t();r||(console.log("Initializing content store..."),e({isInitialized:!0}),await t().refreshSettings())}}));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),eh=e=>{const t=v_(e);return t.charAt(0).toUpperCase()+t.slice(1)},Yg=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),x_=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...u},l)=>q.createElement("svg",{ref:l,...b_,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Yg("lucide",i),...!s&&!x_(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,p])=>q.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=q.forwardRef(({className:n,...i},s)=>q.createElement(w_,{ref:s,iconNode:t,className:Yg(`lucide-${y_(eh(e))}`,`lucide-${e}`,n),...i}));return r.displayName=eh(e),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Qg=he("arrow-down",__);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qo=he("arrow-right",S_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Zg=he("arrow-up",j_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],ad=he("beer",k_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E_=he("calendar",N_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],T_=he("chart-column",O_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mt=he("circle-alert",A_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=he("circle-check-big",P_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],th=he("circle-question-mark",C_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R_=he("circle",L_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xg=he("clock",I_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],M_=he("copy",D_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ey=he("credit-card",$_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ty=he("crown",z_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rh=he("dollar-sign",F_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U_=he("eye",q_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nh=he("file-text",B_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],ns=he("gamepad",V_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ih=he("image",H_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ry=he("instagram",W_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Kr=he("key",G_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ny=he("lightbulb",K_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Y_=he("loader",J_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z_=he("lock",Q_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eS=he("log-out",X_);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ld=he("mail",tS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nS=he("map-pin",rS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],sS=he("menu",iS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ss=he("pen-line",oS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ud=he("play",aS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],li=he("plus",lS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],wo=he("puzzle",uS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],iy=he("refresh-cw",cS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sh=he("save",dS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hS=he("send",fS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oh=he("settings",pS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sy=he("shield",mS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yS=he("smartphone",gS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bn=he("trash-2",vS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bS=he("trending-up",xS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Bu=he("trophy",wS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hn=he("users",_S);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jS=he("x",SS),kS=({isAdmin:e=!1})=>{const[t,r]=q.useState(!1),[n,i]=q.useState(!1),s=ur(),{pages:o,getSetting:u,refreshSettings:l}=kr(),[d,p]=q.useState([]);q.useEffect(()=>{se.auth.getSession().then(({data:{session:w}})=>{i(!!w)});const{data:{subscription:y}}=se.auth.onAuthStateChange((w,m)=>{i(!!m)});return l(),()=>y.unsubscribe()},[]),q.useEffect(()=>{(async()=>{try{const{data:w}=await se.from("content_pages").select("*").eq("is_published",!0).eq("show_in_nav",!0).order("nav_order");p(w||[])}catch(w){console.error("Failed to load navigation pages:",w)}})()},[]);const f=[{path:"/",label:"Home"},{path:"/purchase",label:"Purchase"},{path:"/play",label:"Play Game"},{path:"/how-it-works",label:"How It Works"},{path:"/contact",label:"Contact"}],c=d.map(y=>({path:`/${y.slug}`,label:y.title})),g=[...f,...c],b=u("site_name");return console.log("Current site name from store:",b),console.log("All settings:",kr.getState().settings),a.jsx("nav",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 shadow-xl border-b-4 border-yellow-600",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs(qe,{to:"/",className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-full shadow-lg",children:a.jsx(ad,{className:"h-8 w-8 text-gray-900"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-yellow-200 tracking-wide",children:b})})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[g.map(y=>a.jsx(qe,{to:y.path,className:`text-yellow-200 hover:text-yellow-100 font-medium transition-colors px-3 py-2 rounded-lg ${s.pathname===y.path?"bg-green-700":"hover:bg-gray-800"}`,children:y.label},y.path)),a.jsx(qe,{to:"/purchase",className:"bg-gradient-to-r from-green-700 to-green-800 hover:from-green-800 hover:to-green-900 text-yellow-100 font-bold px-6 py-2 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Buy Now"}),n&&a.jsx(qe,{to:"/admin",className:"text-yellow-300 hover:text-yellow-100 font-medium",children:"Admin"})]}),a.jsx("button",{onClick:()=>r(!t),className:"md:hidden text-yellow-200 hover:text-yellow-100 p-2",children:t?a.jsx(jS,{className:"h-6 w-6"}):a.jsx(sS,{className:"h-6 w-6"})})]}),t&&a.jsx("div",{className:"md:hidden py-4 border-t border-yellow-600",children:a.jsxs("div",{className:"space-y-2",children:[g.map(y=>a.jsx(qe,{to:y.path,onClick:()=>r(!1),className:`block text-yellow-200 hover:text-yellow-100 font-medium px-4 py-2 rounded-lg transition-colors ${s.pathname===y.path?"bg-green-700":"hover:bg-gray-800"}`,children:y.label},y.path)),a.jsx(qe,{to:"/purchase",onClick:()=>r(!1),className:"block bg-gradient-to-r from-green-700 to-green-800 text-yellow-100 font-bold px-4 py-2 rounded-lg mx-4 mt-4 text-center",children:"Buy Now"}),n&&a.jsx(qe,{to:"/admin",onClick:()=>r(!1),className:"block text-yellow-300 hover:text-yellow-100 font-medium px-4 py-2",children:"Admin Panel"})]})})]})})},NS=()=>{const{getSetting:e,refreshSettings:t}=kr();return q.useEffect(()=>{t()},[t]),a.jsx("footer",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 text-yellow-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:a.jsx(ad,{className:"h-6 w-6 text-gray-900"})}),a.jsx("h3",{className:"text-xl font-bold",children:e("site_name")})]}),a.jsx("p",{className:"text-yellow-300 mb-4 max-w-md",children:e("site_description","Experience the ultimate puzzle adventure through your favorite pubs. Solve mysteries, unlock clues, and compete with friends in this immersive gaming experience.")}),a.jsxs("div",{className:"space-y-2",children:[e("contact_email")&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ld,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:e("contact_email")})]}),e("contact_instagram")&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ry,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:e("contact_instagram")})]}),e("contact_address")&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nS,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:e("contact_address")})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(qe,{to:"/",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx(qe,{to:"/purchase",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Purchase"})}),a.jsx("li",{children:a.jsx(qe,{to:"/play",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Play Game"})}),a.jsx("li",{children:a.jsx(qe,{to:"/how-it-works",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"How It Works"})}),a.jsx("li",{children:a.jsx(qe,{to:"/faq",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"FAQ"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold mb-4",children:"Support"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(qe,{to:"/contact",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Contact Us"})}),a.jsx("li",{children:a.jsx(qe,{to:"/privacy",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(qe,{to:"/terms",className:"text-yellow-300 hover:text-yellow-100 transition-colors",children:"Terms of Service"})})]})]})]}),a.jsx("div",{className:"border-t border-yellow-600 mt-8 pt-8 text-center",children:a.jsxs("p",{className:"text-yellow-300",children:["© ",new Date().getFullYear()," ",e("site_name"),". All rights reserved."]})})]})})},ES=()=>{const[e,t]=q.useState([]),[r,n]=q.useState(!0),{getSetting:i}=kr();q.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:u}=await se.from("games").select("*").limit(3);if(u)throw u;t(o||[])}catch(o){console.error("Failed to load games:",o)}finally{n(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[a.jsx("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-yellow-200 mb-6 leading-tight",children:i("hero_title","The Ultimate Pub Puzzle Adventure")}),a.jsx("p",{className:"text-xl md:text-2xl text-yellow-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:i("hero_subtitle","Solve mysteries, unlock clues, and compete with friends in an immersive puzzle experience that takes you through the best pubs in town.")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[a.jsxs(qe,{to:"/purchase",className:"bg-gradient-to-r from-green-700 to-green-800 hover:from-green-800 hover:to-green-900 text-yellow-100 font-bold px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl text-lg flex items-center space-x-2",children:[a.jsx(ud,{className:"h-5 w-5"}),a.jsx("span",{children:"Start Your Adventure"})]}),a.jsxs(qe,{to:"/play",className:"border-2 border-yellow-400 text-yellow-200 hover:bg-gray-800 font-bold px-8 py-4 rounded-lg transition-all duration-200 text-lg flex items-center space-x-2",children:[a.jsx("span",{children:"Have a Code? Play Now"}),a.jsx(Qo,{className:"h-5 w-5"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg border border-yellow-600",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-200 mb-2",children:"12hrs"}),a.jsx("div",{className:"text-yellow-300 text-sm",children:"Game Duration"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg border border-yellow-600",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-200 mb-2",children:"1-6"}),a.jsx("div",{className:"text-yellow-300 text-sm",children:"Players"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg border border-yellow-600",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-200 mb-2",children:"5+"}),a.jsx("div",{className:"text-yellow-300 text-sm",children:"Puzzles"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg border border-yellow-600",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-200 mb-2",children:"★★★★★"}),a.jsx("div",{className:"text-yellow-300 text-sm",children:"Rated"})]})]})]})}),a.jsx("section",{className:"py-20 bg-gray-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Get ready for an unforgettable adventure in just three simple steps"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-gray-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-yellow-600",children:a.jsx("span",{className:"text-2xl font-bold text-yellow-200",children:"1"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Purchase Your Code"}),a.jsx("p",{className:"text-gray-700",children:"Buy your unique access code and receive it instantly via email. Each code is valid for 12 hours from first use."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-gray-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-yellow-600",children:a.jsx("span",{className:"text-2xl font-bold text-yellow-200",children:"2"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Start Playing"}),a.jsx("p",{className:"text-gray-700",children:"Enter your code to begin the adventure. Solve puzzles in sequence, with helpful clues revealed when you need them."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-gray-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-yellow-600",children:a.jsx("span",{className:"text-2xl font-bold text-yellow-200",children:"3"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Complete & Win"}),a.jsx("p",{className:"text-gray-700",children:"Work through all puzzles to complete your adventure. Resume anytime within your 12-hour window."})]})]})]})}),e.length>0&&a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-yellow-200 mb-4",children:"Featured Adventures"}),a.jsx("p",{className:"text-xl text-yellow-300 max-w-3xl mx-auto",children:"Choose from our collection of thrilling puzzle adventures"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(o=>a.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-xl hover:shadow-2xl transition-shadow border border-yellow-600",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"inline-block bg-green-700 text-yellow-200 text-xs px-2 py-1 rounded-full uppercase tracking-wide",children:o.theme})}),a.jsx("h3",{className:"text-xl font-bold text-yellow-200 mb-3",children:o.title}),a.jsx("p",{className:"text-yellow-300 mb-6 line-clamp-3",children:o.description}),a.jsxs(qe,{to:"/purchase",className:"inline-flex items-center bg-green-700 hover:bg-green-800 text-yellow-100 font-bold px-4 py-2 rounded-lg transition-colors",children:[a.jsx("span",{children:"Play Now"}),a.jsx(Qo,{className:"h-4 w-4 ml-2"})]})]},o.id))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-green-600 to-green-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-yellow-100 mb-6",children:"Ready for Your Adventure?"}),a.jsx("p",{className:"text-xl text-yellow-200 mb-8",children:"Join thousands of players who have already experienced the thrill of our puzzle adventures."}),a.jsxs(qe,{to:"/purchase",className:"bg-yellow-100 text-green-800 hover:bg-yellow-50 font-bold px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl text-lg inline-flex items-center space-x-2",children:[a.jsx(Bu,{className:"h-5 w-5"}),a.jsx("span",{children:"Get Your Access Code"})]})]})})]})};var Rs=e=>e.type==="checkbox",fn=e=>e instanceof Date,ct=e=>e==null;const oy=e=>typeof e=="object";var Be=e=>!ct(e)&&!Array.isArray(e)&&oy(e)&&!fn(e),OS=e=>Be(e)&&e.target?Rs(e.target)?e.target.checked:e.target.value:e,TS=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,AS=(e,t)=>e.has(TS(t)),PS=e=>{const t=e.constructor&&e.constructor.prototype;return Be(t)&&t.hasOwnProperty("isPrototypeOf")},cd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ae(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(cd&&(e instanceof Blob||n))&&(r||Be(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!PS(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ae(e[i]));else return e;return t}var Pa=e=>/^\w*$/.test(e),Pe=e=>e===void 0,Ca=e=>Array.isArray(e)?e.filter(Boolean):[],dd=e=>Ca(e.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(e,t,r)=>{if(!t||!Be(e))return r;const n=(Pa(t)?[t]:dd(t)).reduce((i,s)=>ct(i)?i:i[s],e);return Pe(n)||n===e?Pe(e[t])?r:e[t]:n},nr=e=>typeof e=="boolean",Se=(e,t,r)=>{let n=-1;const i=Pa(t)?[t]:dd(t),s=i.length,o=s-1;for(;++n<s;){const u=i[n];let l=r;if(n!==o){const d=e[u];l=Be(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=l,e=e[u]}};const ah={BLUR:"blur",FOCUS_OUT:"focusout"},Rt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ay=ue.createContext(null);ay.displayName="HookFormContext";const CS=()=>ue.useContext(ay);var LS=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Rt.all&&(t._proxyFormState[o]=!n||Rt.all),e[o]}});return i};const ly=typeof window<"u"?ue.useLayoutEffect:ue.useEffect;var or=e=>typeof e=="string",RS=(e,t,r,n,i)=>or(e)?(n&&t.watch.add(e),oe(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),oe(r,s))):(n&&(t.watchAll=!0),r),Vu=e=>ct(e)||!oy(e);function Mr(e,t,r=new WeakSet){if(Vu(e)||Vu(t))return e===t;if(fn(e)&&fn(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const u=t[s];if(fn(o)&&fn(u)||Be(o)&&Be(u)||Array.isArray(o)&&Array.isArray(u)?!Mr(o,u,r):o!==u)return!1}}return!0}var IS=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},xt=e=>Array.isArray(e)?e:[e],lh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},lt=e=>Be(e)&&!Object.keys(e).length,fd=e=>e.type==="file",Wt=e=>typeof e=="function",Zo=e=>{if(!cd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uy=e=>e.type==="select-multiple",hd=e=>e.type==="radio",DS=e=>hd(e)||Rs(e),jl=e=>Zo(e)&&e.isConnected;function MS(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pe(e)?n++:e[t[n++]];return e}function $S(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pe(e[t]))return!1;return!0}function Fe(e,t){const r=Array.isArray(t)?t:Pa(t)?[t]:dd(t),n=r.length===1?e:MS(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Be(n)&&lt(n)||Array.isArray(n)&&$S(n))&&Fe(e,r.slice(0,-1)),e}var cy=e=>{for(const t in e)if(Wt(e[t]))return!0;return!1};function Xo(e,t={}){const r=Array.isArray(e);if(Be(e)||r)for(const n in e)Array.isArray(e[n])||Be(e[n])&&!cy(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Xo(e[n],t[n])):ct(e[n])||(t[n]=!0);return t}function dy(e,t,r){const n=Array.isArray(e);if(Be(e)||n)for(const i in e)Array.isArray(e[i])||Be(e[i])&&!cy(e[i])?Pe(t)||Vu(r[i])?r[i]=Array.isArray(e[i])?Xo(e[i],[]):{...Xo(e[i])}:dy(e[i],ct(t)?{}:t[i],r[i]):r[i]=!Mr(e[i],t[i]);return r}var Ri=(e,t)=>dy(e,t,Xo(t));const uh={value:!1,isValid:!1},ch={value:!0,isValid:!0};var fy=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pe(e[0].attributes.value)?Pe(e[0].value)||e[0].value===""?ch:{value:e[0].value,isValid:!0}:ch:uh}return uh},hy=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pe(e)?e:t?e===""?NaN:e&&+e:r&&or(e)?new Date(e):n?n(e):e;const dh={isValid:!1,value:null};var py=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,dh):dh;function fh(e){const t=e.ref;return fd(t)?t.files:hd(t)?py(e.refs).value:uy(t)?[...t.selectedOptions].map(({value:r})=>r):Rs(t)?fy(e.refs).value:hy(Pe(t.value)?e.ref.value:t.value,e)}var zS=(e,t,r,n)=>{const i={};for(const s of e){const o=oe(t,s);o&&Se(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},ea=e=>e instanceof RegExp,Ii=e=>Pe(e)?e:ea(e)?e.source:Be(e)?ea(e.value)?e.value.source:e.value:e,Wn=e=>({isOnSubmit:!e||e===Rt.onSubmit,isOnBlur:e===Rt.onBlur,isOnChange:e===Rt.onChange,isOnAll:e===Rt.all,isOnTouch:e===Rt.onTouched});const hh="AsyncFunction";var FS=e=>!!e&&!!e.validate&&!!(Wt(e.validate)&&e.validate.constructor.name===hh||Be(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hh)),qS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Hu=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xn=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=oe(e,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Xn(u,t))break}else if(Be(u)&&Xn(u,t))break}}};function ph(e,t,r){const n=oe(e,r);if(n||Pa(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=oe(t,s),u=oe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};if(u&&u.root&&u.root.type)return{name:`${s}.root`,error:u.root};i.pop()}return{name:r}}var US=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return lt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Rt.all))},BS=(e,t,r)=>!e||!t||e===t||xt(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),VS=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,HS=(e,t)=>!Ca(oe(e,t)).length&&Fe(e,t),my=(e,t,r)=>{const n=xt(oe(e,r));return Se(n,"root",t[r]),Se(e,r,n),e},_o=e=>or(e);function mh(e,t,r="validate"){if(_o(e)||Array.isArray(e)&&e.every(_o)||nr(e)&&!e)return{type:r,message:_o(e)?e:"",ref:t}}var An=e=>Be(e)&&!ea(e)?e:{value:e,message:""},Wu=async(e,t,r,n,i,s)=>{const{ref:o,refs:u,required:l,maxLength:d,minLength:p,min:f,max:c,pattern:g,validate:b,name:y,valueAsNumber:w,mount:m}=e._f,h=oe(r,y);if(!m||t.has(y))return{};const x=u?u[0]:o,v=k=>{i&&x.reportValidity&&(x.setCustomValidity(nr(k)?"":k||""),x.reportValidity())},_={},j=hd(o),S=Rs(o),E=j||S,P=(w||fd(o))&&Pe(o.value)&&Pe(h)||Zo(o)&&o.value===""||h===""||Array.isArray(h)&&!h.length,N=IS.bind(null,y,n,_),O=(k,T,C,D=cr.maxLength,V=cr.minLength)=>{const F=k?T:C;_[y]={type:k?D:V,message:F,ref:o,...N(k?D:V,F)}};if(s?!Array.isArray(h)||!h.length:l&&(!E&&(P||ct(h))||nr(h)&&!h||S&&!fy(u).isValid||j&&!py(u).isValid)){const{value:k,message:T}=_o(l)?{value:!!l,message:l}:An(l);if(k&&(_[y]={type:cr.required,message:T,ref:x,...N(cr.required,T)},!n))return v(T),_}if(!P&&(!ct(f)||!ct(c))){let k,T;const C=An(c),D=An(f);if(!ct(h)&&!isNaN(h)){const V=o.valueAsNumber||h&&+h;ct(C.value)||(k=V>C.value),ct(D.value)||(T=V<D.value)}else{const V=o.valueAsDate||new Date(h),F=L=>new Date(new Date().toDateString()+" "+L),H=o.type=="time",z=o.type=="week";or(C.value)&&h&&(k=H?F(h)>F(C.value):z?h>C.value:V>new Date(C.value)),or(D.value)&&h&&(T=H?F(h)<F(D.value):z?h<D.value:V<new Date(D.value))}if((k||T)&&(O(!!k,C.message,D.message,cr.max,cr.min),!n))return v(_[y].message),_}if((d||p)&&!P&&(or(h)||s&&Array.isArray(h))){const k=An(d),T=An(p),C=!ct(k.value)&&h.length>+k.value,D=!ct(T.value)&&h.length<+T.value;if((C||D)&&(O(C,k.message,T.message),!n))return v(_[y].message),_}if(g&&!P&&or(h)){const{value:k,message:T}=An(g);if(ea(k)&&!h.match(k)&&(_[y]={type:cr.pattern,message:T,ref:o,...N(cr.pattern,T)},!n))return v(T),_}if(b){if(Wt(b)){const k=await b(h,r),T=mh(k,x);if(T&&(_[y]={...T,...N(cr.validate,T.message)},!n))return v(T.message),_}else if(Be(b)){let k={};for(const T in b){if(!lt(k)&&!n)break;const C=mh(await b[T](h,r),x,T);C&&(k={...C,...N(T,C.message)},v(C.message),n&&(_[y]=k))}if(!lt(k)&&(_[y]={ref:x,...k},!n))return _}}return v(!0),_};const WS={mode:Rt.onSubmit,reValidateMode:Rt.onChange,shouldFocusError:!0};function GS(e={}){let t={...WS,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Be(t.defaultValues)||Be(t.values)?Ae(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Ae(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...p};const c={array:lh(),state:lh()},g=t.criteriaMode===Rt.all,b=M=>U=>{clearTimeout(d),d=setTimeout(M,U)},y=async M=>{if(!t.disabled&&(p.isValid||f.isValid||M)){const U=t.resolver?lt((await S()).errors):await P(n,!0);U!==r.isValid&&c.state.next({isValid:U})}},w=(M,U)=>{!t.disabled&&(p.isValidating||p.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(u.mount)).forEach(B=>{B&&(U?Se(r.validatingFields,B,U):Fe(r.validatingFields,B))}),c.state.next({validatingFields:r.validatingFields,isValidating:!lt(r.validatingFields)}))},m=(M,U=[],B,re,te=!0,X=!0)=>{if(re&&B&&!t.disabled){if(o.action=!0,X&&Array.isArray(oe(n,M))){const ae=B(oe(n,M),re.argA,re.argB);te&&Se(n,M,ae)}if(X&&Array.isArray(oe(r.errors,M))){const ae=B(oe(r.errors,M),re.argA,re.argB);te&&Se(r.errors,M,ae),HS(r.errors,M)}if((p.touchedFields||f.touchedFields)&&X&&Array.isArray(oe(r.touchedFields,M))){const ae=B(oe(r.touchedFields,M),re.argA,re.argB);te&&Se(r.touchedFields,M,ae)}(p.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ri(i,s)),c.state.next({name:M,isDirty:O(M,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Se(s,M,U)},h=(M,U)=>{Se(r.errors,M,U),c.state.next({errors:r.errors})},x=M=>{r.errors=M,c.state.next({errors:r.errors,isValid:!1})},v=(M,U,B,re)=>{const te=oe(n,M);if(te){const X=oe(s,M,Pe(B)?oe(i,M):B);Pe(X)||re&&re.defaultChecked||U?Se(s,M,U?X:fh(te._f)):C(M,X),o.mount&&y()}},_=(M,U,B,re,te)=>{let X=!1,ae=!1;const ge={name:M};if(!t.disabled){if(!B||re){(p.isDirty||f.isDirty)&&(ae=r.isDirty,r.isDirty=ge.isDirty=O(),X=ae!==ge.isDirty);const de=Mr(oe(i,M),U);ae=!!oe(r.dirtyFields,M),de?Fe(r.dirtyFields,M):Se(r.dirtyFields,M,!0),ge.dirtyFields=r.dirtyFields,X=X||(p.dirtyFields||f.dirtyFields)&&ae!==!de}if(B){const de=oe(r.touchedFields,M);de||(Se(r.touchedFields,M,B),ge.touchedFields=r.touchedFields,X=X||(p.touchedFields||f.touchedFields)&&de!==B)}X&&te&&c.state.next(ge)}return X?ge:{}},j=(M,U,B,re)=>{const te=oe(r.errors,M),X=(p.isValid||f.isValid)&&nr(U)&&r.isValid!==U;if(t.delayError&&B?(l=b(()=>h(M,B)),l(t.delayError)):(clearTimeout(d),l=null,B?Se(r.errors,M,B):Fe(r.errors,M)),(B?!Mr(te,B):te)||!lt(re)||X){const ae={...re,...X&&nr(U)?{isValid:U}:{},errors:r.errors,name:M};r={...r,...ae},c.state.next(ae)}},S=async M=>{w(M,!0);const U=await t.resolver(s,t.context,zS(M||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(M),U},E=async M=>{const{errors:U}=await S(M);if(M)for(const B of M){const re=oe(U,B);re?Se(r.errors,B,re):Fe(r.errors,B)}else r.errors=U;return U},P=async(M,U,B={valid:!0})=>{for(const re in M){const te=M[re];if(te){const{_f:X,...ae}=te;if(X){const ge=u.array.has(X.name),de=te._f&&FS(te._f);de&&p.validatingFields&&w([re],!0);const pt=await Wu(te,u.disabled,s,g,t.shouldUseNativeValidation&&!U,ge);if(de&&p.validatingFields&&w([re]),pt[X.name]&&(B.valid=!1,U))break;!U&&(oe(pt,X.name)?ge?my(r.errors,pt,X.name):Se(r.errors,X.name,pt[X.name]):Fe(r.errors,X.name))}!lt(ae)&&await P(ae,U,B)}}return B.valid},N=()=>{for(const M of u.unMount){const U=oe(n,M);U&&(U._f.refs?U._f.refs.every(B=>!jl(B)):!jl(U._f.ref))&&W(M)}u.unMount=new Set},O=(M,U)=>!t.disabled&&(M&&U&&Se(s,M,U),!Mr(L(),i)),k=(M,U,B)=>RS(M,u,{...o.mount?s:Pe(U)?i:or(M)?{[M]:U}:U},B,U),T=M=>Ca(oe(o.mount?s:i,M,t.shouldUnregister?oe(i,M,[]):[])),C=(M,U,B={})=>{const re=oe(n,M);let te=U;if(re){const X=re._f;X&&(!X.disabled&&Se(s,M,hy(U,X)),te=Zo(X.ref)&&ct(U)?"":U,uy(X.ref)?[...X.ref.options].forEach(ae=>ae.selected=te.includes(ae.value)):X.refs?Rs(X.ref)?X.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(te)?ae.checked=!!te.find(ge=>ge===ae.value):ae.checked=te===ae.value||!!te)}):X.refs.forEach(ae=>ae.checked=ae.value===te):fd(X.ref)?X.ref.value="":(X.ref.value=te,X.ref.type||c.state.next({name:M,values:Ae(s)})))}(B.shouldDirty||B.shouldTouch)&&_(M,te,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&z(M)},D=(M,U,B)=>{for(const re in U){if(!U.hasOwnProperty(re))return;const te=U[re],X=M+"."+re,ae=oe(n,X);(u.array.has(M)||Be(te)||ae&&!ae._f)&&!fn(te)?D(X,te,B):C(X,te,B)}},V=(M,U,B={})=>{const re=oe(n,M),te=u.array.has(M),X=Ae(U);Se(s,M,X),te?(c.array.next({name:M,values:Ae(s)}),(p.isDirty||p.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&c.state.next({name:M,dirtyFields:Ri(i,s),isDirty:O(M,X)})):re&&!re._f&&!ct(X)?D(M,X,B):C(M,X,B),Hu(M,u)&&c.state.next({...r,name:M}),c.state.next({name:o.mount?M:void 0,values:Ae(s)})},F=async M=>{o.mount=!0;const U=M.target;let B=U.name,re=!0;const te=oe(n,B),X=de=>{re=Number.isNaN(de)||fn(de)&&isNaN(de.getTime())||Mr(de,oe(s,B,de))},ae=Wn(t.mode),ge=Wn(t.reValidateMode);if(te){let de,pt;const ke=U.type?fh(te._f):OS(M),Xe=M.type===ah.BLUR||M.type===ah.FOCUS_OUT,Wy=!qS(te._f)&&!t.resolver&&!oe(r.errors,B)&&!te._f.deps||VS(Xe,oe(r.touchedFields,B),r.isSubmitted,ge,ae),qa=Hu(B,u,Xe);Se(s,B,ke),Xe?(!U||!U.readOnly)&&(te._f.onBlur&&te._f.onBlur(M),l&&l(0)):te._f.onChange&&te._f.onChange(M);const Ua=_(B,ke,Xe),Gy=!lt(Ua)||qa;if(!Xe&&c.state.next({name:B,type:M.type,values:Ae(s)}),Wy)return(p.isValid||f.isValid)&&(t.mode==="onBlur"?Xe&&y():Xe||y()),Gy&&c.state.next({name:B,...qa?{}:Ua});if(!Xe&&qa&&c.state.next({...r}),t.resolver){const{errors:yd}=await S([B]);if(X(ke),re){const Ky=ph(r.errors,n,B),vd=ph(yd,n,Ky.name||B);de=vd.error,B=vd.name,pt=lt(yd)}}else w([B],!0),de=(await Wu(te,u.disabled,s,g,t.shouldUseNativeValidation))[B],w([B]),X(ke),re&&(de?pt=!1:(p.isValid||f.isValid)&&(pt=await P(n,!0)));re&&(te._f.deps&&z(te._f.deps),j(B,pt,de,Ua))}},H=(M,U)=>{if(oe(r.errors,U)&&M.focus)return M.focus(),1},z=async(M,U={})=>{let B,re;const te=xt(M);if(t.resolver){const X=await E(Pe(M)?M:te);B=lt(X),re=M?!te.some(ae=>oe(X,ae)):B}else M?(re=(await Promise.all(te.map(async X=>{const ae=oe(n,X);return await P(ae&&ae._f?{[X]:ae}:ae)}))).every(Boolean),!(!re&&!r.isValid)&&y()):re=B=await P(n);return c.state.next({...!or(M)||(p.isValid||f.isValid)&&B!==r.isValid?{}:{name:M},...t.resolver||!M?{isValid:B}:{},errors:r.errors}),U.shouldFocus&&!re&&Xn(n,H,M?te:u.mount),re},L=M=>{const U={...o.mount?s:i};return Pe(M)?U:or(M)?oe(U,M):M.map(B=>oe(U,B))},A=(M,U)=>({invalid:!!oe((U||r).errors,M),isDirty:!!oe((U||r).dirtyFields,M),error:oe((U||r).errors,M),isValidating:!!oe(r.validatingFields,M),isTouched:!!oe((U||r).touchedFields,M)}),R=M=>{M&&xt(M).forEach(U=>Fe(r.errors,U)),c.state.next({errors:M?r.errors:{}})},$=(M,U,B)=>{const re=(oe(n,M,{_f:{}})._f||{}).ref,te=oe(r.errors,M)||{},{ref:X,message:ae,type:ge,...de}=te;Se(r.errors,M,{...de,...U,ref:re}),c.state.next({name:M,errors:r.errors,isValid:!1}),B&&B.shouldFocus&&re&&re.focus&&re.focus()},J=(M,U)=>Wt(M)?c.state.subscribe({next:B=>"values"in B&&M(k(void 0,U),B)}):k(M,U,!0),K=M=>c.state.subscribe({next:U=>{BS(M.name,U.name,M.exact)&&US(U,M.formState||p,ze,M.reRenderRoot)&&M.callback({values:{...s},...r,...U,defaultValues:i})}}).unsubscribe,I=M=>(o.mount=!0,f={...f,...M.formState},K({...M,formState:f})),W=(M,U={})=>{for(const B of M?xt(M):u.mount)u.mount.delete(B),u.array.delete(B),U.keepValue||(Fe(n,B),Fe(s,B)),!U.keepError&&Fe(r.errors,B),!U.keepDirty&&Fe(r.dirtyFields,B),!U.keepTouched&&Fe(r.touchedFields,B),!U.keepIsValidating&&Fe(r.validatingFields,B),!t.shouldUnregister&&!U.keepDefaultValue&&Fe(i,B);c.state.next({values:Ae(s)}),c.state.next({...r,...U.keepDirty?{isDirty:O()}:{}}),!U.keepIsValid&&y()},G=({disabled:M,name:U})=>{(nr(M)&&o.mount||M||u.disabled.has(U))&&(M?u.disabled.add(U):u.disabled.delete(U))},Y=(M,U={})=>{let B=oe(n,M);const re=nr(U.disabled)||nr(t.disabled);return Se(n,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...U}}),u.mount.add(M),B?G({disabled:nr(U.disabled)?U.disabled:t.disabled,name:M}):v(M,!0,U.value),{...re?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:Ii(U.min),max:Ii(U.max),minLength:Ii(U.minLength),maxLength:Ii(U.maxLength),pattern:Ii(U.pattern)}:{},name:M,onChange:F,onBlur:F,ref:te=>{if(te){Y(M,U),B=oe(n,M);const X=Pe(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ae=DS(X),ge=B._f.refs||[];if(ae?ge.find(de=>de===X):X===B._f.ref)return;Se(n,M,{_f:{...B._f,...ae?{refs:[...ge.filter(jl),X,...Array.isArray(oe(i,M))?[{}]:[]],ref:{type:X.type,name:M}}:{ref:X}}}),v(M,!1,void 0,X)}else B=oe(n,M,{}),B._f&&(B._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(AS(u.array,M)&&o.action)&&u.unMount.add(M)}}},Q=()=>t.shouldFocusError&&Xn(n,H,u.mount),ie=M=>{nr(M)&&(c.state.next({disabled:M}),Xn(n,(U,B)=>{const re=oe(n,B);re&&(U.disabled=re._f.disabled||M,Array.isArray(re._f.refs)&&re._f.refs.forEach(te=>{te.disabled=re._f.disabled||M}))},0,!1))},ce=(M,U)=>async B=>{let re;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let te=Ae(s);if(c.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:ae}=await S();r.errors=X,te=Ae(ae)}else await P(n);if(u.disabled.size)for(const X of u.disabled)Fe(te,X);if(Fe(r.errors,"root"),lt(r.errors)){c.state.next({errors:{}});try{await M(te,B)}catch(X){re=X}}else U&&await U({...r.errors},B),Q(),setTimeout(Q);if(c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lt(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},fe=(M,U={})=>{oe(n,M)&&(Pe(U.defaultValue)?V(M,Ae(oe(i,M))):(V(M,U.defaultValue),Se(i,M,Ae(U.defaultValue))),U.keepTouched||Fe(r.touchedFields,M),U.keepDirty||(Fe(r.dirtyFields,M),r.isDirty=U.defaultValue?O(M,Ae(oe(i,M))):O()),U.keepError||(Fe(r.errors,M),p.isValid&&y()),c.state.next({...r}))},me=(M,U={})=>{const B=M?Ae(M):i,re=Ae(B),te=lt(M),X=te?i:re;if(U.keepDefaultValues||(i=B),!U.keepValues){if(U.keepDirtyValues){const ae=new Set([...u.mount,...Object.keys(Ri(i,s))]);for(const ge of Array.from(ae))oe(r.dirtyFields,ge)?Se(X,ge,oe(s,ge)):V(ge,oe(X,ge))}else{if(cd&&Pe(M))for(const ae of u.mount){const ge=oe(n,ae);if(ge&&ge._f){const de=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Zo(de)){const pt=de.closest("form");if(pt){pt.reset();break}}}}if(U.keepFieldsRef)for(const ae of u.mount)V(ae,oe(X,ae));else n={}}s=t.shouldUnregister?U.keepDefaultValues?Ae(i):{}:Ae(X),c.array.next({values:{...X}}),c.state.next({values:{...X}})}u={mount:U.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,c.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:te?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Mr(M,i)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:te?{}:U.keepDirtyValues?U.keepDefaultValues&&s?Ri(i,s):r.dirtyFields:U.keepDefaultValues&&M?Ri(i,M):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},be=(M,U)=>me(Wt(M)?M(s):M,U),nt=(M,U={})=>{const B=oe(n,M),re=B&&B._f;if(re){const te=re.refs?re.refs[0]:re.ref;te.focus&&(te.focus(),U.shouldSelect&&Wt(te.select)&&te.select())}},ze=M=>{r={...r,...M}},ee={control:{register:Y,unregister:W,getFieldState:A,handleSubmit:ce,setError:$,_subscribe:K,_runSchema:S,_focusError:Q,_getWatch:k,_getDirty:O,_setValid:y,_setFieldArray:m,_setDisabledField:G,_setErrors:x,_getFieldArray:T,_reset:me,_resetDefaultValues:()=>Wt(t.defaultValues)&&t.defaultValues().then(M=>{be(M,t.resetOptions),c.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:ie,_subjects:c,_proxyFormState:p,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return u},set _names(M){u=M},get _formState(){return r},get _options(){return t},set _options(M){t={...t,...M}}},subscribe:I,trigger:z,register:Y,handleSubmit:ce,watch:J,setValue:V,getValues:L,reset:be,resetField:fe,clearErrors:R,unregister:W,setError:$,setFocus:nt,getFieldState:A};return{...ee,formControl:ee}}var Ar=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},kl=(e,t,r={})=>r.shouldFocus||Pe(r.shouldFocus)?r.focusName||`${e}.${Pe(r.focusIndex)?t:r.focusIndex}.`:"",Nl=(e,t)=>[...e,...xt(t)],El=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ol(e,t,r){return[...e.slice(0,t),...xt(r),...e.slice(t)]}var Tl=(e,t,r)=>Array.isArray(e)?(Pe(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Al=(e,t)=>[...xt(t),...xt(e)];function KS(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return Ca(n).length?n:[]}var Pl=(e,t)=>Pe(t)?[]:KS(e,xt(t).sort((r,n)=>r-n)),Cl=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},gh=(e,t,r)=>(e[t]=r,e);function JS(e){const t=CS(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:s,rules:o}=e,[u,l]=ue.useState(r._getFieldArray(n)),d=ue.useRef(r._getFieldArray(n).map(Ar)),p=ue.useRef(u),f=ue.useRef(!1);p.current=u,r._names.array.add(n),ue.useMemo(()=>o&&r.register(n,o),[r,o,n]),ly(()=>r._subjects.array.subscribe({next:({values:_,name:j})=>{if(j===n||!j){const S=oe(_,n);Array.isArray(S)&&(l(S),d.current=S.map(Ar))}}}).unsubscribe,[r,n]);const c=ue.useCallback(_=>{f.current=!0,r._setFieldArray(n,_)},[r,n]),g=(_,j)=>{const S=xt(Ae(_)),E=Nl(r._getFieldArray(n),S);r._names.focus=kl(n,E.length-1,j),d.current=Nl(d.current,S.map(Ar)),c(E),l(E),r._setFieldArray(n,E,Nl,{argA:El(_)})},b=(_,j)=>{const S=xt(Ae(_)),E=Al(r._getFieldArray(n),S);r._names.focus=kl(n,0,j),d.current=Al(d.current,S.map(Ar)),c(E),l(E),r._setFieldArray(n,E,Al,{argA:El(_)})},y=_=>{const j=Pl(r._getFieldArray(n),_);d.current=Pl(d.current,_),c(j),l(j),!Array.isArray(oe(r._fields,n))&&Se(r._fields,n,void 0),r._setFieldArray(n,j,Pl,{argA:_})},w=(_,j,S)=>{const E=xt(Ae(j)),P=Ol(r._getFieldArray(n),_,E);r._names.focus=kl(n,_,S),d.current=Ol(d.current,_,E.map(Ar)),c(P),l(P),r._setFieldArray(n,P,Ol,{argA:_,argB:El(j)})},m=(_,j)=>{const S=r._getFieldArray(n);Cl(S,_,j),Cl(d.current,_,j),c(S),l(S),r._setFieldArray(n,S,Cl,{argA:_,argB:j},!1)},h=(_,j)=>{const S=r._getFieldArray(n);Tl(S,_,j),Tl(d.current,_,j),c(S),l(S),r._setFieldArray(n,S,Tl,{argA:_,argB:j},!1)},x=(_,j)=>{const S=Ae(j),E=gh(r._getFieldArray(n),_,S);d.current=[...E].map((P,N)=>!P||N===_?Ar():d.current[N]),c(E),l([...E]),r._setFieldArray(n,E,gh,{argA:_,argB:S},!0,!1)},v=_=>{const j=xt(Ae(_));d.current=j.map(Ar),c([...j]),l([...j]),r._setFieldArray(n,[...j],S=>S,{},!0,!1)};return ue.useEffect(()=>{if(r._state.action=!1,Hu(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!Wn(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Wn(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(_=>{const j=oe(_.errors,n),S=oe(r._formState.errors,n);(S?!j&&S.type||j&&(S.type!==j.type||S.message!==j.message):j&&j.type)&&(j?Se(r._formState.errors,n,j):Fe(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const _=oe(r._fields,n);_&&_._f&&!(Wn(r._options.reValidateMode).isOnSubmit&&Wn(r._options.mode).isOnSubmit)&&Wu(_,r._names.disabled,r._formValues,r._options.criteriaMode===Rt.all,r._options.shouldUseNativeValidation,!0).then(j=>!lt(j)&&r._subjects.state.next({errors:my(r._formState.errors,j,n)}))}r._subjects.state.next({name:n,values:Ae(r._formValues)}),r._names.focus&&Xn(r._fields,(_,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[u,n,r]),ue.useEffect(()=>(!oe(r._formValues,n)&&r._setFieldArray(n),()=>{const _=(j,S)=>{const E=oe(r._fields,j);E&&E._f&&(E._f.mount=S)};r._options.shouldUnregister||s?r.unregister(n):_(n,!1)}),[n,r,i,s]),{swap:ue.useCallback(m,[c,n,r]),move:ue.useCallback(h,[c,n,r]),prepend:ue.useCallback(b,[c,n,r]),append:ue.useCallback(g,[c,n,r]),remove:ue.useCallback(y,[c,n,r]),insert:ue.useCallback(w,[c,n,r]),update:ue.useCallback(x,[c,n,r]),replace:ue.useCallback(v,[c,n,r]),fields:ue.useMemo(()=>u.map((_,j)=>({..._,[i]:d.current[j]||Ar()})),[u,i])}}function Qt(e={}){const t=ue.useRef(void 0),r=ue.useRef(void 0),[n,i]=ue.useState({isDirty:!1,isValidating:!1,isLoading:Wt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...u}=GS(e);t.current={...u,formState:n}}const s=t.current.control;return s._options=e,ly(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),s._formState.isReady=!0,o},[s]),ue.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ue.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ue.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ue.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ue.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ue.useEffect(()=>{e.values&&!Mr(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ue.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=LS(n,s),t.current}var gy={exports:{}},YS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QS=YS,ZS=QS;function yy(){}function vy(){}vy.resetWarningCache=yy;var XS=function(){function e(n,i,s,o,u,l){if(l!==ZS){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:vy,resetWarningCache:yy};return r.PropTypes=r,r};gy.exports=XS();var ej=gy.exports;const Re=ec(ej);function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yh(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function So(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?So=function(t){return typeof t}:So=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function xy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function rj(e,t){if(e==null)return{};var r=tj(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function by(e,t){return nj(e)||ij(e,t)||sj(e,t)||oj()}function nj(e){if(Array.isArray(e))return e}function ij(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],i=!0,s=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(l){s=!0,u=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw u}}return n}}function sj(e,t){if(e){if(typeof e=="string")return xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xh(e,t)}}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var St=function(t,r,n){var i=!!n,s=ue.useRef(n);ue.useEffect(function(){s.current=n},[n]),ue.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(r,o),function(){t.off(r,o)}},[i,r,t,s])},Gu=function(t){var r=ue.useRef(t);return ue.useEffect(function(){r.current=t},[t]),r.current},ui=function(t){return t!==null&&So(t)==="object"},aj=function(t){return ui(t)&&typeof t.then=="function"},lj=function(t){return ui(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},bh="[object Object]",uj=function e(t,r){if(!ui(t)||!ui(r))return t===r;var n=Array.isArray(t),i=Array.isArray(r);if(n!==i)return!1;var s=Object.prototype.toString.call(t)===bh,o=Object.prototype.toString.call(r)===bh;if(s!==o)return!1;if(!s&&!n)return t===r;var u=Object.keys(t),l=Object.keys(r);if(u.length!==l.length)return!1;for(var d={},p=0;p<u.length;p+=1)d[u[p]]=!0;for(var f=0;f<l.length;f+=1)d[l[f]]=!0;var c=Object.keys(d);if(c.length!==u.length)return!1;var g=t,b=r,y=function(m){return e(g[m],b[m])};return c.every(y)},wy=function(t,r,n){return ui(t)?Object.keys(t).reduce(function(i,s){var o=!ui(r)||!uj(t[s],r[s]);return n.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?vh(vh({},i||{}),{},xy({},s,t[s])):i},null):null},_y="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",wh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_y;if(t===null||lj(t))return t;throw new Error(r)},cj=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_y;if(aj(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return wh(i,r)})};var n=wh(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},dj=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.1"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.1",url:"https://stripe.com/docs/stripe-js/react"}))},La=ue.createContext(null);La.displayName="ElementsContext";var Sy=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},jy=function(t){var r=t.stripe,n=t.options,i=t.children,s=ue.useMemo(function(){return cj(r)},[r]),o=ue.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(n):null}}),u=by(o,2),l=u[0],d=u[1];ue.useEffect(function(){var c=!0,g=function(y){d(function(w){return w.stripe?w:{stripe:y,elements:y.elements(n)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(b){b&&c&&g(b)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){c=!1}},[s,l,n]);var p=Gu(r);ue.useEffect(function(){p!==null&&p!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[p,r]);var f=Gu(n);return ue.useEffect(function(){if(l.elements){var c=wy(n,f,["clientSecret","fonts"]);c&&l.elements.update(c)}},[n,f,l.elements]),ue.useEffect(function(){dj(l.stripe)},[l.stripe]),ue.createElement(La.Provider,{value:l},i)};jy.propTypes={stripe:Re.any,options:Re.object};var fj=function(t){var r=ue.useContext(La);return Sy(r,t)},hj=function(){var t=fj("calls useElements()"),r=t.elements;return r};Re.func.isRequired;var ky=ue.createContext(null);ky.displayName="CheckoutSdkContext";var pj=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},mj=ue.createContext(null);mj.displayName="CheckoutContext";Re.any,Re.shape({fetchClientSecret:Re.func.isRequired,elementsOptions:Re.object}).isRequired;var Ku=function(t){var r=ue.useContext(ky),n=ue.useContext(La);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?pj(r,t):Sy(n,t)},gj=["mode"],yj=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ve=function(t,r){var n="".concat(yj(t),"Element"),i=function(l){var d=l.id,p=l.className,f=l.options,c=f===void 0?{}:f,g=l.onBlur,b=l.onFocus,y=l.onReady,w=l.onChange,m=l.onEscape,h=l.onClick,x=l.onLoadError,v=l.onLoaderStart,_=l.onNetworksChange,j=l.onConfirm,S=l.onCancel,E=l.onShippingAddressChange,P=l.onShippingRateChange,N=Ku("mounts <".concat(n,">")),O="elements"in N?N.elements:null,k="checkoutSdk"in N?N.checkoutSdk:null,T=ue.useState(null),C=by(T,2),D=C[0],V=C[1],F=ue.useRef(null),H=ue.useRef(null);St(D,"blur",g),St(D,"focus",b),St(D,"escape",m),St(D,"click",h),St(D,"loaderror",x),St(D,"loaderstart",v),St(D,"networkschange",_),St(D,"confirm",j),St(D,"cancel",S),St(D,"shippingaddresschange",E),St(D,"shippingratechange",P),St(D,"change",w);var z;y&&(t==="expressCheckout"?z=y:z=function(){y(D)}),St(D,"ready",z),ue.useLayoutEffect(function(){if(F.current===null&&H.current!==null&&(O||k)){var A=null;if(k)switch(t){case"payment":A=k.createPaymentElement(c);break;case"address":if("mode"in c){var R=c.mode,$=rj(c,gj);if(R==="shipping")A=k.createShippingAddressElement($);else if(R==="billing")A=k.createBillingAddressElement($);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":A=k.createExpressCheckoutElement(c);break;case"currencySelector":A=k.createCurrencySelectorElement();break;case"taxId":A=k.createTaxIdElement(c);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(A=O.create(t,c));F.current=A,V(A),A&&A.mount(H.current)}},[O,k,c]);var L=Gu(c);return ue.useEffect(function(){if(F.current){var A=wy(c,L,["paymentRequest"]);A&&"update"in F.current&&F.current.update(A)}},[c,L]),ue.useLayoutEffect(function(){return function(){if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}}},[]),ue.createElement("div",{id:d,className:p,ref:H})},s=function(l){Ku("mounts <".concat(n,">"));var d=l.id,p=l.className;return ue.createElement("div",{id:d,className:p})},o=r?s:i;return o.propTypes={id:Re.string,className:Re.string,onChange:Re.func,onBlur:Re.func,onFocus:Re.func,onReady:Re.func,onEscape:Re.func,onClick:Re.func,onLoadError:Re.func,onLoaderStart:Re.func,onNetworksChange:Re.func,onConfirm:Re.func,onCancel:Re.func,onShippingAddressChange:Re.func,onShippingRateChange:Re.func,options:Re.object},o.displayName=n,o.__elementType=t,o},He=typeof window>"u",vj=ue.createContext(null);vj.displayName="EmbeddedCheckoutProviderContext";var xj=function(){var t=Ku("calls useStripe()"),r=t.stripe;return r};Ve("auBankAccount",He);Ve("card",He);Ve("cardNumber",He);Ve("cardExpiry",He);Ve("cardCvc",He);Ve("fpxBank",He);Ve("iban",He);Ve("idealBank",He);Ve("p24Bank",He);Ve("epsBank",He);var bj=Ve("payment",He);Ve("expressCheckout",He);Ve("currencySelector",He);Ve("paymentRequestButton",He);Ve("linkAuthentication",He);Ve("address",He);Ve("shippingAddress",He);Ve("paymentMethodMessaging",He);Ve("affirmMessage",He);Ve("afterpayClearpayMessage",He);Ve("taxId",He);var Ny="basil",wj=function(t){return t===3?"v3":t},Ey="https://js.stripe.com",_j="".concat(Ey,"/").concat(Ny,"/stripe.js"),Sj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,jj=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var kj=function(t){return Sj.test(t)||jj.test(t)},Nj=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Ey,'"]')),r=0;r<t.length;r++){var n=t[r];if(kj(n.src))return n}return null},_h=function(t){var r="",n=document.createElement("script");n.src="".concat(_j).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Ej=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:r})},Di=null,no=null,io=null,Oj=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},Tj=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Aj=function(t){return Di!==null?Di:(Di=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=Nj();if(!(i&&t)){if(!i)i=_h(t);else if(i&&io!==null&&no!==null){var s;i.removeEventListener("load",io),i.removeEventListener("error",no),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=_h(t)}}io=Tj(r,n),no=Oj(n),i.addEventListener("load",io),i.addEventListener("error",no)}catch(o){n(o);return}}),Di.catch(function(r){return Di=null,Promise.reject(r)}))},Pj=function(t,r,n){if(t===null)return null;var i=r[0],s=i.match(/^pk_test/),o=wj(t.version),u=Ny;s&&o!==u&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,r);return Ej(l,n),l},Mi,Oy=!1,Ty=function(){return Mi||(Mi=Aj(null).catch(function(t){return Mi=null,Promise.reject(t)}),Mi)};Promise.resolve().then(function(){return Ty()}).catch(function(e){Oy||console.warn(e)});var Cj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Oy=!0;var i=Date.now();return Ty().then(function(s){return Pj(s,r,i)})};const Lj=Cj("pk_test_51Rva8bFT1tWVhL4xmnMUUsqNpdE9d11wJI8ZwOirVj7PwjKvLId3qf17975Xa8QIakJTXpICceiTI6KCGZTWltq200CG3kGOUv"),Rj=()=>Lj,Ij=async(e,t,r)=>{const n="https://eldmxjzprivmwuknwjmv.supabase.co",i=JSON.stringify({amount:e,game_id:t,email:r,currency:"GBP"});console.log("Sending request body:",i);try{const s=await fetch(`${n}/functions/v1/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsZG14anpwcml2bXd1a253am12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5ODQ5NjIsImV4cCI6MjA3MDU2MDk2Mn0.F9JCuWf4GNiyzq_ZoND4zWxChkK_cIzKVR0OTT-O2O0"},body:i});if(console.log("Response received:",s),console.log("Response status:",s.status),console.log("Response ok:",s.ok),!s.ok){const u=await s.text();throw new Error(`Failed to create payment intent: ${s.status} ${s.statusText} - ${u}`)}const o=await s.json();return console.log("Response JSON:",o),o}catch(s){throw s instanceof TypeError&&s.message==="Failed to fetch"?new Error("Unable to connect to payment service. Please check that the Supabase Edge Function is deployed and accessible."):(console.error("Error in createPaymentIntent:",s),s)}},Dj=({selectedGame:e,email:t,opt_in_marketing:r,clientSecret:n,setPurchaseComplete:i,setAccessCode:s,setError:o,setIsProcessing:u})=>{const l=xj(),d=hj(),{getSetting:p}=kr();console.log("Stripe object from useStripe():",l),console.log("Elements object from useElements():",d);const f=async b=>{if(b.preventDefault(),!l||!d||!n){o("Payment system not ready. Please try again.");return}u(!0),o(null);try{const{error:y,paymentIntent:w}=await l.confirmPayment({elements:d,confirmParams:{return_url:`${window.location.origin}/purchase-success`},redirect:"if_required"});if(y){o(y.message||"Payment failed. Please try again."),u(!1);return}w&&w.status==="succeeded"?await c(w.id):(o("Payment was not completed. Please try again."),u(!1))}catch(y){console.error("Payment error:",y),o("An unexpected error occurred. Please try again."),u(!1)}},c=async b=>{try{let y,w=!1;for(;!w;){y=g();const{data:j}=await se.from("access_codes").select("id").eq("code",y).single();w=!j}const{data:m,error:h}=await se.from("access_codes").insert({code:y,game_id:e.id,is_active:!0}).select().single();if(h)throw h;const x=p("game_price","29.99"),v=Math.round(parseFloat(x)*100),{error:_}=await se.from("purchases").insert({email:t,game_id:e.id,access_code_id:m.id,amount:v,stripe_payment_intent_id:b,status:"completed",opt_in_marketing:r});if(_)throw _;try{const S=await fetch("https://eldmxjzprivmwuknwjmv.supabase.co/functions/v1/send-access-code-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsZG14anpwcml2bXd1a253am12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5ODQ5NjIsImV4cCI6MjA3MDU2MDk2Mn0.F9JCuWf4GNiyzq_ZoND4zWxChkK_cIzKVR0OTT-O2O0"},body:JSON.stringify({email:t,accessCode:y,gameTitle:e.title,customerName:t.split("@")[0]})});if(S.ok)console.log("Access code email sent successfully");else{const E=await S.json();console.error("Failed to send access code email:",E)}}catch(j){console.error("Error sending access code email:",j)}s(y),i(!0)}catch(y){console.error("Post-payment processing failed:",y),o("Payment succeeded but there was an issue generating your access code. Please contact support.")}finally{u(!1)}},g=()=>{const b="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let y="";for(let w=0;w<8;w++)y+=b.charAt(Math.floor(Math.random()*b.length));return y};return a.jsx("form",{onSubmit:f,className:"space-y-6",children:!l||!d?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),a.jsx("p",{className:"text-amber-800",children:"Loading payment form..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Payment Details"}),console.log("About to render PaymentElement with options:",{layout:"tabs"}),a.jsx(bj,{onReady:()=>console.log("PaymentElement is ready"),onError:b=>console.error("PaymentElement error:",b),onLoaderStart:()=>console.log("PaymentElement loader started")}),console.log("PaymentElement rendered")]}),a.jsxs("button",{type:"submit",disabled:!l||!d,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(ey,{className:"h-5 w-5"}),a.jsx("span",{children:"Complete Purchase"})]})]})})},Mj=()=>{const[e,t]=q.useState([]),[r,n]=q.useState(null),[i,s]=q.useState(null),[o,u]=q.useState(!1),[l,d]=q.useState(!1),[p,f]=q.useState(!1),[c,g]=q.useState(""),[b,y]=q.useState(null),[w,m]=q.useState(!1),{getSetting:h}=kr(),{register:x,handleSubmit:v,watch:_,formState:{errors:j}}=Qt(),S=_("game_id"),E=_("email"),P=_("opt_in_marketing"),N=Rj();console.log("Stripe publishable key:","pk_test_51Rva8bFT1tWVhL4xmnMUUsqNpdE9d11wJI8ZwOirVj7PwjKvLId3qf17975Xa8QIakJTXpICceiTI6KCGZTWltq200CG3kGOUv"),console.log("Stripe promise:",N),q.useEffect(()=>{O()},[]),q.useEffect(()=>{if(S){const T=e.find(C=>C.id===S);n(T||null)}},[S,e]),q.useEffect(()=>{w&&r&&E&&(async()=>{if(!(!r||!E))try{u(!0),y(null);const C=h("game_price","29.99"),D=Math.round(parseFloat(C)*100);console.log("Payment initialization values:",{amount:D,gameId:r.id,email:E,gamePrice:C});const{client_secret:V}=await Ij(D,r.id,E);console.log("Received client_secret:",V),s(V)}catch(C){console.error("Failed to initialize payment:",C),y(C instanceof Error?C.message:"Failed to initialize payment. Please try again.")}finally{u(!1)}})()},[w,r,E,h]);const O=async()=>{try{const{data:T,error:C}=await se.from("games").select("*").order("title");if(C)throw C;t(T||[])}catch(T){console.error("Failed to load games:",T),y("Failed to load available games")}},k=T=>{if(!r){y("Please select a game");return}y(null),m(!0)};return p?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx("div",{className:"bg-gradient-to-b from-green-50 to-green-100 rounded-2xl shadow-2xl p-8 border-4 border-green-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Lt,{className:"h-16 w-16 text-green-600 mx-auto mb-6"}),a.jsx("h2",{className:"text-3xl font-bold text-green-900 mb-4",children:"Purchase Successful!"}),a.jsx("p",{className:"text-green-700 mb-6",children:"Your payment has been processed and your access code has been generated."}),a.jsxs("div",{className:"bg-green-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2",children:"Your Access Code"}),a.jsx("div",{className:"text-3xl font-mono font-bold text-green-800 tracking-wider",children:c}),a.jsx("p",{className:"text-green-700 text-sm mt-2",children:"Valid for 12 hours from first use"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("a",{href:"/play",className:"block bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Start Playing Now"}),a.jsx("p",{className:"text-green-700 text-sm text-center",children:"Save this code! You can also find it in your email receipt."}),a.jsx("a",{href:"/",className:"block text-green-700 hover:text-green-800 font-medium",children:"Return to Homepage"})]})]})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-amber-100 mb-4",children:"Purchase Your Adventure"}),a.jsx("p",{className:"text-xl text-amber-200",children:"Choose your game and get instant access to hours of puzzle fun"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 shadow-xl",children:[a.jsx("h2",{className:"text-2xl font-bold text-amber-900 mb-6",children:"Select Your Game"}),w?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-amber-100 rounded-lg p-4",children:[a.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Game:"}),a.jsx("span",{className:"font-medium",children:r==null?void 0:r.title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Email:"}),a.jsx("span",{className:"font-medium",children:E})]}),a.jsxs("div",{className:"flex justify-between border-t border-amber-300 pt-2 font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["£",h("game_price","20.00")]})]})]})]}),b&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:b})]})}),o&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Y_,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-amber-600"}),a.jsx("p",{className:"text-amber-800",children:"Initializing secure payment..."})]}),!o&&!i&&w&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Mt,{className:"h-8 w-8 mx-auto mb-4 text-red-600"}),a.jsx("p",{className:"text-red-800",children:"Unable to initialize payment. Please refresh and try again."})]}),!o&&i&&i.length>0&&r&&E&&N&&a.jsxs(a.Fragment,{children:[console.log("Rendering Elements with clientSecret:",i),a.jsx(jy,{stripe:N,options:{clientSecret:i},children:a.jsx(Dj,{selectedGame:r,email:E,opt_in_marketing:P||!1,clientSecret:i,setPurchaseComplete:f,setAccessCode:g,setError:y,setIsProcessing:d})})]}),a.jsx("button",{onClick:()=>m(!1),className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Back to Game Selection"})]}):a.jsxs("form",{onSubmit:v(k),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Choose Game"}),a.jsxs("select",{...x("game_id",{required:"Please select a game"}),className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none",children:[a.jsx("option",{value:"",children:"Select a game..."}),e.map(T=>a.jsxs("option",{value:T.id,children:[T.title," - £",h("game_price","20.00")]},T.id))]}),j.game_id&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:j.game_id.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Email Address"}),a.jsx("input",{...x("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",placeholder:"your@email.com",className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none"}),j.email&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:j.email.message})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...x("opt_in_marketing"),type:"checkbox",id:"marketing",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-amber-300 rounded"}),a.jsx("label",{htmlFor:"marketing",className:"ml-2 text-sm text-amber-800",children:"Subscribe to our newsletter for updates and special offers"})]}),b&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:b})]})}),a.jsxs("button",{type:"submit",disabled:!r,className:"w-full bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(ey,{className:"h-5 w-5"}),a.jsx("span",{children:"Proceed to Payment"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[r?a.jsxs("div",{className:"bg-amber-800 rounded-xl p-6 shadow-xl",children:[a.jsx("h3",{className:"text-2xl font-bold text-amber-100 mb-4",children:r.title}),a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"inline-block bg-amber-600 text-amber-100 text-xs px-2 py-1 rounded-full uppercase tracking-wide",children:r.theme})}),a.jsx("p",{className:"text-amber-200 mb-6",children:r.description}),a.jsxs("div",{className:"text-3xl font-bold text-amber-100",children:["£",h("game_price","20.00")]})]}):a.jsx("div",{className:"bg-amber-800 rounded-xl p-6 shadow-xl text-center",children:a.jsx("p",{className:"text-amber-200",children:"Select a game to see details"})}),a.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 shadow-xl",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"What's Included"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-amber-800",children:"12 hours of gameplay from first use"})]}),a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-amber-800",children:"Progressive clue system"})]}),a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-amber-800",children:"Resume anytime within window"})]}),a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-amber-800",children:"Mobile and desktop compatible"})]}),a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-amber-800",children:"Instant access after payment"})]})]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-6 shadow-xl",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx(sy,{className:"h-6 w-6 text-green-600"}),a.jsx("h3",{className:"text-lg font-bold text-green-900",children:"Secure Payment"})]}),a.jsx("p",{className:"text-green-800 text-sm",children:"Your payment is processed securely through Stripe. We never store your payment information."})]})]})]})]})})},$j=()=>{const[e,t]=q.useState(!1),{register:r,handleSubmit:n,formState:{errors:i}}=Qt(),{setSession:s,setGame:o,setPuzzles:u,setAccessCode:l,setLoading:d,setError:p}=sr(),f=async c=>{var g;t(!0),p(null);try{const{data:b,error:y}=await se.from("access_codes").select(`
          *,
          games (*)
        `).eq("code",c.code.toUpperCase()).eq("is_active",!0).single();if(y||!b){p("Invalid access code. Please check your code and try again.");return}if(b.activated_at){const _=new Date(b.activated_at),j=new Date(_.getTime()+12*60*60*1e3);if(new Date>j&&b.code!=="TEST2025"){p("This access code has expired. Each code is valid for 12 hours from first use.");return}}let w=b;if(!b.activated_at){const _=new Date().toISOString(),j=new Date(Date.now()+12*60*60*1e3).toISOString(),{data:S,error:E}=await se.from("access_codes").update({activated_at:_,expires_at:j}).eq("id",b.id).select().single();if(E){p("Failed to activate code. Please try again.");return}w=S,await se.from("code_usage_logs").insert({access_code_id:b.id,game_id:b.game_id,action:"activated",timestamp:_,metadata:{user_agent:navigator.userAgent}})}const{data:m,error:h}=await se.from("puzzles").select("*").eq("game_id",b.game_id).order("sequence_order");if(h){p("Failed to load game puzzles.");return}if(!m||m.length===0){p("No puzzles found for this game. Please contact support.");return}let x;const{data:v}=await se.from("player_sessions").select("*").eq("access_code_id",w.id).maybeSingle();if(v){const{data:_}=await se.from("player_sessions").update({last_activity:new Date().toISOString()}).eq("id",v.id).select().single();x=_||v}else{const{data:_,error:j}=await se.from("player_sessions").insert({access_code_id:w.id,game_id:b.game_id,current_puzzle_id:((g=m[0])==null?void 0:g.id)||null,completed_puzzles:[],session_data:{},last_activity:new Date().toISOString()}).select().single();if(j){p("Failed to create game session.");return}x=_}l(w),o(b.games),u(m),s(x),window.scrollTo({top:0,behavior:"smooth"})}catch(b){console.error("Code validation error:",b),p("An unexpected error occurred. Please try again."),window.scrollTo({top:0,behavior:"smooth"})}finally{t(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-b from-gray-100 to-gray-50 rounded-2xl shadow-2xl p-8 max-w-md w-full border-4 border-yellow-600",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-gray-800 p-4 rounded-full inline-block mb-4 shadow-lg border-2 border-yellow-600",children:a.jsx(Kr,{className:"h-12 w-12 text-yellow-200"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Enter Your Access Code"}),a.jsx("p",{className:"text-gray-700",children:"Enter the unique code you received to start your puzzle adventure"})]}),a.jsxs("form",{onSubmit:n(f),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-bold text-gray-900 mb-2",children:"Access Code"}),a.jsx("input",{...r("code",{required:"Access code is required",minLength:{value:6,message:"Code must be at least 6 characters"}}),type:"text",id:"code",placeholder:"Enter your code...",className:"w-full px-4 py-3 border-2 border-yellow-400 rounded-lg focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 outline-none transition-colors text-center text-lg font-mono uppercase tracking-wider",style:{textTransform:"uppercase"}}),i.code&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-1"}),i.code.message]})]}),a.jsx("button",{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-green-700 to-green-800 hover:from-green-800 hover:to-green-900 text-yellow-100 font-bold py-4 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Validating...":"Start Adventure"})]}),a.jsx("div",{className:"mt-6 p-4 bg-yellow-100 rounded-lg border-l-4 border-yellow-600",children:a.jsxs("p",{className:"text-gray-800 text-sm",children:[a.jsx("strong",{children:"Note:"})," Access codes are valid for 12 hours from first use. You can resume your progress anytime within this window."]})})]})})},Ay=({showAdminControls:e,onLogout:t})=>{const{currentGame:r,currentSession:n}=sr(),{getSetting:i}=kr();return a.jsx("header",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 shadow-xl border-b-4 border-yellow-600",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-yellow-100 p-2 rounded-full shadow-lg",children:a.jsx(ad,{className:"h-8 w-8 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-yellow-200 tracking-wide",children:i("site_name")}),r&&a.jsx("p",{className:"text-yellow-300 text-sm font-medium",children:r.title})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[e&&a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 px-3 py-2 rounded-lg",children:[a.jsx(ty,{className:"h-5 w-5 text-yellow-300"}),a.jsx("span",{className:"text-yellow-200 font-medium",children:"Admin"})]}),n&&a.jsxs("div",{className:"text-yellow-200 text-sm",children:["Progress: ",n.completed_puzzles.length," puzzles"]}),t&&a.jsxs("button",{onClick:t,className:"flex items-center space-x-2 bg-red-700 hover:bg-red-600 px-4 py-2 rounded-lg text-white transition-colors",children:[a.jsx(eS,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})})},zj=()=>{const{puzzles:e,currentPuzzle:t,currentSession:r}=sr();if(!e.length||!r)return null;const n=t?e.findIndex(s=>s.id===t.id):0,i=r.completed_puzzles;return a.jsx("div",{className:"bg-gray-800 py-4 px-6 shadow-lg border-b border-yellow-600",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between text-yellow-200 mb-3",children:[a.jsx("h3",{className:"font-bold",children:"Progress"}),a.jsxs("span",{className:"text-sm",children:[i.length," of ",e.length," completed"]})]}),a.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2",children:e.map((s,o)=>{const u=i.includes(s.id),l=(t==null?void 0:t.id)===s.id,d=o<=n;return a.jsxs("div",{className:"flex items-center flex-shrink-0",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${u?"bg-green-600 border-green-400 text-white":l?"bg-yellow-600 border-yellow-400 text-gray-900 animate-pulse":d?"bg-gray-700 border-yellow-500 text-yellow-200":"bg-gray-600 border-gray-500 text-gray-400"}`,title:s.title,children:u?a.jsx(Lt,{className:"h-6 w-6"}):d?a.jsx(R_,{className:"h-6 w-6"}):a.jsx(Z_,{className:"h-4 w-4"})}),o<e.length-1&&a.jsx("div",{className:`w-8 h-0.5 mx-1 ${i.includes(s.id)?"bg-green-400":"bg-yellow-600"}`})]},s.id)})}),t&&a.jsxs("p",{className:"text-yellow-300 text-sm mt-2 text-center",children:["Current: ",t.title]})]})})},Fj=()=>{const[e,t]=q.useState(!1),[r,n]=q.useState(!1),{register:i,handleSubmit:s,reset:o,formState:{errors:u}}=Qt(),{currentPuzzle:l,currentSession:d,puzzles:p,revealedClues:f,revealNextClue:c,resetClues:g,markPuzzleComplete:b,setCurrentPuzzle:y,setSession:w,setError:m}=sr();q.useEffect(()=>{l&&(g(),t(!1),o())},[l==null?void 0:l.id]);const h=async j=>{if(!l||!d)return;n(!0);const S=j.answer.toLowerCase().trim(),E=l.answer.toLowerCase().trim();if(S===E){const P=[...d.completed_puzzles,l.id],{error:N}=await se.from("player_sessions").update({completed_puzzles:P,last_activity:new Date().toISOString()}).eq("id",d.id);if(N){m("Failed to save progress"),n(!1);return}b(l.id),w({...d,completed_puzzles:P}),t(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{x()},3e3)}else f<l.clues.length?(c(),setTimeout(()=>{const P=f,N=document.getElementById(`clue-${P}`);if(N)N.scrollIntoView({behavior:"smooth",block:"center"});else{const O=document.getElementById("clues-section");if(O)O.scrollIntoView({behavior:"smooth",block:"start"});else{const k=document.getElementById("answer-input");k&&k.scrollIntoView({behavior:"smooth",block:"center"})}}},100)):setTimeout(()=>{const P=document.getElementById("answer-input");P&&P.scrollIntoView({behavior:"smooth",block:"center"})},100);n(!1),o()},x=()=>{if(!l||!d)return;const j=p.findIndex(E=>E.id===l.id),S=p[j+1];S&&(y(S),window.scrollTo({top:0,behavior:"smooth"}),se.from("player_sessions").update({current_puzzle_id:S.id}).eq("id",d.id))},v=l?p.findIndex(j=>j.id===l.id)===p.length-1:!1,_=(d==null?void 0:d.completed_puzzles.includes((l==null?void 0:l.id)||""))||!1;return l?a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-700 rounded-xl p-6 mb-8 shadow-xl border border-yellow-600",children:[a.jsx("h2",{className:"text-3xl font-bold text-yellow-200 mb-3",children:l.title}),a.jsx("div",{className:"prose prose-lg prose-invert max-w-none text-yellow-300",dangerouslySetInnerHTML:{__html:l.description}})]}),a.jsxs("div",{className:"bg-gray-100 rounded-xl p-6 mb-6 border-4 border-yellow-400 shadow-lg",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(U_,{className:"h-6 w-6 mr-2"}),"The Challenge"]}),(l.image_url||l.video_url)&&a.jsx("div",{className:"mb-6",children:l.video_url?a.jsx("div",{className:"relative rounded-lg overflow-hidden",children:a.jsxs("video",{className:"w-full h-auto object-contain",controls:!0,preload:"metadata",children:[a.jsx("source",{src:l.video_url,type:"video/mp4"}),"Your browser does not support the video tag."]})}):l.image_url&&a.jsx("div",{className:"relative rounded-lg overflow-hidden",children:a.jsx("img",{src:l.image_url,alt:"Puzzle illustration",className:"w-full h-auto object-contain",onError:j=>{j.currentTarget.style.display="none"}})})}),a.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 font-medium",dangerouslySetInnerHTML:{__html:l.riddle}})]}),l.clues.length>0&&a.jsxs("div",{id:"clues-section",className:"bg-yellow-50 rounded-xl p-6 mb-6 border-2 border-yellow-500",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ny,{className:"h-5 w-5 mr-2"}),"Clues ",f>0&&`(${f}/${l.clues.length})`]}),f===0?a.jsx("p",{className:"text-gray-700 italic",children:"Submit an incorrect answer to reveal your first clue!"}):a.jsx("div",{className:"space-y-3",children:l.clues.slice(0,f).map((j,S)=>a.jsxs("div",{id:`clue-${S}`,className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-yellow-600 text-gray-900 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:S+1}),a.jsx("p",{className:"text-gray-800 flex-1",children:j})]},S))})]}),!_&&!e&&a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-xl border-2 border-yellow-400",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Answer"}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("input",{...i("answer",{required:"Please enter your answer"}),id:"answer-input",type:"text",placeholder:"Enter your answer...",className:"w-full px-4 py-3 border-2 border-yellow-400 rounded-lg focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 outline-none transition-colors text-lg"}),u.answer&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:u.answer.message})]}),a.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-green-700 to-green-800 hover:from-green-800 hover:to-green-900 text-yellow-100 font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:r?"Checking...":"Submit Answer"})]})]}),e&&a.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl p-6 text-center shadow-xl",children:[a.jsx(Lt,{className:"h-16 w-16 text-green-100 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-green-100 mb-2",children:"Brilliant! You got it!"}),a.jsxs("p",{className:"text-green-200 text-lg mb-4",children:["The answer was: ",a.jsx("strong",{children:l.answer})]}),v?a.jsx("p",{className:"text-green-100 text-xl font-bold",children:"🎉 Congratulations! You've completed all puzzles! 🎉"}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-green-100",children:"Moving to the next puzzle..."}),a.jsxs("button",{onClick:x,className:"inline-flex items-center bg-green-500 hover:bg-green-400 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:["Continue ",a.jsx(Qo,{className:"h-4 w-4 ml-2"})]})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-yellow-200 text-lg",children:"Loading puzzle..."})})},qj=({splashScreen:e,onContinue:t,isLastInSequence:r=!1})=>{const n=()=>{window.scrollTo({top:0,behavior:"smooth"}),t()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-gradient-to-b from-gray-100 to-gray-50 rounded-2xl shadow-2xl overflow-hidden border-4 border-yellow-600",children:[(e.image_url||e.video_url)&&a.jsx("div",{className:"relative bg-gray-900",children:e.video_url?a.jsxs("div",{className:"relative",children:[a.jsxs("video",{className:"w-full h-auto object-contain",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[a.jsx("source",{src:e.video_url,type:"video/mp4"}),"Your browser does not support the video tag."]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-end",children:a.jsx("div",{className:"p-6",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-yellow-100 mb-2",children:e.title})})})]}):a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto object-contain"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 p-6",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-yellow-100 mb-2",children:e.title})})]})}),a.jsxs("div",{className:"p-8 md:p-12",children:[!e.image_url&&!e.video_url&&a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6 text-center",children:e.title}),a.jsx("div",{className:"prose prose-gray max-w-none text-gray-800 text-lg leading-relaxed mb-8",dangerouslySetInnerHTML:{__html:e.content}}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:n,className:"bg-gradient-to-r from-green-700 to-green-800 hover:from-green-800 hover:to-green-900 text-yellow-100 font-bold px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl text-lg inline-flex items-center space-x-2",children:[a.jsx(ud,{className:"h-5 w-5"}),a.jsx("span",{children:r?"Continue Adventure":"Continue"}),a.jsx(Qo,{className:"h-5 w-5"})]})})]})]})})})},Uj=()=>{const[e,t]=q.useState(!0),[r,n]=q.useState(null),[i,s]=q.useState(!1),[o,u]=q.useState([]),[l,d]=q.useState([]),{currentSession:p,currentGame:f,puzzles:c,currentPuzzle:g,accessCode:b,setCurrentPuzzle:y,clearSession:w,setError:m,setSession:h}=sr();q.useEffect(()=>{f&&x()},[f]);const x=async()=>{if(f)try{const{data:P,error:N}=await se.from("splash_screens").select("*").eq("game_id",f.id).order("sequence_order");if(N)throw N;u(P||[])}catch(P){console.error("Failed to load splash screens:",P)}};q.useEffect(()=>{if(p&&c.length>0){if(v(),!i){let P=null;p.current_puzzle_id&&(P=c.find(N=>N.id===p.current_puzzle_id)),(!P||p.completed_puzzles.includes(P.id))&&(P=c.find(N=>!p.completed_puzzles.includes(N.id))),!P&&p.completed_puzzles.length===c.length&&c.length>0&&(P=c[c.length-1]),y(P)}t(!1)}else p&&c.length===0&&!e?setTimeout(()=>{c.length===0&&(m("No puzzles found for this game."),t(!1))},1e3):!p&&!e&&setTimeout(()=>{p||(m("No active game session found."),t(!1))},1e3)},[p,c,o,i,y,m]);const v=()=>{var T;if(!p||o.length===0)return;const P=((T=p.session_data)==null?void 0:T.viewedSplashes)||[];let N=[];const k=o.filter(C=>!C.puzzle_id).sort((C,D)=>C.sequence_order-D.sequence_order).filter(C=>!P.includes(C.id));if(k.length>0)N=k;else{const C=c.find(D=>!p.completed_puzzles.includes(D.id));if(C){const V=o.filter(F=>F.puzzle_id===C.id).sort((F,H)=>F.sequence_order-H.sequence_order).filter(F=>!P.includes(F.id));V.length>0&&(N=V)}}N.length>0&&(d(N),n(N[0]),s(!0))},_=async()=>{var N;if(r&&p){const O=((N=p.session_data)==null?void 0:N.viewedSplashes)||[],k={...p.session_data,viewedSplashes:[...O,r.id]};await se.from("player_sessions").update({session_data:k}).eq("id",p.id),h({...p,session_data:k})}const P=l.slice(1);P.length>0?(d(P),n(P[0])):(s(!1),n(null),d([]))};q.useEffect(()=>{if(b&&b.activated_at&&b.code!=="TEST2025"){const P=new Date(b.activated_at),N=new Date(P.getTime()+12*60*60*1e3),O=new Date;if(O>N){m("Your access code has expired. Each code is valid for 12 hours from first use."),setTimeout(()=>{w()},3e3);return}const k=N.getTime()-O.getTime(),T=setTimeout(()=>{m("Your access code has expired."),w()},k);return()=>clearTimeout(T)}},[b,m,w]);const j=()=>{window.scrollTo({top:0,behavior:"smooth"}),w()},S=async()=>{var P,N;if(!(!p||!b||b.code!=="TEST2025"))try{const{error:O}=await se.from("player_sessions").update({current_puzzle_id:((P=c[0])==null?void 0:P.id)||null,completed_puzzles:[],session_data:{viewedSplashes:[]},last_activity:new Date().toISOString()}).eq("id",p.id);if(O){m("Failed to reset game");return}h({...p,current_puzzle_id:((N=c[0])==null?void 0:N.id)||null,completed_puzzles:[],session_data:{viewedSplashes:[]}}),y(c[0]||null),s(!1),n(null),d([]),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{v()},100)}catch(O){console.error("Failed to reset test game:",O),m("Failed to reset game")}},E=p?p.completed_puzzles.length===c.length&&c.length>0:!1;if(e)return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-yellow-200 mx-auto mb-4"}),a.jsx("p",{className:"text-yellow-200 text-lg",children:"Loading your adventure..."})]})});if(i&&r){const P=l.length<=1;return a.jsx(qj,{splashScreen:r,onContinue:_,isLastInSequence:P})}return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[a.jsx(Ay,{onLogout:j}),a.jsx(zj,{}),a.jsx("div",{className:"py-8",children:E?a.jsx("div",{className:"max-w-4xl mx-auto p-6",children:a.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-2xl p-12 text-center shadow-2xl",children:[a.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),a.jsx("h2",{className:"text-4xl font-bold text-green-100 mb-4",children:"Congratulations!"}),a.jsxs("p",{className:"text-xl text-green-200 mb-6",children:[`You've successfully completed "`,f==null?void 0:f.title,'"!']}),a.jsxs("div",{className:"bg-green-800 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-green-100 mb-2",children:"Game Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-green-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:c.length}),a.jsx("p",{className:"text-sm",children:"Puzzles Solved"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:Math.round((Date.now()-new Date(p.created_at).getTime())/(1e3*60))}),a.jsx("p",{className:"text-sm",children:"Minutes Played"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:"100%"}),a.jsx("p",{className:"text-sm",children:"Completion Rate"})]})]})]}),a.jsx("p",{className:"text-green-200 mb-6",children:"Thank you for playing! We hope you enjoyed your puzzle adventure."}),a.jsx("button",{onClick:j,className:"bg-green-500 hover:bg-green-400 text-white font-bold py-3 px-8 rounded-lg transition-colors text-lg",children:"Finish Game"}),(b==null?void 0:b.code)==="TEST2025"&&a.jsx("button",{onClick:S,className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-3 px-8 rounded-lg transition-colors text-lg ml-4",children:"Play Again (Test Mode)"})]})}):a.jsx(Fj,{})}),a.jsx("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-yellow-200 px-4 py-2 rounded-lg shadow-lg text-sm border border-yellow-600",children:(b==null?void 0:b.code)==="TEST2025"?a.jsx("span",{className:"text-green-400 font-bold",children:"🧪 TEST MODE - Never Expires"}):b&&b.activated_at&&a.jsxs(a.Fragment,{children:["Time remaining: ",(()=>{const P=new Date(b.activated_at),N=new Date(P.getTime()+12*60*60*1e3),O=new Date,k=N.getTime()-O.getTime(),T=Math.floor(k/(1e3*60*60)),C=Math.floor(k%(1e3*60*60)/(1e3*60));return`${T}h ${C}m`})()]})})]})},Bj=({onLogin:e})=>{const[t,r]=q.useState(!1),[n,i]=q.useState(null),{register:s,handleSubmit:o,formState:{errors:u}}=Qt(),l=async d=>{r(!0),i(null);try{const{error:p}=await u_(d.password);p?i("Invalid admin password. Please try again."):e()}catch{i("Login failed. Please try again.")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-b from-slate-50 to-slate-100 rounded-2xl shadow-2xl p-8 max-w-md w-full border-4 border-slate-600",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-slate-800 p-4 rounded-full inline-block mb-4 shadow-lg",children:a.jsx(ty,{className:"h-12 w-12 text-slate-100"})}),a.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Admin Access"}),a.jsx("p",{className:"text-slate-700",children:"Enter your admin password to access the management dashboard"})]}),n&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:n})]})}),a.jsxs("form",{onSubmit:o(l),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-900 mb-2",children:"Admin Password"}),a.jsx("input",{...s("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",id:"password",placeholder:"Enter admin password...",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-slate-500 focus:ring-2 focus:ring-slate-200 outline-none transition-colors text-lg"}),u.password&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-1"}),u.password.message]})]}),a.jsxs("button",{type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-slate-700 to-slate-800 hover:from-slate-800 hover:to-slate-900 text-white font-bold py-4 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[a.jsx(sy,{className:"h-5 w-5 mr-2"}),t?"Authenticating...":"Access Dashboard"]})]}),a.jsx("div",{className:"mt-6 p-4 bg-slate-200 rounded-lg border-l-4 border-slate-600",children:a.jsxs("p",{className:"text-slate-800 text-sm",children:[a.jsx("strong",{children:"Security Notice:"})," This area is restricted to authorized administrators only. All access attempts are logged and monitored."]})})]})})},Vj=()=>{const[e,t]=q.useState([]),[r,n]=q.useState(null),[i,s]=q.useState(!1),[o,u]=q.useState(!0),[l,d]=q.useState(null),{register:p,handleSubmit:f,reset:c,setValue:g,formState:{errors:b}}=Qt();q.useEffect(()=>{y()},[]);const y=async()=>{u(!0);try{const{data:v,error:_}=await se.from("games").select("*").order("created_at",{ascending:!1});if(_)throw _;t(v||[])}catch{d("Failed to load games")}finally{u(!1)}},w=async v=>{try{if(r){const{error:_}=await se.from("games").update({title:v.title,description:v.description,theme:v.theme,updated_at:new Date().toISOString()}).eq("id",r.id);if(_)throw _}else{const{error:_}=await se.from("games").insert({title:v.title,description:v.description,theme:v.theme});if(_)throw _}c(),n(null),s(!1),y()}catch{d("Failed to save game")}},m=v=>{n(v),g("title",v.title),g("description",v.description),g("theme",v.theme),s(!0)},h=async v=>{if(confirm("Are you sure you want to delete this game? This will also delete all associated puzzles and access codes."))try{const{error:_}=await se.from("games").delete().eq("id",v);if(_)throw _;y()}catch{d("Failed to delete game")}},x=()=>{n(null),s(!1),c()};return o?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Loading games..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Game Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage your puzzle games"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"New Game"})]})]}),l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:l})]})}),i&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:r?"Edit Game":"Create New Game"}),a.jsxs("form",{onSubmit:f(w),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Game Title"}),a.jsx("input",{...p("title",{required:"Title is required"}),type:"text",placeholder:"Enter game title...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),b.title&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{...p("description",{required:"Description is required"}),rows:3,placeholder:"Describe your game...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none resize-none"}),b.description&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.description.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),a.jsxs("select",{...p("theme",{required:"Theme is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select a theme..."}),a.jsx("option",{value:"mystery",children:"Mystery"}),a.jsx("option",{value:"adventure",children:"Adventure"}),a.jsx("option",{value:"historical",children:"Historical"}),a.jsx("option",{value:"fantasy",children:"Fantasy"}),a.jsx("option",{value:"sci-fi",children:"Sci-Fi"}),a.jsx("option",{value:"horror",children:"Horror"}),a.jsx("option",{value:"comedy",children:"Comedy"})]}),b.theme&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.theme.message})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:r?"Update Game":"Create Game"}),a.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(v=>a.jsx("div",{className:"bg-white rounded-lg shadow-lg border hover:shadow-xl transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx(ns,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>m(v),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Game",children:a.jsx(Ss,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>h(v.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Game",children:a.jsx(bn,{className:"h-4 w-4"})})]})]}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:v.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:v.theme}),a.jsx("span",{className:"text-gray-500 text-xs",children:new Date(v.created_at).toLocaleDateString()})]})]})},v.id))}),e.length===0&&!i&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ns,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"No games created yet"}),a.jsx("p",{className:"text-gray-500",children:"Create your first game to get started"})]})]})};function Hj(){this.__data__=[],this.size=0}var Wj=Hj;function Gj(e,t){return e===t||e!==e&&t!==t}var Py=Gj,Kj=Py;function Jj(e,t){for(var r=e.length;r--;)if(Kj(e[r][0],t))return r;return-1}var Ra=Jj,Yj=Ra,Qj=Array.prototype,Zj=Qj.splice;function Xj(e){var t=this.__data__,r=Yj(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Zj.call(t,r,1),--this.size,!0}var ek=Xj,tk=Ra;function rk(e){var t=this.__data__,r=tk(t,e);return r<0?void 0:t[r][1]}var nk=rk,ik=Ra;function sk(e){return ik(this.__data__,e)>-1}var ok=sk,ak=Ra;function lk(e,t){var r=this.__data__,n=ak(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var uk=lk,ck=Wj,dk=ek,fk=nk,hk=ok,pk=uk;function vi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vi.prototype.clear=ck;vi.prototype.delete=dk;vi.prototype.get=fk;vi.prototype.has=hk;vi.prototype.set=pk;var Ia=vi,mk=Ia;function gk(){this.__data__=new mk,this.size=0}var yk=gk;function vk(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xk=vk;function bk(e){return this.__data__.get(e)}var wk=bk;function _k(e){return this.__data__.has(e)}var Sk=_k,jk=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,Cy=jk,kk=Cy,Nk=typeof self=="object"&&self&&self.Object===Object&&self,Ek=kk||Nk||Function("return this")(),Er=Ek,Ok=Er,Tk=Ok.Symbol,pd=Tk,Sh=pd,Ly=Object.prototype,Ak=Ly.hasOwnProperty,Pk=Ly.toString,$i=Sh?Sh.toStringTag:void 0;function Ck(e){var t=Ak.call(e,$i),r=e[$i];try{e[$i]=void 0;var n=!0}catch{}var i=Pk.call(e);return n&&(t?e[$i]=r:delete e[$i]),i}var Lk=Ck,Rk=Object.prototype,Ik=Rk.toString;function Dk(e){return Ik.call(e)}var Mk=Dk,jh=pd,$k=Lk,zk=Mk,Fk="[object Null]",qk="[object Undefined]",kh=jh?jh.toStringTag:void 0;function Uk(e){return e==null?e===void 0?qk:Fk:kh&&kh in Object(e)?$k(e):zk(e)}var Da=Uk;function Bk(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ry=Bk,Vk=Da,Hk=Ry,Wk="[object AsyncFunction]",Gk="[object Function]",Kk="[object GeneratorFunction]",Jk="[object Proxy]";function Yk(e){if(!Hk(e))return!1;var t=Vk(e);return t==Gk||t==Kk||t==Wk||t==Jk}var Iy=Yk,Qk=Er,Zk=Qk["__core-js_shared__"],Xk=Zk,Ll=Xk,Nh=function(){var e=/[^.]+$/.exec(Ll&&Ll.keys&&Ll.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function eN(e){return!!Nh&&Nh in e}var tN=eN,rN=Function.prototype,nN=rN.toString;function iN(e){if(e!=null){try{return nN.call(e)}catch{}try{return e+""}catch{}}return""}var Dy=iN,sN=Iy,oN=tN,aN=Ry,lN=Dy,uN=/[\\^$.*+?()[\]{}|]/g,cN=/^\[object .+?Constructor\]$/,dN=Function.prototype,fN=Object.prototype,hN=dN.toString,pN=fN.hasOwnProperty,mN=RegExp("^"+hN.call(pN).replace(uN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gN(e){if(!aN(e)||oN(e))return!1;var t=sN(e)?mN:cN;return t.test(lN(e))}var yN=gN;function vN(e,t){return e==null?void 0:e[t]}var xN=vN,bN=yN,wN=xN;function _N(e,t){var r=wN(e,t);return bN(r)?r:void 0}var xi=_N,SN=xi,jN=Er,kN=SN(jN,"Map"),md=kN,NN=xi,EN=NN(Object,"create"),Ma=EN,Eh=Ma;function ON(){this.__data__=Eh?Eh(null):{},this.size=0}var TN=ON;function AN(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PN=AN,CN=Ma,LN="__lodash_hash_undefined__",RN=Object.prototype,IN=RN.hasOwnProperty;function DN(e){var t=this.__data__;if(CN){var r=t[e];return r===LN?void 0:r}return IN.call(t,e)?t[e]:void 0}var MN=DN,$N=Ma,zN=Object.prototype,FN=zN.hasOwnProperty;function qN(e){var t=this.__data__;return $N?t[e]!==void 0:FN.call(t,e)}var UN=qN,BN=Ma,VN="__lodash_hash_undefined__";function HN(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=BN&&t===void 0?VN:t,this}var WN=HN,GN=TN,KN=PN,JN=MN,YN=UN,QN=WN;function bi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bi.prototype.clear=GN;bi.prototype.delete=KN;bi.prototype.get=JN;bi.prototype.has=YN;bi.prototype.set=QN;var ZN=bi,Oh=ZN,XN=Ia,e2=md;function t2(){this.size=0,this.__data__={hash:new Oh,map:new(e2||XN),string:new Oh}}var r2=t2;function n2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var i2=n2,s2=i2;function o2(e,t){var r=e.__data__;return s2(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $a=o2,a2=$a;function l2(e){var t=a2(this,e).delete(e);return this.size-=t?1:0,t}var u2=l2,c2=$a;function d2(e){return c2(this,e).get(e)}var f2=d2,h2=$a;function p2(e){return h2(this,e).has(e)}var m2=p2,g2=$a;function y2(e,t){var r=g2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var v2=y2,x2=r2,b2=u2,w2=f2,_2=m2,S2=v2;function wi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wi.prototype.clear=x2;wi.prototype.delete=b2;wi.prototype.get=w2;wi.prototype.has=_2;wi.prototype.set=S2;var My=wi,j2=Ia,k2=md,N2=My,E2=200;function O2(e,t){var r=this.__data__;if(r instanceof j2){var n=r.__data__;if(!k2||n.length<E2-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new N2(n)}return r.set(e,t),this.size=r.size,this}var T2=O2,A2=Ia,P2=yk,C2=xk,L2=wk,R2=Sk,I2=T2;function _i(e){var t=this.__data__=new A2(e);this.size=t.size}_i.prototype.clear=P2;_i.prototype.delete=C2;_i.prototype.get=L2;_i.prototype.has=R2;_i.prototype.set=I2;var D2=_i,M2="__lodash_hash_undefined__";function $2(e){return this.__data__.set(e,M2),this}var z2=$2;function F2(e){return this.__data__.has(e)}var q2=F2,U2=My,B2=z2,V2=q2;function ta(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new U2;++t<r;)this.add(e[t])}ta.prototype.add=ta.prototype.push=B2;ta.prototype.has=V2;var H2=ta;function W2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var G2=W2;function K2(e,t){return e.has(t)}var J2=K2,Y2=H2,Q2=G2,Z2=J2,X2=1,eE=2;function tE(e,t,r,n,i,s){var o=r&X2,u=e.length,l=t.length;if(u!=l&&!(o&&l>u))return!1;var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var f=-1,c=!0,g=r&eE?new Y2:void 0;for(s.set(e,t),s.set(t,e);++f<u;){var b=e[f],y=t[f];if(n)var w=o?n(y,b,f,t,e,s):n(b,y,f,e,t,s);if(w!==void 0){if(w)continue;c=!1;break}if(g){if(!Q2(t,function(m,h){if(!Z2(g,h)&&(b===m||i(b,m,r,n,s)))return g.push(h)})){c=!1;break}}else if(!(b===y||i(b,y,r,n,s))){c=!1;break}}return s.delete(e),s.delete(t),c}var $y=tE,rE=Er,nE=rE.Uint8Array,iE=nE;function sE(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var oE=sE;function aE(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lE=aE,Th=pd,Ah=iE,uE=Py,cE=$y,dE=oE,fE=lE,hE=1,pE=2,mE="[object Boolean]",gE="[object Date]",yE="[object Error]",vE="[object Map]",xE="[object Number]",bE="[object RegExp]",wE="[object Set]",_E="[object String]",SE="[object Symbol]",jE="[object ArrayBuffer]",kE="[object DataView]",Ph=Th?Th.prototype:void 0,Rl=Ph?Ph.valueOf:void 0;function NE(e,t,r,n,i,s,o){switch(r){case kE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jE:return!(e.byteLength!=t.byteLength||!s(new Ah(e),new Ah(t)));case mE:case gE:case xE:return uE(+e,+t);case yE:return e.name==t.name&&e.message==t.message;case bE:case _E:return e==t+"";case vE:var u=dE;case wE:var l=n&hE;if(u||(u=fE),e.size!=t.size&&!l)return!1;var d=o.get(e);if(d)return d==t;n|=pE,o.set(e,t);var p=cE(u(e),u(t),n,i,s,o);return o.delete(e),p;case SE:if(Rl)return Rl.call(e)==Rl.call(t)}return!1}var EE=NE;function OE(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var TE=OE,AE=Array.isArray,gd=AE,PE=TE,CE=gd;function LE(e,t,r){var n=t(e);return CE(e)?n:PE(n,r(e))}var RE=LE;function IE(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var DE=IE;function ME(){return[]}var $E=ME,zE=DE,FE=$E,qE=Object.prototype,UE=qE.propertyIsEnumerable,Ch=Object.getOwnPropertySymbols,BE=Ch?function(e){return e==null?[]:(e=Object(e),zE(Ch(e),function(t){return UE.call(e,t)}))}:FE,VE=BE;function HE(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WE=HE;function GE(e){return e!=null&&typeof e=="object"}var za=GE,KE=Da,JE=za,YE="[object Arguments]";function QE(e){return JE(e)&&KE(e)==YE}var ZE=QE,Lh=ZE,XE=za,zy=Object.prototype,eO=zy.hasOwnProperty,tO=zy.propertyIsEnumerable,rO=Lh(function(){return arguments}())?Lh:function(e){return XE(e)&&eO.call(e,"callee")&&!tO.call(e,"callee")},nO=rO,ra={exports:{}};function iO(){return!1}var sO=iO;ra.exports;(function(e,t){var r=Er,n=sO,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,u=o?r.Buffer:void 0,l=u?u.isBuffer:void 0,d=l||n;e.exports=d})(ra,ra.exports);var Fy=ra.exports,oO=9007199254740991,aO=/^(?:0|[1-9]\d*)$/;function lO(e,t){var r=typeof e;return t=t??oO,!!t&&(r=="number"||r!="symbol"&&aO.test(e))&&e>-1&&e%1==0&&e<t}var uO=lO,cO=9007199254740991;function dO(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cO}var qy=dO,fO=Da,hO=qy,pO=za,mO="[object Arguments]",gO="[object Array]",yO="[object Boolean]",vO="[object Date]",xO="[object Error]",bO="[object Function]",wO="[object Map]",_O="[object Number]",SO="[object Object]",jO="[object RegExp]",kO="[object Set]",NO="[object String]",EO="[object WeakMap]",OO="[object ArrayBuffer]",TO="[object DataView]",AO="[object Float32Array]",PO="[object Float64Array]",CO="[object Int8Array]",LO="[object Int16Array]",RO="[object Int32Array]",IO="[object Uint8Array]",DO="[object Uint8ClampedArray]",MO="[object Uint16Array]",$O="[object Uint32Array]",Ee={};Ee[AO]=Ee[PO]=Ee[CO]=Ee[LO]=Ee[RO]=Ee[IO]=Ee[DO]=Ee[MO]=Ee[$O]=!0;Ee[mO]=Ee[gO]=Ee[OO]=Ee[yO]=Ee[TO]=Ee[vO]=Ee[xO]=Ee[bO]=Ee[wO]=Ee[_O]=Ee[SO]=Ee[jO]=Ee[kO]=Ee[NO]=Ee[EO]=!1;function zO(e){return pO(e)&&hO(e.length)&&!!Ee[fO(e)]}var FO=zO;function qO(e){return function(t){return e(t)}}var UO=qO,na={exports:{}};na.exports;(function(e,t){var r=Cy,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,u=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u})(na,na.exports);var BO=na.exports,VO=FO,HO=UO,Rh=BO,Ih=Rh&&Rh.isTypedArray,WO=Ih?HO(Ih):VO,Uy=WO,GO=WE,KO=nO,JO=gd,YO=Fy,QO=uO,ZO=Uy,XO=Object.prototype,eT=XO.hasOwnProperty;function tT(e,t){var r=JO(e),n=!r&&KO(e),i=!r&&!n&&YO(e),s=!r&&!n&&!i&&ZO(e),o=r||n||i||s,u=o?GO(e.length,String):[],l=u.length;for(var d in e)(t||eT.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||QO(d,l)))&&u.push(d);return u}var rT=tT,nT=Object.prototype;function iT(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||nT;return e===r}var sT=iT;function oT(e,t){return function(r){return e(t(r))}}var aT=oT,lT=aT,uT=lT(Object.keys,Object),cT=uT,dT=sT,fT=cT,hT=Object.prototype,pT=hT.hasOwnProperty;function mT(e){if(!dT(e))return fT(e);var t=[];for(var r in Object(e))pT.call(e,r)&&r!="constructor"&&t.push(r);return t}var gT=mT,yT=Iy,vT=qy;function xT(e){return e!=null&&vT(e.length)&&!yT(e)}var bT=xT,wT=rT,_T=gT,ST=bT;function jT(e){return ST(e)?wT(e):_T(e)}var kT=jT,NT=RE,ET=VE,OT=kT;function TT(e){return NT(e,OT,ET)}var AT=TT,Dh=AT,PT=1,CT=Object.prototype,LT=CT.hasOwnProperty;function RT(e,t,r,n,i,s){var o=r&PT,u=Dh(e),l=u.length,d=Dh(t),p=d.length;if(l!=p&&!o)return!1;for(var f=l;f--;){var c=u[f];if(!(o?c in t:LT.call(t,c)))return!1}var g=s.get(e),b=s.get(t);if(g&&b)return g==t&&b==e;var y=!0;s.set(e,t),s.set(t,e);for(var w=o;++f<l;){c=u[f];var m=e[c],h=t[c];if(n)var x=o?n(h,m,c,t,e,s):n(m,h,c,e,t,s);if(!(x===void 0?m===h||i(m,h,r,n,s):x)){y=!1;break}w||(w=c=="constructor")}if(y&&!w){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof _=="function"&&_ instanceof _)&&(y=!1)}return s.delete(e),s.delete(t),y}var IT=RT,DT=xi,MT=Er,$T=DT(MT,"DataView"),zT=$T,FT=xi,qT=Er,UT=FT(qT,"Promise"),BT=UT,VT=xi,HT=Er,WT=VT(HT,"Set"),GT=WT,KT=xi,JT=Er,YT=KT(JT,"WeakMap"),QT=YT,Ju=zT,Yu=md,Qu=BT,Zu=GT,Xu=QT,By=Da,Si=Dy,Mh="[object Map]",ZT="[object Object]",$h="[object Promise]",zh="[object Set]",Fh="[object WeakMap]",qh="[object DataView]",XT=Si(Ju),eA=Si(Yu),tA=Si(Qu),rA=Si(Zu),nA=Si(Xu),an=By;(Ju&&an(new Ju(new ArrayBuffer(1)))!=qh||Yu&&an(new Yu)!=Mh||Qu&&an(Qu.resolve())!=$h||Zu&&an(new Zu)!=zh||Xu&&an(new Xu)!=Fh)&&(an=function(e){var t=By(e),r=t==ZT?e.constructor:void 0,n=r?Si(r):"";if(n)switch(n){case XT:return qh;case eA:return Mh;case tA:return $h;case rA:return zh;case nA:return Fh}return t});var iA=an,Il=D2,sA=$y,oA=EE,aA=IT,Uh=iA,Bh=gd,Vh=Fy,lA=Uy,uA=1,Hh="[object Arguments]",Wh="[object Array]",so="[object Object]",cA=Object.prototype,Gh=cA.hasOwnProperty;function dA(e,t,r,n,i,s){var o=Bh(e),u=Bh(t),l=o?Wh:Uh(e),d=u?Wh:Uh(t);l=l==Hh?so:l,d=d==Hh?so:d;var p=l==so,f=d==so,c=l==d;if(c&&Vh(e)){if(!Vh(t))return!1;o=!0,p=!1}if(c&&!p)return s||(s=new Il),o||lA(e)?sA(e,t,r,n,i,s):oA(e,t,l,r,n,i,s);if(!(r&uA)){var g=p&&Gh.call(e,"__wrapped__"),b=f&&Gh.call(t,"__wrapped__");if(g||b){var y=g?e.value():e,w=b?t.value():t;return s||(s=new Il),i(y,w,r,n,s)}}return c?(s||(s=new Il),aA(e,t,r,n,i,s)):!1}var fA=dA,hA=fA,Kh=za;function Vy(e,t,r,n,i){return e===t?!0:e==null||t==null||!Kh(e)&&!Kh(t)?e!==e&&t!==t:hA(e,t,r,n,Vy,i)}var pA=Vy,mA=pA;function gA(e,t){return mA(e,t)}var yA=gA,Hy={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:Oe,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(s,o,u){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),o=i(18),u=i(19),l=i(45),d=i(46),p=i(47),f=i(48),c=i(49),g=i(12),b=i(32),y=i(33),w=i(31),m=i(1),h={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:s.default,Format:o.default,Leaf:u.default,Embed:f.default,Scroll:l.default,Block:p.default,Inline:d.default,Text:c.default,Attributor:{Attribute:g.default,Class:b.default,Style:y.default,Store:w.default}};n.default=h},function(r,n,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var x in h)h.hasOwnProperty(x)&&(m[x]=h[x])};return function(m,h){w(m,h);function x(){this.constructor=m}m.prototype=h===null?Object.create(h):(x.prototype=h.prototype,new x)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(w){s(m,w);function m(h){var x=this;return h="[Parchment] "+h,x=w.call(this,h)||this,x.message=h,x.name=x.constructor.name,x}return m}(Error);n.ParchmentError=o;var u={},l={},d={},p={};n.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function c(w,m){var h=b(w);if(h==null)throw new o("Unable to create "+w+" blot");var x=h,v=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:x.create(m);return new x(v,m)}n.create=c;function g(w,m){return m===void 0&&(m=!1),w==null?null:w[n.DATA_KEY]!=null?w[n.DATA_KEY].blot:m?g(w.parentNode,m):null}n.find=g;function b(w,m){m===void 0&&(m=f.ANY);var h;if(typeof w=="string")h=p[w]||u[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)h=p.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?h=p.block:w&f.LEVEL&f.INLINE&&(h=p.inline);else if(w instanceof HTMLElement){var x=(w.getAttribute("class")||"").split(/\s+/);for(var v in x)if(h=l[x[v]],h)break;h=h||d[w.tagName]}return h==null?null:m&f.LEVEL&h.scope&&m&f.TYPE&h.scope?h:null}n.query=b;function y(){for(var w=[],m=0;m<arguments.length;m++)w[m]=arguments[m];if(w.length>1)return w.map(function(v){return y(v)});var h=w[0];if(typeof h.blotName!="string"&&typeof h.attrName!="string")throw new o("Invalid definition");if(h.blotName==="abstract")throw new o("Cannot register abstract class");if(p[h.blotName||h.attrName]=h,typeof h.keyName=="string")u[h.keyName]=h;else if(h.className!=null&&(l[h.className]=h),h.tagName!=null){Array.isArray(h.tagName)?h.tagName=h.tagName.map(function(v){return v.toUpperCase()}):h.tagName=h.tagName.toUpperCase();var x=Array.isArray(h.tagName)?h.tagName:[h.tagName];x.forEach(function(v){(d[v]==null||h.className==null)&&(d[v]=h)})}return h}n.register=y},function(r,n,i){var s=i(51),o=i(11),u=i(3),l=i(20),d="\0",p=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};p.prototype.insert=function(f,c){var g={};return f.length===0?this:(g.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(g.attributes=c),this.push(g))},p.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},p.prototype.retain=function(f,c){if(f<=0)return this;var g={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(g.attributes=c),this.push(g)},p.prototype.push=function(f){var c=this.ops.length,g=this.ops[c-1];if(f=u(!0,{},f),typeof g=="object"){if(typeof f.delete=="number"&&typeof g.delete=="number")return this.ops[c-1]={delete:g.delete+f.delete},this;if(typeof g.delete=="number"&&f.insert!=null&&(c-=1,g=this.ops[c-1],typeof g!="object"))return this.ops.unshift(f),this;if(o(f.attributes,g.attributes)){if(typeof f.insert=="string"&&typeof g.insert=="string")return this.ops[c-1]={insert:g.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof g.retain=="number")return this.ops[c-1]={retain:g.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},p.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},p.prototype.filter=function(f){return this.ops.filter(f)},p.prototype.forEach=function(f){this.ops.forEach(f)},p.prototype.map=function(f){return this.ops.map(f)},p.prototype.partition=function(f){var c=[],g=[];return this.forEach(function(b){var y=f(b)?c:g;y.push(b)}),[c,g]},p.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},p.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+l.length(c):c.delete?f-c.delete:f},0)},p.prototype.length=function(){return this.reduce(function(f,c){return f+l.length(c)},0)},p.prototype.slice=function(f,c){f=f||0,typeof c!="number"&&(c=1/0);for(var g=[],b=l.iterator(this.ops),y=0;y<c&&b.hasNext();){var w;y<f?w=b.next(f-y):(w=b.next(c-y),g.push(w)),y+=l.length(w)}return new p(g)},p.prototype.compose=function(f){var c=l.iterator(this.ops),g=l.iterator(f.ops),b=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;c.peekType()==="insert"&&c.peekLength()<=w;)w-=c.peekLength(),b.push(c.next());y.retain-w>0&&g.next(y.retain-w)}for(var m=new p(b);c.hasNext()||g.hasNext();)if(g.peekType()==="insert")m.push(g.next());else if(c.peekType()==="delete")m.push(c.next());else{var h=Math.min(c.peekLength(),g.peekLength()),x=c.next(h),v=g.next(h);if(typeof v.retain=="number"){var _={};typeof x.retain=="number"?_.retain=h:_.insert=x.insert;var j=l.attributes.compose(x.attributes,v.attributes,typeof x.retain=="number");if(j&&(_.attributes=j),m.push(_),!g.hasNext()&&o(m.ops[m.ops.length-1],_)){var S=new p(c.rest());return m.concat(S).chop()}}else typeof v.delete=="number"&&typeof x.retain=="number"&&m.push(v)}return m.chop()},p.prototype.concat=function(f){var c=new p(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},p.prototype.diff=function(f,c){if(this.ops===f.ops)return new p;var g=[this,f].map(function(h){return h.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:d;var v=h===f?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),b=new p,y=s(g[0],g[1],c),w=l.iterator(this.ops),m=l.iterator(f.ops);return y.forEach(function(h){for(var x=h[1].length;x>0;){var v=0;switch(h[0]){case s.INSERT:v=Math.min(m.peekLength(),x),b.push(m.next(v));break;case s.DELETE:v=Math.min(x,w.peekLength()),w.next(v),b.delete(v);break;case s.EQUAL:v=Math.min(w.peekLength(),m.peekLength(),x);var _=w.next(v),j=m.next(v);o(_.insert,j.insert)?b.retain(v,l.attributes.diff(_.attributes,j.attributes)):b.push(j).delete(v);break}x-=v}}),b.chop()},p.prototype.eachLine=function(f,c){c=c||`
`;for(var g=l.iterator(this.ops),b=new p,y=0;g.hasNext();){if(g.peekType()!=="insert")return;var w=g.peek(),m=l.length(w)-g.peekLength(),h=typeof w.insert=="string"?w.insert.indexOf(c,m)-m:-1;if(h<0)b.push(g.next());else if(h>0)b.push(g.next(h));else{if(f(b,g.next(1).attributes||{},y)===!1)return;y+=1,b=new p}}b.length()>0&&f(b,{},y)},p.prototype.transform=function(f,c){if(c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var g=l.iterator(this.ops),b=l.iterator(f.ops),y=new p;g.hasNext()||b.hasNext();)if(g.peekType()==="insert"&&(c||b.peekType()!=="insert"))y.retain(l.length(g.next()));else if(b.peekType()==="insert")y.push(b.next());else{var w=Math.min(g.peekLength(),b.peekLength()),m=g.next(w),h=b.next(w);if(m.delete)continue;h.delete?y.push(h):y.retain(w,l.attributes.transform(m.attributes,h.attributes,c))}return y.chop()},p.prototype.transformPosition=function(f,c){c=!!c;for(var g=l.iterator(this.ops),b=0;g.hasNext()&&b<=f;){var y=g.peekLength(),w=g.peekType();if(g.next(),w==="delete"){f-=Math.min(y,f-b);continue}else w==="insert"&&(b<f||!c)&&(f+=y);b+=y}return f},r.exports=p},function(r,n){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=function(g){return typeof Array.isArray=="function"?Array.isArray(g):s.call(g)==="[object Array]"},d=function(g){if(!g||s.call(g)!=="[object Object]")return!1;var b=i.call(g,"constructor"),y=g.constructor&&g.constructor.prototype&&i.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!y)return!1;var w;for(w in g);return typeof w>"u"||i.call(g,w)},p=function(g,b){o&&b.name==="__proto__"?o(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},f=function(g,b){if(b==="__proto__")if(i.call(g,b)){if(u)return u(g,b).value}else return;return g[b]};r.exports=function c(){var g,b,y,w,m,h,x=arguments[0],v=1,_=arguments.length,j=!1;for(typeof x=="boolean"&&(j=x,x=arguments[1]||{},v=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});v<_;++v)if(g=arguments[v],g!=null)for(b in g)y=f(x,b),w=f(g,b),x!==w&&(j&&w&&(d(w)||(m=l(w)))?(m?(m=!1,h=y&&l(y)?y:[]):h=y&&d(y)?y:{},p(x,{name:b,newValue:c(j,h,w)})):typeof w<"u"&&p(x,{name:b,newValue:w}));return x}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=function(){function O(k,T){for(var C=0;C<T.length;C++){var D=T[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}return function(k,T,C){return T&&O(k.prototype,T),C&&O(k,C),k}}(),o=function O(k,T,C){k===null&&(k=Function.prototype);var D=Object.getOwnPropertyDescriptor(k,T);if(D===void 0){var V=Object.getPrototypeOf(k);return V===null?void 0:O(V,T,C)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(C)}},u=i(3),l=x(u),d=i(2),p=x(d),f=i(0),c=x(f),g=i(16),b=x(g),y=i(6),w=x(y),m=i(7),h=x(m);function x(O){return O&&O.__esModule?O:{default:O}}function v(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function _(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function j(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var S=1,E=function(O){j(k,O);function k(){return v(this,k),_(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"attach",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,D){var V=c.default.query(C,c.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,D)}},{key:"formatAt",value:function(C,D,V,F){this.format(V,F)}},{key:"insertAt",value:function(C,D,V){if(typeof D=="string"&&D.endsWith(`
`)){var F=c.default.create(P.blotName);this.parent.insertBefore(F,C===0?this:this.next),F.insertAt(0,D.slice(0,-1))}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,C,D,V)}}]),k}(c.default.Embed);E.scope=c.default.Scope.BLOCK_BLOT;var P=function(O){j(k,O);function k(T){v(this,k);var C=_(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T));return C.cache={},C}return s(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(C,D){return D.length()===0?C:C.insert(D.value(),N(D))},new p.default).insert(`
`,N(this))),this.cache.delta}},{key:"deleteAt",value:function(C,D){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,C,D),this.cache={}}},{key:"formatAt",value:function(C,D,V,F){D<=0||(c.default.query(V,c.default.Scope.BLOCK)?C+D===this.length()&&this.format(V,F):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,C,Math.min(D,this.length()-C-1),V,F),this.cache={})}},{key:"insertAt",value:function(C,D,V){if(V!=null)return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,C,D,V);if(D.length!==0){var F=D.split(`
`),H=F.shift();H.length>0&&(C<this.length()-1||this.children.tail==null?o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var z=this;F.reduce(function(L,A){return z=z.split(L,!0),z.insertAt(0,A),A.length},C+H.length)}}},{key:"insertBefore",value:function(C,D){var V=this.children.head;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,C,D),V instanceof b.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(C,D){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,C,D),this.cache={}}},{key:"optimize",value:function(C){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(C===0||C>=this.length()-S)){var V=this.clone();return C===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var F=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,C,D);return this.cache={},F}}}]),k}(c.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[w.default,c.default.Embed,h.default];function N(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(k=(0,l.default)(k,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?k:N(O.parent,k)}n.bubbleFormats=N,n.BlockEmbed=E,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(L,A){var R=[],$=!0,J=!1,K=void 0;try{for(var I=L[Symbol.iterator](),W;!($=(W=I.next()).done)&&(R.push(W.value),!(A&&R.length===A));$=!0);}catch(G){J=!0,K=G}finally{try{!$&&I.return&&I.return()}finally{if(J)throw K}}return R}return function(L,A){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return z(L,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function z(L,A){for(var R=0;R<A.length;R++){var $=A[R];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,A,R){return A&&z(L.prototype,A),R&&z(L,R),L}}();i(50);var l=i(2),d=N(l),p=i(14),f=N(p),c=i(8),g=N(c),b=i(9),y=N(b),w=i(0),m=N(w),h=i(15),x=N(h),v=i(3),_=N(v),j=i(10),S=N(j),E=i(34),P=N(E);function N(z){return z&&z.__esModule?z:{default:z}}function O(z,L,A){return L in z?Object.defineProperty(z,L,{value:A,enumerable:!0,configurable:!0,writable:!0}):z[L]=A,z}function k(z,L){if(!(z instanceof L))throw new TypeError("Cannot call a class as a function")}var T=(0,S.default)("quill"),C=function(){u(z,null,[{key:"debug",value:function(A){A===!0&&(A="log"),S.default.level(A)}},{key:"find",value:function(A){return A.__quill||m.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&T.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,R){var $=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var K=A.attrName||A.blotName;typeof K=="string"?this.register("formats/"+K,A,R):Object.keys(A).forEach(function(I){$.register(I,A[I],R)})}else this.imports[A]!=null&&!J&&T.warn("Overwriting "+A+" with",R),this.imports[A]=R,(A.startsWith("blots/")||A.startsWith("formats/"))&&R.blotName!=="abstract"?m.default.register(R):A.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function z(L){var A=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,z),this.options=D(L,R),this.container=this.options.container,this.container==null)return T.error("Invalid Quill container",L);this.options.debug&&z.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(K){K===g.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(K,I){var W=A.selection.lastRange,G=W&&W.length===0?W.index:void 0;V.call(A,function(){return A.editor.update(null,I,G)},K)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return u(z,[{key:"addContainer",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var $=A;A=document.createElement("div"),A.classList.add($)}return this.container.insertBefore(A,R),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,R,$){var J=this,K=F(A,R,$),I=o(K,4);return A=I[0],R=I[1],$=I[3],V.call(this,function(){return J.editor.deleteText(A,R)},$,A,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,R){var $=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return V.call(this,function(){var K=$.getSelection(!0),I=new d.default;if(K==null)return I;if(m.default.query(A,m.default.Scope.BLOCK))I=$.editor.formatLine(K.index,K.length,O({},A,R));else{if(K.length===0)return $.selection.format(A,R),I;I=$.editor.formatText(K.index,K.length,O({},A,R))}return $.setSelection(K,g.default.sources.SILENT),I},J)}},{key:"formatLine",value:function(A,R,$,J,K){var I=this,W=void 0,G=F(A,R,$,J,K),Y=o(G,4);return A=Y[0],R=Y[1],W=Y[2],K=Y[3],V.call(this,function(){return I.editor.formatLine(A,R,W)},K,A,0)}},{key:"formatText",value:function(A,R,$,J,K){var I=this,W=void 0,G=F(A,R,$,J,K),Y=o(G,4);return A=Y[0],R=Y[1],W=Y[2],K=Y[3],V.call(this,function(){return I.editor.formatText(A,R,W)},K,A,0)}},{key:"getBounds",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof A=="number"?$=this.selection.getBounds(A,R):$=this.selection.getBounds(A.index,A.length);var J=this.container.getBoundingClientRect();return{bottom:$.bottom-J.top,height:$.height,left:$.left-J.left,right:$.right-J.left,top:$.top-J.top,width:$.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,$=F(A,R),J=o($,2);return A=J[0],R=J[1],this.editor.getContents(A,R)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,R):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,R)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,$=F(A,R),J=o($,2);return A=J[0],R=J[1],this.editor.getText(A,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,R,$){var J=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return V.call(this,function(){return J.editor.insertEmbed(A,R,$)},K,A)}},{key:"insertText",value:function(A,R,$,J,K){var I=this,W=void 0,G=F(A,0,$,J,K),Y=o(G,4);return A=Y[0],W=Y[2],K=Y[3],V.call(this,function(){return I.editor.insertText(A,R,W)},K,A,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,R,$){this.clipboard.dangerouslyPasteHTML(A,R,$)}},{key:"removeFormat",value:function(A,R,$){var J=this,K=F(A,R,$),I=o(K,4);return A=I[0],R=I[1],$=I[3],V.call(this,function(){return J.editor.removeFormat(A,R)},$,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var R=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return V.call(this,function(){A=new d.default(A);var J=R.getLength(),K=R.editor.deleteText(0,J),I=R.editor.applyDelta(A),W=I.ops[I.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),I.delete(1));var G=K.compose(I);return G},$)}},{key:"setSelection",value:function(A,R,$){if(A==null)this.selection.setRange(null,R||z.sources.API);else{var J=F(A,R,$),K=o(J,4);A=K[0],R=K[1],$=K[3],this.selection.setRange(new h.Range(A,R),$),$!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,$=new d.default().insert(A);return this.setContents($,R)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,R=this.scroll.update(A);return this.selection.update(A),R}},{key:"updateContents",value:function(A){var R=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return V.call(this,function(){return A=new d.default(A),R.editor.applyDelta(A,$)},$,!0)}}]),z}();C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=g.default.events,C.sources=g.default.sources,C.version="1.3.7",C.imports={delta:d.default,parchment:m.default,"core/module":y.default,"core/theme":P.default};function D(z,L){if(L=(0,_.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===C.DEFAULTS.theme)L.theme=P.default;else if(L.theme=C.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var A=(0,_.default)(!0,{},L.theme.DEFAULTS);[A,L].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(K){J.modules[K]===!0&&(J.modules[K]={})})});var R=Object.keys(A.modules).concat(Object.keys(L.modules)),$=R.reduce(function(J,K){var I=C.import("modules/"+K);return I==null?T.error("Cannot load "+K+" module. Are you sure you registered it?"):J[K]=I.DEFAULTS||{},J},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,_.default)(!0,{},C.DEFAULTS,{modules:$},A,L),["bounds","container","scrollingContainer"].forEach(function(J){typeof L[J]=="string"&&(L[J]=document.querySelector(L[J]))}),L.modules=Object.keys(L.modules).reduce(function(J,K){return L.modules[K]&&(J[K]=L.modules[K]),J},{}),L}function V(z,L,A,R){if(this.options.strict&&!this.isEnabled()&&L===g.default.sources.USER)return new d.default;var $=A==null?null:this.getSelection(),J=this.editor.delta,K=z();if($!=null&&(A===!0&&(A=$.index),R==null?$=H($,K,L):R!==0&&($=H($,A,R,L)),this.setSelection($,g.default.sources.SILENT)),K.length()>0){var I,W=[g.default.events.TEXT_CHANGE,K,J,L];if((I=this.emitter).emit.apply(I,[g.default.events.EDITOR_CHANGE].concat(W)),L!==g.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,W)}}return K}function F(z,L,A,R,$){var J={};return typeof z.index=="number"&&typeof z.length=="number"?typeof L!="number"?($=R,R=A,A=L,L=z.length,z=z.index):(L=z.length,z=z.index):typeof L!="number"&&($=R,R=A,A=L,L=0),(typeof A>"u"?"undefined":s(A))==="object"?(J=A,$=R):typeof A=="string"&&(R!=null?J[A]=R:$=A),$=$||g.default.sources.API,[z,L,J,$]}function H(z,L,A,R){if(z==null)return null;var $=void 0,J=void 0;if(L instanceof d.default){var K=[z.index,z.index+z.length].map(function(Y){return L.transformPosition(Y,R!==g.default.sources.USER)}),I=o(K,2);$=I[0],J=I[1]}else{var W=[z.index,z.index+z.length].map(function(Y){return Y<L||Y===L&&R===g.default.sources.USER?Y:A>=0?Y+A:Math.max(L,Y+A)}),G=o(W,2);$=G[0],J=G[1]}return new h.Range($,J-$)}n.expandConfig=D,n.overload=F,n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function w(m,h){for(var x=0;x<h.length;x++){var v=h[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,h,x){return h&&w(m.prototype,h),x&&w(m,x),m}}(),o=function w(m,h,x){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,h);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,h,x)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(x)}},u=i(7),l=f(u),d=i(0),p=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function c(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function g(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function b(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var y=function(w){b(m,w);function m(){return c(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"formatAt",value:function(x,v,_,j){if(m.compare(this.statics.blotName,_)<0&&p.default.query(_,p.default.Scope.BLOT)){var S=this.isolate(x,v);j&&S.wrap(_,j)}else o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,x,v,_,j)}},{key:"optimize",value:function(x){if(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,x),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(x,v){var _=m.order.indexOf(x),j=m.order.indexOf(v);return _>=0||j>=0?_-j:x===v?0:x<v?-1:1}}]),m}(p.default.Inline);y.allowedChildren=[y,p.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function d(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function p(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f=function(c){p(g,c);function g(){return l(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function h(x,v){for(var _=0;_<v.length;_++){var j=v[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,v,_){return v&&h(x.prototype,v),_&&h(x,_),x}}(),o=function h(x,v,_){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,v);if(j===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:h(S,v,_)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(_)}},u=i(54),l=f(u),d=i(10),p=f(d);function f(h){return h&&h.__esModule?h:{default:h}}function c(h,x){if(!(h instanceof x))throw new TypeError("Cannot call a class as a function")}function g(h,x){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:h}function b(h,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);h.prototype=Object.create(x&&x.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(h,x):h.__proto__=x)}var y=(0,p.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(h){document.addEventListener(h,function(){for(var x=arguments.length,v=Array(x),_=0;_<x;_++)v[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(j){if(j.__quill&&j.__quill.emitter){var S;(S=j.__quill.emitter).handleDOM.apply(S,v)}})})});var m=function(h){b(x,h);function x(){c(this,x);var v=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return v.listeners={},v.on("error",y.error),v}return s(x,[{key:"emit",value:function(){y.log.apply(y,arguments),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var j=arguments.length,S=Array(j>1?j-1:0),E=1;E<j;E++)S[E-1]=arguments[E];(this.listeners[_.type]||[]).forEach(function(P){var N=P.node,O=P.handler;(_.target===N||N.contains(_.target))&&O.apply(void 0,[_].concat(S))})}},{key:"listenDOM",value:function(_,j,S){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:j,handler:S})}}]),x}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function s(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function u(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,u),this.quill=l,this.options=d};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function u(d){if(s.indexOf(d)<=s.indexOf(o)){for(var p,f=arguments.length,c=Array(f>1?f-1:0),g=1;g<f;g++)c[g-1]=arguments[g];(p=console)[d].apply(p,c)}}function l(d){return s.reduce(function(p,f){return p[f]=u.bind(console,f,d),p},{})}u.level=l.level=function(d){o=d},n.default=l},function(r,n,i){var s=Array.prototype.slice,o=i(52),u=i(53),l=r.exports=function(c,g,b){return b||(b={}),c===g?!0:c instanceof Date&&g instanceof Date?c.getTime()===g.getTime():!c||!g||typeof c!="object"&&typeof g!="object"?b.strict?c===g:c==g:f(c,g,b)};function d(c){return c==null}function p(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function f(c,g,b){var y,w;if(d(c)||d(g)||c.prototype!==g.prototype)return!1;if(u(c))return u(g)?(c=s.call(c),g=s.call(g),l(c,g,b)):!1;if(p(c)){if(!p(g)||c.length!==g.length)return!1;for(y=0;y<c.length;y++)if(c[y]!==g[y])return!1;return!0}try{var m=o(c),h=o(g)}catch{return!1}if(m.length!=h.length)return!1;for(m.sort(),h.sort(),y=m.length-1;y>=0;y--)if(m[y]!=h[y])return!1;for(y=m.length-1;y>=0;y--)if(w=m[y],!l(c[w],g[w],b))return!1;return typeof c==typeof g}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=function(){function u(l,d,p){p===void 0&&(p={}),this.attrName=l,this.keyName=d;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return u.keys=function(l){return[].map.call(l.attributes,function(d){return d.name})},u.prototype.add=function(l,d){return this.canAdd(l,d)?(l.setAttribute(this.keyName,d),!0):!1},u.prototype.canAdd=function(l,d){var p=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},u.prototype.remove=function(l){l.removeAttribute(this.keyName)},u.prototype.value=function(l){var d=l.getAttribute(this.keyName);return this.canAdd(l,d)&&d?d:""},u}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=function(){function E(P,N){var O=[],k=!0,T=!1,C=void 0;try{for(var D=P[Symbol.iterator](),V;!(k=(V=D.next()).done)&&(O.push(V.value),!(N&&O.length===N));k=!0);}catch(F){T=!0,C=F}finally{try{!k&&D.return&&D.return()}finally{if(T)throw C}}return O}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(P,N){for(var O=0;O<N.length;O++){var k=N[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,N,O){return N&&E(P.prototype,N),O&&E(P,O),P}}(),u=function E(P,N,O){P===null&&(P=Function.prototype);var k=Object.getOwnPropertyDescriptor(P,N);if(k===void 0){var T=Object.getPrototypeOf(P);return T===null?void 0:E(T,N,O)}else{if("value"in k)return k.value;var C=k.get;return C===void 0?void 0:C.call(O)}},l=i(2),d=h(l),p=i(0),f=h(p),c=i(4),g=h(c),b=i(6),y=h(b),w=i(7),m=h(w);function h(E){return E&&E.__esModule?E:{default:E}}function x(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function v(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function _(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var j=function(E){_(P,E);function P(){return x(this,P),v(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(y.default);j.blotName="code",j.tagName="CODE";var S=function(E){_(P,E);function P(){return x(this,P),v(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"delta",value:function(){var O=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(T,C){return T.insert(C).insert(`
`,O.formats())},new d.default)}},{key:"format",value:function(O,k){if(!(O===this.statics.blotName&&k)){var T=this.descendant(m.default,this.length()-1),C=s(T,1),D=C[0];D!=null&&D.deleteAt(D.length()-1,1),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,O,k)}}},{key:"formatAt",value:function(O,k,T,C){if(k!==0&&!(f.default.query(T,f.default.Scope.BLOCK)==null||T===this.statics.blotName&&C===this.statics.formats(this.domNode))){var D=this.newlineIndex(O);if(!(D<0||D>=O+k)){var V=this.newlineIndex(O,!0)+1,F=D-V+1,H=this.isolate(V,F),z=H.next;H.format(T,C),z instanceof P&&z.formatAt(0,O-V+k-F,T,C)}}}},{key:"insertAt",value:function(O,k,T){if(T==null){var C=this.descendant(m.default,O),D=s(C,2),V=D[0],F=D[1];V.insertAt(F,k)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var T=this.domNode.textContent.slice(O).indexOf(`
`);return T>-1?O+T:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,O);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(O),k.moveChildren(this),k.remove())}},{key:"replace",value:function(O){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var T=f.default.find(k);T==null?k.parentNode.removeChild(k):T instanceof f.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(O){var k=u(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,O);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),P}(g.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",n.Code=j,n.default=S},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(L,A){var R=[],$=!0,J=!1,K=void 0;try{for(var I=L[Symbol.iterator](),W;!($=(W=I.next()).done)&&(R.push(W.value),!(A&&R.length===A));$=!0);}catch(G){J=!0,K=G}finally{try{!$&&I.return&&I.return()}finally{if(J)throw K}}return R}return function(L,A){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return z(L,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function z(L,A){for(var R=0;R<A.length;R++){var $=A[R];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,A,R){return A&&z(L.prototype,A),R&&z(L,R),L}}(),l=i(2),d=k(l),p=i(20),f=k(p),c=i(0),g=k(c),b=i(13),y=k(b),w=i(24),m=k(w),h=i(4),x=k(h),v=i(16),_=k(v),j=i(21),S=k(j),E=i(11),P=k(E),N=i(3),O=k(N);function k(z){return z&&z.__esModule?z:{default:z}}function T(z,L,A){return L in z?Object.defineProperty(z,L,{value:A,enumerable:!0,configurable:!0,writable:!0}):z[L]=A,z}function C(z,L){if(!(z instanceof L))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,V=function(){function z(L){C(this,z),this.scroll=L,this.delta=this.getDelta()}return u(z,[{key:"applyDelta",value:function(A){var R=this,$=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),A=H(A),A.reduce(function(K,I){var W=I.retain||I.delete||I.insert.length||1,G=I.attributes||{};if(I.insert!=null){if(typeof I.insert=="string"){var Y=I.insert;Y.endsWith(`
`)&&$&&($=!1,Y=Y.slice(0,-1)),K>=J&&!Y.endsWith(`
`)&&($=!0),R.scroll.insertAt(K,Y);var Q=R.scroll.line(K),ie=o(Q,2),ce=ie[0],fe=ie[1],me=(0,O.default)({},(0,h.bubbleFormats)(ce));if(ce instanceof x.default){var be=ce.descendant(g.default.Leaf,fe),nt=o(be,1),ze=nt[0];me=(0,O.default)(me,(0,h.bubbleFormats)(ze))}G=f.default.attributes.diff(me,G)||{}}else if(s(I.insert)==="object"){var Z=Object.keys(I.insert)[0];if(Z==null)return K;R.scroll.insertAt(K,Z,I.insert[Z])}J+=W}return Object.keys(G).forEach(function(ee){R.scroll.formatAt(K,W,ee,G[ee])}),K+W},0),A.reduce(function(K,I){return typeof I.delete=="number"?(R.scroll.deleteAt(K,I.delete),K):K+(I.retain||I.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,R){return this.scroll.deleteAt(A,R),this.update(new d.default().retain(A).delete(R))}},{key:"formatLine",value:function(A,R){var $=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(K){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[K])){var I=$.scroll.lines(A,Math.max(R,1)),W=R;I.forEach(function(G){var Y=G.length();if(!(G instanceof y.default))G.format(K,J[K]);else{var Q=A-G.offset($.scroll),ie=G.newlineIndex(Q+W)-Q+1;G.formatAt(Q,ie,K,J[K])}W-=Y})}}),this.scroll.optimize(),this.update(new d.default().retain(A).retain(R,(0,S.default)(J)))}},{key:"formatText",value:function(A,R){var $=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(K){$.scroll.formatAt(A,R,K,J[K])}),this.update(new d.default().retain(A).retain(R,(0,S.default)(J)))}},{key:"getContents",value:function(A,R){return this.delta.slice(A,A+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,R){return A.concat(R.delta())},new d.default)}},{key:"getFormat",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],J=[];R===0?this.scroll.path(A).forEach(function(I){var W=o(I,1),G=W[0];G instanceof x.default?$.push(G):G instanceof g.default.Leaf&&J.push(G)}):($=this.scroll.lines(A,R),J=this.scroll.descendants(g.default.Leaf,A,R));var K=[$,J].map(function(I){if(I.length===0)return{};for(var W=(0,h.bubbleFormats)(I.shift());Object.keys(W).length>0;){var G=I.shift();if(G==null)return W;W=F((0,h.bubbleFormats)(G),W)}return W});return O.default.apply(O.default,K)}},{key:"getText",value:function(A,R){return this.getContents(A,R).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(A,R,$){return this.scroll.insertAt(A,R,$),this.update(new d.default().retain(A).insert(T({},R,$)))}},{key:"insertText",value:function(A,R){var $=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,R),Object.keys(J).forEach(function(K){$.scroll.formatAt(A,R.length,K,J[K])}),this.update(new d.default().retain(A).insert(R,(0,S.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==x.default.blotName||A.children.length>1?!1:A.children.head instanceof _.default}},{key:"removeFormat",value:function(A,R){var $=this.getText(A,R),J=this.scroll.line(A+R),K=o(J,2),I=K[0],W=K[1],G=0,Y=new d.default;I!=null&&(I instanceof y.default?G=I.newlineIndex(W)-W+1:G=I.length()-W,Y=I.delta().slice(W,W+G-1).insert(`
`));var Q=this.getContents(A,R+G),ie=Q.diff(new d.default().insert($).concat(Y)),ce=new d.default().retain(A).concat(ie);return this.applyDelta(ce)}},{key:"update",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(D)&&g.default.find(R[0].target)){var K=g.default.find(R[0].target),I=(0,h.bubbleFormats)(K),W=K.offset(this.scroll),G=R[0].oldValue.replace(m.default.CONTENTS,""),Y=new d.default().insert(G),Q=new d.default().insert(K.value()),ie=new d.default().retain(W).concat(Y.diff(Q,$));A=ie.reduce(function(ce,fe){return fe.insert?ce.insert(fe.insert,I):ce.push(fe)},new d.default),this.delta=J.compose(A)}else this.delta=this.getDelta(),(!A||!(0,P.default)(J.compose(A),this.delta))&&(A=J.diff(this.delta,$));return A}}]),z}();function F(z,L){return Object.keys(L).reduce(function(A,R){return z[R]==null||(L[R]===z[R]?A[R]=L[R]:Array.isArray(L[R])?L[R].indexOf(z[R])<0&&(A[R]=L[R].concat([z[R]])):A[R]=[L[R],z[R]]),A},{})}function H(z){return z.reduce(function(L,A){if(A.insert===1){var R=(0,S.default)(A.attributes);return delete R.image,L.insert({image:A.attributes.image},R)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,S.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var $=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert($,A.attributes)}return L.push(A)},new d.default)}n.default=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=function(){function E(P,N){var O=[],k=!0,T=!1,C=void 0;try{for(var D=P[Symbol.iterator](),V;!(k=(V=D.next()).done)&&(O.push(V.value),!(N&&O.length===N));k=!0);}catch(F){T=!0,C=F}finally{try{!k&&D.return&&D.return()}finally{if(T)throw C}}return O}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(P,N){for(var O=0;O<N.length;O++){var k=N[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,N,O){return N&&E(P.prototype,N),O&&E(P,O),P}}(),u=i(0),l=m(u),d=i(21),p=m(d),f=i(11),c=m(f),g=i(8),b=m(g),y=i(10),w=m(y);function m(E){return E&&E.__esModule?E:{default:E}}function h(E){if(Array.isArray(E)){for(var P=0,N=Array(E.length);P<E.length;P++)N[P]=E[P];return N}else return Array.from(E)}function x(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}var v=(0,w.default)("quill:selection"),_=function E(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,E),this.index=P,this.length=N},j=function(){function E(P,N){var O=this;x(this,E),this.emitter=N,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(k,T){k===b.default.events.TEXT_CHANGE&&T.length()>0&&O.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var k=O.getNativeRange();k!=null&&k.start.node!==O.cursor.textNode&&O.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(k,T){if(T.range){var C=T.range,D=C.startNode,V=C.startOffset,F=C.endNode,H=C.endOffset;O.setNativeRange(D,V,F,H)}}),this.update(b.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var N=this;this.root.addEventListener("compositionstart",function(){N.composing=!0}),this.root.addEventListener("compositionend",function(){if(N.composing=!1,N.cursor.parent){var O=N.cursor.restore();if(!O)return;setTimeout(function(){N.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var N=this;this.emitter.listenDOM("mousedown",document.body,function(){N.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){N.mouseDown=!1,N.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(N,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[N])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||l.default.query(N,l.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var T=l.default.find(k.start.node,!1);if(T==null)return;if(T instanceof l.default.Leaf){var C=T.split(k.start.offset);T.parent.insertBefore(this.cursor,C)}else T.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(N,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();N=Math.min(N,k-1),O=Math.min(N+O,k-1)-N;var T=void 0,C=this.scroll.leaf(N),D=s(C,2),V=D[0],F=D[1];if(V==null)return null;var H=V.position(F,!0),z=s(H,2);T=z[0],F=z[1];var L=document.createRange();if(O>0){L.setStart(T,F);var A=this.scroll.leaf(N+O),R=s(A,2);if(V=R[0],F=R[1],V==null)return null;var $=V.position(F,!0),J=s($,2);return T=J[0],F=J[1],L.setEnd(T,F),L.getBoundingClientRect()}else{var K="left",I=void 0;return T instanceof Text?(F<T.data.length?(L.setStart(T,F),L.setEnd(T,F+1)):(L.setStart(T,F-1),L.setEnd(T,F),K="right"),I=L.getBoundingClientRect()):(I=V.domNode.getBoundingClientRect(),F>0&&(K="right")),{bottom:I.top+I.height,height:I.height,left:I[K],right:I[K],top:I.top,width:0}}}},{key:"getNativeRange",value:function(){var N=document.getSelection();if(N==null||N.rangeCount<=0)return null;var O=N.getRangeAt(0);if(O==null)return null;var k=this.normalizeNative(O);return v.info("getNativeRange",k),k}},{key:"getRange",value:function(){var N=this.getNativeRange();if(N==null)return[null,null];var O=this.normalizedToRange(N);return[O,N]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(N){var O=this,k=[[N.start.node,N.start.offset]];N.native.collapsed||k.push([N.end.node,N.end.offset]);var T=k.map(function(V){var F=s(V,2),H=F[0],z=F[1],L=l.default.find(H,!0),A=L.offset(O.scroll);return z===0?A:L instanceof l.default.Container?A+L.length():A+L.index(H,z)}),C=Math.min(Math.max.apply(Math,h(T)),this.scroll.length()-1),D=Math.min.apply(Math,[C].concat(h(T)));return new _(D,C-D)}},{key:"normalizeNative",value:function(N){if(!S(this.root,N.startContainer)||!N.collapsed&&!S(this.root,N.endContainer))return null;var O={start:{node:N.startContainer,offset:N.startOffset},end:{node:N.endContainer,offset:N.endOffset},native:N};return[O.start,O.end].forEach(function(k){for(var T=k.node,C=k.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>C)T=T.childNodes[C],C=0;else if(T.childNodes.length===C)T=T.lastChild,C=T instanceof Text?T.data.length:T.childNodes.length+1;else break;k.node=T,k.offset=C}),O}},{key:"rangeToNative",value:function(N){var O=this,k=N.collapsed?[N.index]:[N.index,N.index+N.length],T=[],C=this.scroll.length();return k.forEach(function(D,V){D=Math.min(C-1,D);var F=void 0,H=O.scroll.leaf(D),z=s(H,2),L=z[0],A=z[1],R=L.position(A,V!==0),$=s(R,2);F=$[0],A=$[1],T.push(F,A)}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(N){var O=this.lastRange;if(O!=null){var k=this.getBounds(O.index,O.length);if(k!=null){var T=this.scroll.length()-1,C=this.scroll.line(Math.min(O.index,T)),D=s(C,1),V=D[0],F=V;if(O.length>0){var H=this.scroll.line(Math.min(O.index+O.length,T)),z=s(H,1);F=z[0]}if(!(V==null||F==null)){var L=N.getBoundingClientRect();k.top<L.top?N.scrollTop-=L.top-k.top:k.bottom>L.bottom&&(N.scrollTop+=k.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(N,O){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",N,O,k,T),!(N!=null&&(this.root.parentNode==null||N.parentNode==null||k.parentNode==null))){var D=document.getSelection();if(D!=null)if(N!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||C||N!==V.startContainer||O!==V.startOffset||k!==V.endContainer||T!==V.endOffset){N.tagName=="BR"&&(O=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode),k.tagName=="BR"&&(T=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var F=document.createRange();F.setStart(N,O),F.setEnd(k,T),D.removeAllRanges(),D.addRange(F)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof O=="string"&&(k=O,O=!1),v.info("setRange",N),N!=null){var T=this.rangeToNative(N);this.setNativeRange.apply(this,h(T).concat([O]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,O=this.lastRange,k=this.getRange(),T=s(k,2),C=T[0],D=T[1];if(this.lastRange=C,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(O,this.lastRange)){var V;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[b.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(O),N];if((V=this.emitter).emit.apply(V,[b.default.events.EDITOR_CHANGE].concat(F)),N!==b.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,F)}}}}]),E}();function S(E,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),E.contains(P)}n.Range=_,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function b(y,w){for(var m=0;m<w.length;m++){var h=w[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,w,m){return w&&b(y.prototype,w),m&&b(y,m),y}}(),o=function b(y,w,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,w);if(h===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,m)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(m)}},u=i(0),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(){return p(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(m,h){m.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);g.blotName="break",g.tagName="BR",n.default=g},function(r,n,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var b in g)g.hasOwnProperty(b)&&(c[b]=g[b])};return function(c,g){f(c,g);function b(){this.constructor=c}c.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),u=i(30),l=i(1),d=function(f){s(c,f);function c(g){var b=f.call(this,g)||this;return b.build(),b}return c.prototype.appendChild=function(g){this.insertBefore(g)},c.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},c.prototype.build=function(){var g=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var y=p(b);g.insertBefore(y,g.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},c.prototype.deleteAt=function(g,b){if(g===0&&b===this.length())return this.remove();this.children.forEachAt(g,b,function(y,w,m){y.deleteAt(w,m)})},c.prototype.descendant=function(g,b){var y=this.children.find(b),w=y[0],m=y[1];return g.blotName==null&&g(w)||g.blotName!=null&&w instanceof g?[w,m]:w instanceof c?w.descendant(g,m):[null,-1]},c.prototype.descendants=function(g,b,y){b===void 0&&(b=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],m=y;return this.children.forEachAt(b,y,function(h,x,v){(g.blotName==null&&g(h)||g.blotName!=null&&h instanceof g)&&w.push(h),h instanceof c&&(w=w.concat(h.descendants(g,x,m))),m-=v}),w},c.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),f.prototype.detach.call(this)},c.prototype.formatAt=function(g,b,y,w){this.children.forEachAt(g,b,function(m,h,x){m.formatAt(h,x,y,w)})},c.prototype.insertAt=function(g,b,y){var w=this.children.find(g),m=w[0],h=w[1];if(m)m.insertAt(h,b,y);else{var x=y==null?l.create("text",b):l.create(b,y);this.appendChild(x)}},c.prototype.insertBefore=function(g,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return g instanceof y}))throw new l.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,b)},c.prototype.length=function(){return this.children.reduce(function(g,b){return g+b.length()},0)},c.prototype.moveChildren=function(g,b){this.children.forEach(function(y){g.insertBefore(y,b)})},c.prototype.optimize=function(g){if(f.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var b=l.create(this.statics.defaultChild);this.appendChild(b),b.optimize(g)}else this.remove()},c.prototype.path=function(g,b){b===void 0&&(b=!1);var y=this.children.find(g,b),w=y[0],m=y[1],h=[[this,g]];return w instanceof c?h.concat(w.path(m,b)):(w!=null&&h.push([w,m]),h)},c.prototype.removeChild=function(g){this.children.remove(g)},c.prototype.replace=function(g){g instanceof c&&g.moveChildren(this),f.prototype.replace.call(this,g)},c.prototype.split=function(g,b){if(b===void 0&&(b=!1),!b){if(g===0)return this;if(g===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(g,this.length(),function(w,m,h){w=w.split(m,b),y.appendChild(w)}),y},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(g,b){var y=this,w=[],m=[];g.forEach(function(h){h.target===y.domNode&&h.type==="childList"&&(w.push.apply(w,h.addedNodes),m.push.apply(m,h.removedNodes))}),m.forEach(function(h){if(!(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=l.find(h);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===y.domNode)&&x.detach()}}),w.filter(function(h){return h.parentNode==y.domNode}).sort(function(h,x){return h===x?0:h.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(h){var x=null;h.nextSibling!=null&&(x=l.find(h.nextSibling));var v=p(h);(v.next!=x||v.next==null)&&(v.parent!=null&&v.parent.removeChild(y),y.insertBefore(v,x||void 0))})},c}(u.default);function p(f){var c=l.find(f);if(c==null)try{c=l.create(f)}catch{c=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(b){c.domNode.appendChild(b)}),f.parentNode&&f.parentNode.replaceChild(c.domNode,f),c.attach()}return c}n.default=d},function(r,n,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var b in g)g.hasOwnProperty(b)&&(c[b]=g[b])};return function(c,g){f(c,g);function b(){this.constructor=c}c.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),u=i(31),l=i(17),d=i(1),p=function(f){s(c,f);function c(g){var b=f.call(this,g)||this;return b.attributes=new u.default(b.domNode),b}return c.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},c.prototype.format=function(g,b){var y=d.query(g);y instanceof o.default?this.attributes.attribute(y,b):b&&y!=null&&(g!==this.statics.blotName||this.formats()[g]!==b)&&this.replaceWith(g,b)},c.prototype.formats=function(){var g=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(g[this.statics.blotName]=b),g},c.prototype.replaceWith=function(g,b){var y=f.prototype.replaceWith.call(this,g,b);return this.attributes.copy(y),y},c.prototype.update=function(g,b){var y=this;f.prototype.update.call(this,g,b),g.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(g,b){var y=f.prototype.wrap.call(this,g,b);return y instanceof c&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},c}(l.default);n.default=p},function(r,n,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){d(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),u=i(1),l=function(d){s(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.value=function(f){return!0},p.prototype.index=function(f,c){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},p.prototype.position=function(f,c){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(g+=1),[this.parent.domNode,g]},p.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},p.scope=u.Scope.INLINE_BLOT,p}(o.default);n.default=l},function(r,n,i){var s=i(11),o=i(3),u={attributes:{compose:function(d,p,f){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});var c=o(!0,{},p);f||(c=Object.keys(c).reduce(function(b,y){return c[y]!=null&&(b[y]=c[y]),b},{}));for(var g in d)d[g]!==void 0&&p[g]===void 0&&(c[g]=d[g]);return Object.keys(c).length>0?c:void 0},diff:function(d,p){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});var f=Object.keys(d).concat(Object.keys(p)).reduce(function(c,g){return s(d[g],p[g])||(c[g]=p[g]===void 0?null:p[g]),c},{});return Object.keys(f).length>0?f:void 0},transform:function(d,p,f){if(typeof d!="object")return p;if(typeof p=="object"){if(!f)return p;var c=Object.keys(p).reduce(function(g,b){return d[b]===void 0&&(g[b]=p[b]),g},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(d){return new l(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function l(d){this.ops=d,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(d){d||(d=1/0);var p=this.ops[this.index];if(p){var f=this.offset,c=u.length(p);if(d>=c-f?(d=c-f,this.index+=1,this.offset=0):this.offset+=d,typeof p.delete=="number")return{delete:d};var g={};return p.attributes&&(g.attributes=p.attributes),typeof p.retain=="number"?g.retain=d:typeof p.insert=="string"?g.insert=p.insert.substr(f,d):g.insert=p.insert,g}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?u.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,p=this.index,f=this.next(),c=this.ops.slice(this.index);return this.offset=d,this.index=p,[f].concat(c)}else return[]},r.exports=u},function(r,n){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var u;try{u=Set}catch{u=function(){}}var l;try{l=Promise}catch{l=function(){}}function d(y,w,m,h,x){typeof w=="object"&&(m=w.depth,h=w.prototype,x=w.includeNonEnumerable,w=w.circular);var v=[],_=[],j=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof m>"u"&&(m=1/0);function S(E,P){if(E===null)return null;if(P===0)return E;var N,O;if(typeof E!="object")return E;if(s(E,o))N=new o;else if(s(E,u))N=new u;else if(s(E,l))N=new l(function(L,A){E.then(function(R){L(S(R,P-1))},function(R){A(S(R,P-1))})});else if(d.__isArray(E))N=[];else if(d.__isRegExp(E))N=new RegExp(E.source,b(E)),E.lastIndex&&(N.lastIndex=E.lastIndex);else if(d.__isDate(E))N=new Date(E.getTime());else{if(j&&Buffer.isBuffer(E))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(E.length):N=new Buffer(E.length),E.copy(N),N;s(E,Error)?N=Object.create(E):typeof h>"u"?(O=Object.getPrototypeOf(E),N=Object.create(O)):(N=Object.create(h),O=h)}if(w){var k=v.indexOf(E);if(k!=-1)return _[k];v.push(E),_.push(N)}s(E,o)&&E.forEach(function(L,A){var R=S(A,P-1),$=S(L,P-1);N.set(R,$)}),s(E,u)&&E.forEach(function(L){var A=S(L,P-1);N.add(A)});for(var T in E){var C;O&&(C=Object.getOwnPropertyDescriptor(O,T)),!(C&&C.set==null)&&(N[T]=S(E[T],P-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(E),T=0;T<D.length;T++){var V=D[T],F=Object.getOwnPropertyDescriptor(E,V);F&&!F.enumerable&&!x||(N[V]=S(E[V],P-1),F.enumerable||Object.defineProperty(N,V,{enumerable:!1}))}if(x)for(var H=Object.getOwnPropertyNames(E),T=0;T<H.length;T++){var z=H[T],F=Object.getOwnPropertyDescriptor(E,z);F&&F.enumerable||(N[z]=S(E[z],P-1),Object.defineProperty(N,z,{enumerable:!1}))}return N}return S(y,m)}d.clonePrototype=function(w){if(w===null)return null;var m=function(){};return m.prototype=w,new m};function p(y){return Object.prototype.toString.call(y)}d.__objToStr=p;function f(y){return typeof y=="object"&&p(y)==="[object Date]"}d.__isDate=f;function c(y){return typeof y=="object"&&p(y)==="[object Array]"}d.__isArray=c;function g(y){return typeof y=="object"&&p(y)==="[object RegExp]"}d.__isRegExp=g;function b(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return d.__getRegExpFlags=b,d}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function N(O,k){var T=[],C=!0,D=!1,V=void 0;try{for(var F=O[Symbol.iterator](),H;!(C=(H=F.next()).done)&&(T.push(H.value),!(k&&T.length===k));C=!0);}catch(z){D=!0,V=z}finally{try{!C&&F.return&&F.return()}finally{if(D)throw V}}return T}return function(O,k){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return N(O,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(O,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,k,T){return k&&N(O.prototype,k),T&&N(O,T),O}}(),u=function N(O,k,T){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,k);if(C===void 0){var D=Object.getPrototypeOf(O);return D===null?void 0:N(D,k,T)}else{if("value"in C)return C.value;var V=C.get;return V===void 0?void 0:V.call(T)}},l=i(0),d=v(l),p=i(8),f=v(p),c=i(4),g=v(c),b=i(16),y=v(b),w=i(13),m=v(w),h=i(25),x=v(h);function v(N){return N&&N.__esModule?N:{default:N}}function _(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function j(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function S(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}function E(N){return N instanceof g.default||N instanceof c.BlockEmbed}var P=function(N){S(O,N);function O(k,T){_(this,O);var C=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k));return C.emitter=T.emitter,Array.isArray(T.whitelist)&&(C.whitelist=T.whitelist.reduce(function(D,V){return D[V]=!0,D},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,C){var D=this.line(T),V=s(D,2),F=V[0],H=V[1],z=this.line(T+C),L=s(z,1),A=L[0];if(u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,T,C),A!=null&&F!==A&&H>0){if(F instanceof c.BlockEmbed||A instanceof c.BlockEmbed){this.optimize();return}if(F instanceof m.default){var R=F.newlineIndex(F.length(),!0);if(R>-1&&(F=F.split(R+1),F===A)){this.optimize();return}}else if(A instanceof m.default){var $=A.newlineIndex(0);$>-1&&A.split($+1)}var J=A.children.head instanceof y.default?null:A.children.head;F.moveChildren(A,J),F.remove()}this.optimize()}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,C,D,V){this.whitelist!=null&&!this.whitelist[D]||(u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,T,C,D,V),this.optimize())}},{key:"insertAt",value:function(T,C,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[C])){if(T>=this.length())if(D==null||d.default.query(C,d.default.Scope.BLOCK)==null){var V=d.default.create(this.statics.defaultChild);this.appendChild(V),D==null&&C.endsWith(`
`)&&(C=C.slice(0,-1)),V.insertAt(0,C,D)}else{var F=d.default.create(C,D);this.appendChild(F)}else u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,C,D);this.optimize()}}},{key:"insertBefore",value:function(T,C){if(T.statics.scope===d.default.Scope.INLINE_BLOT){var D=d.default.create(this.statics.defaultChild);D.appendChild(T),T=D}u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,T,C)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(E,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function V(F,H,z){var L=[],A=z;return F.children.forEachAt(H,z,function(R,$,J){E(R)?L.push(R):R instanceof d.default.Container&&(L=L.concat(V(R,$,A))),A-=J}),L};return D(this,T,C)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T,C),T.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,T,C))}},{key:"path",value:function(T){return u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var C=f.default.sources.USER;typeof T=="string"&&(C=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,C,T),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,C,T)}}}]),O}(d.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[g.default,c.BlockEmbed,x.default],n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},o=function(){function I(W,G){var Y=[],Q=!0,ie=!1,ce=void 0;try{for(var fe=W[Symbol.iterator](),me;!(Q=(me=fe.next()).done)&&(Y.push(me.value),!(G&&Y.length===G));Q=!0);}catch(be){ie=!0,ce=be}finally{try{!Q&&fe.return&&fe.return()}finally{if(ie)throw ce}}return Y}return function(W,G){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return I(W,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(W,G){for(var Y=0;Y<G.length;Y++){var Q=G[Y];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(W,Q.key,Q)}}return function(W,G,Y){return G&&I(W.prototype,G),Y&&I(W,Y),W}}(),l=i(21),d=N(l),p=i(11),f=N(p),c=i(3),g=N(c),b=i(2),y=N(b),w=i(20),m=N(w),h=i(0),x=N(h),v=i(5),_=N(v),j=i(10),S=N(j),E=i(9),P=N(E);function N(I){return I&&I.__esModule?I:{default:I}}function O(I,W,G){return W in I?Object.defineProperty(I,W,{value:G,enumerable:!0,configurable:!0,writable:!0}):I[W]=G,I}function k(I,W){if(!(I instanceof W))throw new TypeError("Cannot call a class as a function")}function T(I,W){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:I}function C(I,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);I.prototype=Object.create(W&&W.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(I,W):I.__proto__=W)}var D=(0,S.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(I){C(W,I),u(W,null,[{key:"match",value:function(Y,Q){return Q=K(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!Q[ie]!==Y[ie]&&Q[ie]!==null})?!1:Q.key===(Y.which||Y.keyCode)}}]);function W(G,Y){k(this,W);var Q=T(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,Y));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(ie){ie==="list autofill"&&G.scroll.whitelist!=null&&!G.scroll.whitelist.list||Q.options.bindings[ie]&&Q.addBinding(Q.options.bindings[ie])}),Q.addBinding({key:W.keys.ENTER,shiftKey:null},R),Q.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},z),Q.addBinding({key:W.keys.DELETE},{collapsed:!0},L)):(Q.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Q.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Q.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},A),Q.addBinding({key:W.keys.DELETE},{collapsed:!1},A),Q.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Q.listen(),Q}return u(W,[{key:"addBinding",value:function(Y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=K(Y);if(ce==null||ce.key==null)return D.warn("Attempted to add invalid keyboard binding",ce);typeof Q=="function"&&(Q={handler:Q}),typeof ie=="function"&&(ie={handler:ie}),ce=(0,g.default)(ce,Q,ie),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var ie=Q.which||Q.keyCode,ce=(Y.bindings[ie]||[]).filter(function(ke){return W.match(Q,ke)});if(ce.length!==0){var fe=Y.quill.getSelection();if(!(fe==null||!Y.quill.hasFocus())){var me=Y.quill.getLine(fe.index),be=o(me,2),nt=be[0],ze=be[1],Z=Y.quill.getLeaf(fe.index),ee=o(Z,2),M=ee[0],U=ee[1],B=fe.length===0?[M,U]:Y.quill.getLeaf(fe.index+fe.length),re=o(B,2),te=re[0],X=re[1],ae=M instanceof x.default.Text?M.value().slice(0,U):"",ge=te instanceof x.default.Text?te.value().slice(X):"",de={collapsed:fe.length===0,empty:fe.length===0&&nt.length()<=1,format:Y.quill.getFormat(fe),offset:ze,prefix:ae,suffix:ge},pt=ce.some(function(ke){if(ke.collapsed!=null&&ke.collapsed!==de.collapsed||ke.empty!=null&&ke.empty!==de.empty||ke.offset!=null&&ke.offset!==de.offset)return!1;if(Array.isArray(ke.format)){if(ke.format.every(function(Xe){return de.format[Xe]==null}))return!1}else if(s(ke.format)==="object"&&!Object.keys(ke.format).every(function(Xe){return ke.format[Xe]===!0?de.format[Xe]!=null:ke.format[Xe]===!1?de.format[Xe]==null:(0,f.default)(ke.format[Xe],de.format[Xe])}))return!1;return ke.prefix!=null&&!ke.prefix.test(de.prefix)||ke.suffix!=null&&!ke.suffix.test(de.suffix)?!1:ke.handler.call(Y,fe,de)!==!0});pt&&Q.preventDefault()}}}})}}]),W}(P.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(W,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,G){G.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,_.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(W){this.quill.history.cutoff();var G=new y.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(G,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,_.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,G){this.quill.format("list",!1,_.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var G=this.quill.getLine(W.index),Y=o(G,2),Q=Y[0],ie=Y[1],ce=(0,g.default)({},Q.formats(),{list:"checked"}),fe=new y.default().retain(W.index).insert(`
`,ce).retain(Q.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(fe,_.default.sources.USER),this.quill.setSelection(W.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,G){var Y=this.quill.getLine(W.index),Q=o(Y,2),ie=Q[0],ce=Q[1],fe=new y.default().retain(W.index).insert(`
`,G.format).retain(ie.length()-ce-1).retain(1,{header:null});this.quill.updateContents(fe,_.default.sources.USER),this.quill.setSelection(W.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,G){var Y=G.prefix.length,Q=this.quill.getLine(W.index),ie=o(Q,2),ce=ie[0],fe=ie[1];if(fe>Y)return!0;var me=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":me="unchecked";break;case"[x]":me="checked";break;case"-":case"*":me="bullet";break;default:me="ordered"}this.quill.insertText(W.index," ",_.default.sources.USER),this.quill.history.cutoff();var be=new y.default().retain(W.index-fe).delete(Y+1).retain(ce.length()-2-fe).retain(1,{list:me});this.quill.updateContents(be,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-Y,_.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var G=this.quill.getLine(W.index),Y=o(G,2),Q=Y[0],ie=Y[1],ce=new y.default().retain(W.index+Q.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,_.default.sources.USER)}},"embed left":H(F.keys.LEFT,!1),"embed left shift":H(F.keys.LEFT,!0),"embed right":H(F.keys.RIGHT,!1),"embed right shift":H(F.keys.RIGHT,!0)}};function H(I,W){var G,Y=I===F.keys.LEFT?"prefix":"suffix";return G={key:I,shiftKey:W,altKey:null},O(G,Y,/^$/),O(G,"handler",function(ie){var ce=ie.index;I===F.keys.RIGHT&&(ce+=ie.length+1);var fe=this.quill.getLeaf(ce),me=o(fe,1),be=me[0];return be instanceof x.default.Embed?(I===F.keys.LEFT?W?this.quill.setSelection(ie.index-1,ie.length+1,_.default.sources.USER):this.quill.setSelection(ie.index-1,_.default.sources.USER):W?this.quill.setSelection(ie.index,ie.length+1,_.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,_.default.sources.USER),!1):!0}),G}function z(I,W){if(!(I.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine(I.index),Y=o(G,1),Q=Y[0],ie={};if(W.offset===0){var ce=this.quill.getLine(I.index-1),fe=o(ce,1),me=fe[0];if(me!=null&&me.length()>1){var be=Q.formats(),nt=this.quill.getFormat(I.index-1,1);ie=m.default.attributes.diff(be,nt)||{}}}var ze=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(I.index-ze,ze,_.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(I.index-ze,ze,ie,_.default.sources.USER),this.quill.focus()}}function L(I,W){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(I.index>=this.quill.getLength()-G)){var Y={},Q=0,ie=this.quill.getLine(I.index),ce=o(ie,1),fe=ce[0];if(W.offset>=fe.length()-1){var me=this.quill.getLine(I.index+1),be=o(me,1),nt=be[0];if(nt){var ze=fe.formats(),Z=this.quill.getFormat(I.index,1);Y=m.default.attributes.diff(ze,Z)||{},Q=nt.length()}}this.quill.deleteText(I.index,G,_.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(I.index+Q-1,G,Y,_.default.sources.USER)}}function A(I){var W=this.quill.getLines(I),G={};if(W.length>1){var Y=W[0].formats(),Q=W[W.length-1].formats();G=m.default.attributes.diff(Q,Y)||{}}this.quill.deleteText(I,_.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(I.index,1,G,_.default.sources.USER),this.quill.setSelection(I.index,_.default.sources.SILENT),this.quill.focus()}function R(I,W){var G=this;I.length>0&&this.quill.scroll.deleteAt(I.index,I.length);var Y=Object.keys(W.format).reduce(function(Q,ie){return x.default.query(ie,x.default.Scope.BLOCK)&&!Array.isArray(W.format[ie])&&(Q[ie]=W.format[ie]),Q},{});this.quill.insertText(I.index,`
`,Y,_.default.sources.USER),this.quill.setSelection(I.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(Q){Y[Q]==null&&(Array.isArray(W.format[Q])||Q!=="link"&&G.quill.format(Q,W.format[Q],_.default.sources.USER))})}function $(I){return{key:F.keys.TAB,shiftKey:!I,format:{"code-block":!0},handler:function(G){var Y=x.default.query("code-block"),Q=G.index,ie=G.length,ce=this.quill.scroll.descendant(Y,Q),fe=o(ce,2),me=fe[0],be=fe[1];if(me!=null){var nt=this.quill.getIndex(me),ze=me.newlineIndex(be,!0)+1,Z=me.newlineIndex(nt+be+ie),ee=me.domNode.textContent.slice(ze,Z).split(`
`);be=0,ee.forEach(function(M,U){I?(me.insertAt(ze+be,Y.TAB),be+=Y.TAB.length,U===0?Q+=Y.TAB.length:ie+=Y.TAB.length):M.startsWith(Y.TAB)&&(me.deleteAt(ze+be,Y.TAB.length),be-=Y.TAB.length,U===0?Q-=Y.TAB.length:ie-=Y.TAB.length),be+=M.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(Q,ie,_.default.sources.SILENT)}}}}function J(I){return{key:I[0].toUpperCase(),shortKey:!0,handler:function(G,Y){this.quill.format(I,!Y.format[I],_.default.sources.USER)}}}function K(I){if(typeof I=="string"||typeof I=="number")return K({key:I});if((typeof I>"u"?"undefined":s(I))==="object"&&(I=(0,d.default)(I,!1)),typeof I.key=="string")if(F.keys[I.key.toUpperCase()]!=null)I.key=F.keys[I.key.toUpperCase()];else if(I.key.length===1)I.key=I.key.toUpperCase().charCodeAt(0);else return null;return I.shortKey&&(I[V]=I.shortKey,delete I.shortKey),I}n.default=F,n.SHORTKEY=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function m(h,x){var v=[],_=!0,j=!1,S=void 0;try{for(var E=h[Symbol.iterator](),P;!(_=(P=E.next()).done)&&(v.push(P.value),!(x&&v.length===x));_=!0);}catch(N){j=!0,S=N}finally{try{!_&&E.return&&E.return()}finally{if(j)throw S}}return v}return function(h,x){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return m(h,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function m(h,x,v){h===null&&(h=Function.prototype);var _=Object.getOwnPropertyDescriptor(h,x);if(_===void 0){var j=Object.getPrototypeOf(h);return j===null?void 0:m(j,x,v)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(v)}},u=function(){function m(h,x){for(var v=0;v<x.length;v++){var _=x[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,x,v){return x&&m(h.prototype,x),v&&m(h,v),h}}(),l=i(0),d=c(l),p=i(7),f=c(p);function c(m){return m&&m.__esModule?m:{default:m}}function g(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function b(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function y(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var w=function(m){y(h,m),u(h,null,[{key:"value",value:function(){}}]);function h(x,v){g(this,h);var _=b(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x));return _.selection=v,_.textNode=document.createTextNode(h.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return u(h,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,_){if(this._length!==0)return o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,v,_);for(var j=this,S=0;j!=null&&j.statics.scope!==d.default.Scope.BLOCK_BLOT;)S+=j.offset(j.parent),j=j.parent;j!=null&&(this._length=h.CONTENTS.length,j.optimize(),j.formatAt(S,h.CONTENTS.length,v,_),this._length=0)}},{key:"index",value:function(v,_){return v===this.textNode?0:o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,v,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,_=this.selection.getNativeRange(),j=void 0,S=void 0,E=void 0;if(_!=null&&_.start.node===v&&_.end.node===v){var P=[v,_.start.offset,_.end.offset];j=P[0],S=P[1],E=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==h.CONTENTS){var N=this.textNode.data.split(h.CONTENTS).join("");this.next instanceof f.default?(j=this.next.domNode,this.next.insertAt(0,N),this.textNode.data=h.CONTENTS):(this.textNode.data=N,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(h.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var O=[S,E].map(function(T){return Math.max(0,Math.min(j.data.length,T-1))}),k=s(O,2);return S=k[0],E=k[1],{startNode:j,startOffset:S,endNode:j,endOffset:E}}}}},{key:"update",value:function(v,_){var j=this;if(v.some(function(E){return E.type==="characterData"&&E.target===j.textNode})){var S=this.restore();S&&(_.range=S)}}},{key:"value",value:function(){return""}}]),h}(d.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=d(s),u=i(4),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(){return p(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);g.allowedChildren=[l.default,u.BlockEmbed,g],n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=function(){function w(m,h){for(var x=0;x<h.length;x++){var v=h[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,h,x){return h&&w(m.prototype,h),x&&w(m,x),m}}(),o=function w(m,h,x){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,h);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,h,x)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(x)}},u=i(0),l=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function p(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function f(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function c(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var g=function(w){c(m,w);function m(){return p(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(x){var v=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,x);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):v}}]),m}(l.default.Attributor.Style),b=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new g("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=g,n.ColorClass=b,n.ColorStyle=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=function(){function y(w,m){for(var h=0;h<m.length;h++){var x=m[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,m,h){return m&&y(w.prototype,m),h&&y(w,h),w}}(),o=function y(w,m,h){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,m);if(x===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:y(v,m,h)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(h)}},u=i(6),l=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function c(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var g=function(y){c(w,y);function w(){return p(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(h,x){if(h!==this.statics.blotName||!x)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,h,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(h){var x=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,h);return h=this.sanitize(h),x.setAttribute("href",h),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return b(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),w}(l.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(y,w){var m=document.createElement("a");m.href=y;var h=m.href.slice(0,m.href.indexOf(":"));return w.indexOf(h)>-1}n.default=g,n.sanitize=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(m,h){for(var x=0;x<h.length;x++){var v=h[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,h,x){return h&&w(m.prototype,h),x&&w(m,x),m}}(),u=i(23),l=f(u),d=i(107),p=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function c(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}var g=0;function b(w,m){w.setAttribute(m,w.getAttribute(m)!=="true")}var y=function(){function w(m){var h=this;c(this,w),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case l.default.keys.ENTER:h.togglePicker();break;case l.default.keys.ESCAPE:h.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var x=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),h.hasAttribute("value")&&v.setAttribute("data-value",h.getAttribute("value")),h.textContent&&v.setAttribute("data-label",h.textContent),v.addEventListener("click",function(){x.selectItem(v,!0)}),v.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:x.selectItem(v,!0),_.preventDefault();break;case l.default.keys.ESCAPE:x.escape(),_.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=p.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(v){var _=h.buildItem(v);x.appendChild(_),v.selected===!0&&h.selectItem(_)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(x){h.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(h!==v&&(v!=null&&v.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var v=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),w}();n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=D(s),u=i(5),l=D(u),d=i(4),p=D(d),f=i(16),c=D(f),g=i(25),b=D(g),y=i(24),w=D(y),m=i(35),h=D(m),x=i(6),v=D(x),_=i(22),j=D(_),S=i(7),E=D(S),P=i(55),N=D(P),O=i(42),k=D(O),T=i(23),C=D(T);function D(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":p.default,"blots/block/embed":d.BlockEmbed,"blots/break":c.default,"blots/container":b.default,"blots/cursor":w.default,"blots/embed":h.default,"blots/inline":v.default,"blots/scroll":j.default,"blots/text":E.default,"modules/clipboard":N.default,"modules/history":k.default,"modules/keyboard":C.default}),o.default.register(p.default,c.default,w.default,v.default,j.default,E.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=function(){function u(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(u.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),u.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?d=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?d=document.createElement(l):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},u.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},u.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},u.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},u.prototype.deleteAt=function(l,d){var p=this.isolate(l,d);p.remove()},u.prototype.formatAt=function(l,d,p,f){var c=this.isolate(l,d);if(s.query(p,s.Scope.BLOT)!=null&&f)c.wrap(p,f);else if(s.query(p,s.Scope.ATTRIBUTE)!=null){var g=s.create(this.statics.scope);c.wrap(g),g.format(p,f)}},u.prototype.insertAt=function(l,d,p){var f=p==null?s.create("text",d):s.create(d,p),c=this.split(l);this.parent.insertBefore(f,c)},u.prototype.insertInto=function(l,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var p=null;l.children.insertBefore(this,d),d!=null&&(p=d.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=p)&&l.domNode.insertBefore(this.domNode,p),this.parent=l,this.attach()},u.prototype.isolate=function(l,d){var p=this.split(l);return p.split(d),p},u.prototype.length=function(){return 1},u.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},u.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},u.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},u.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},u.prototype.replaceWith=function(l,d){var p=typeof l=="string"?s.create(l,d):l;return p.replace(this),p},u.prototype.split=function(l,d){return l===0?this:this.next},u.prototype.update=function(l,d){},u.prototype.wrap=function(l,d){var p=typeof l=="string"?s.create(l,d):l;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},u.blotName="abstract",u}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),o=i(32),u=i(33),l=i(1),d=function(){function p(f){this.attributes={},this.domNode=f,this.build()}return p.prototype.attribute=function(f,c){c?f.add(this.domNode,c)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},p.prototype.build=function(){var f=this;this.attributes={};var c=s.default.keys(this.domNode),g=o.default.keys(this.domNode),b=u.default.keys(this.domNode);c.concat(g).concat(b).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(f.attributes[w.attrName]=w)})},p.prototype.copy=function(f){var c=this;Object.keys(this.attributes).forEach(function(g){var b=c.attributes[g].value(c.domNode);f.format(g,b)})},p.prototype.move=function(f){var c=this;this.copy(f),Object.keys(this.attributes).forEach(function(g){c.attributes[g].remove(c.domNode)}),this.attributes={}},p.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(c,g){return c[g]=f.attributes[g].value(f.domNode),c},{})},p}();n.default=d},function(r,n,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){d(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function u(d,p){var f=d.getAttribute("class")||"";return f.split(/\s+/).filter(function(c){return c.indexOf(p+"-")===0})}var l=function(d){s(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},p.prototype.add=function(f,c){return this.canAdd(f,c)?(this.remove(f),f.classList.add(this.keyName+"-"+c),!0):!1},p.prototype.remove=function(f){var c=u(f,this.keyName);c.forEach(function(g){f.classList.remove(g)}),f.classList.length===0&&f.removeAttribute("class")},p.prototype.value=function(f){var c=u(f,this.keyName)[0]||"",g=c.slice(this.keyName.length+1);return this.canAdd(f,g)?g:""},p}(o.default);n.default=l},function(r,n,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){d(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function u(d){var p=d.split("-"),f=p.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return p[0]+f}var l=function(d){s(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(c){var g=c.split(":");return g[0].trim()})},p.prototype.add=function(f,c){return this.canAdd(f,c)?(f.style[u(this.keyName)]=c,!0):!1},p.prototype.remove=function(f){f.style[u(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},p.prototype.value=function(f){var c=f.style[u(this.keyName)];return this.canAdd(f,c)?c:""},p}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function l(d,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}return function(d,p,f){return p&&l(d.prototype,p),f&&l(d,f),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function(){function l(d,p){o(this,l),this.quill=d,this.options=p,this.modules={}}return s(l,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(f){p.modules[f]==null&&p.addModule(f)})}},{key:"addModule",value:function(p){var f=this.quill.constructor.import("modules/"+p);return this.modules[p]=new f(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),l}();u.DEFAULTS={modules:{}},u.themes={default:u},n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function m(h,x){for(var v=0;v<x.length;v++){var _=x[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,x,v){return x&&m(h.prototype,x),v&&m(h,v),h}}(),o=function m(h,x,v){h===null&&(h=Function.prototype);var _=Object.getOwnPropertyDescriptor(h,x);if(_===void 0){var j=Object.getPrototypeOf(h);return j===null?void 0:m(j,x,v)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(v)}},u=i(0),l=f(u),d=i(7),p=f(d);function f(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function g(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function b(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var y="\uFEFF",w=function(m){b(h,m);function h(x){c(this,h);var v=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(_){v.contentNode.appendChild(_)}),v.leftGuard=document.createTextNode(y),v.rightGuard=document.createTextNode(y),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return s(h,[{key:"index",value:function(v,_){return v===this.leftGuard?0:v===this.rightGuard?1:o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,v,_)}},{key:"restore",value:function(v){var _=void 0,j=void 0,S=v.data.split(y).join("");if(v===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,S),_={startNode:this.prev.domNode,startOffset:E+S.length}}else j=document.createTextNode(S),this.parent.insertBefore(l.default.create(j),this),_={startNode:j,startOffset:S.length};else v===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,S),_={startNode:this.next.domNode,startOffset:S.length}):(j=document.createTextNode(S),this.parent.insertBefore(l.default.create(j),this.next),_={startNode:j,startOffset:S.length}));return v.data=y,_}},{key:"update",value:function(v,_){var j=this;v.forEach(function(S){if(S.type==="characterData"&&(S.target===j.leftGuard||S.target===j.rightGuard)){var E=j.restore(S.target);E&&(_.range=E)}})}}]),h}(l.default.Embed);n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=i(0),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",l),p=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=d,n.AlignClass=p,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=i(0),o=l(s),u=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),p=new u.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=i(0),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",l),p=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=d,n.DirectionClass=p,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=function(){function m(h,x){for(var v=0;v<x.length;v++){var _=x[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,x,v){return x&&m(h.prototype,x),v&&m(h,v),h}}(),o=function m(h,x,v){h===null&&(h=Function.prototype);var _=Object.getOwnPropertyDescriptor(h,x);if(_===void 0){var j=Object.getPrototypeOf(h);return j===null?void 0:m(j,x,v)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(v)}},u=i(0),l=d(u);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function f(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function c(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var g={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new l.default.Attributor.Class("font","ql-font",g),y=function(m){c(h,m);function h(){return p(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return s(h,[{key:"value",value:function(v){return o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),h}(l.default.Attributor.Style),w=new y("font","font-family",g);n.FontStyle=w,n.FontClass=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=i(0),o=u(s);function u(p){return p&&p.__esModule?p:{default:p}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=d},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=function(){function x(v,_){for(var j=0;j<_.length;j++){var S=_[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,_,j){return _&&x(v.prototype,_),j&&x(v,j),v}}(),o=i(0),u=c(o),l=i(5),d=c(l),p=i(9),f=c(p);function c(x){return x&&x.__esModule?x:{default:x}}function g(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function b(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function y(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var w=function(x){y(v,x);function v(_,j){g(this,v);var S=b(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_,j));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(d.default.events.EDITOR_CHANGE,function(E,P,N,O){E!==d.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||O===d.default.sources.USER?S.record(P,N):S.transform(P))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(v,[{key:"change",value:function(j,S){if(this.stack[j].length!==0){var E=this.stack[j].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[j],d.default.sources.USER),this.ignoreChange=!1;var P=h(E[j]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(j,S){if(j.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var N=this.stack.undo.pop();E=E.compose(N.undo),j=N.redo.compose(j)}else this.lastRecorded=P;this.stack.undo.push({redo:j,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(j){this.stack.undo.forEach(function(S){S.undo=j.transform(S.undo,!0),S.redo=j.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=j.transform(S.undo,!0),S.redo=j.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(x){var v=x.ops[x.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(_){return u.default.query(_,u.default.Scope.BLOCK)!=null}):!1}function h(x){var v=x.reduce(function(j,S){return j+=S.delete||0,j},0),_=x.length()-v;return m(x)&&(_-=1),_}n.default=w,n.getLastChangeIndex=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=function(){function R($,J){for(var K=0;K<J.length;K++){var I=J[K];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty($,I.key,I)}}return function($,J,K){return J&&R($.prototype,J),K&&R($,K),$}}(),o=function R($,J,K){$===null&&($=Function.prototype);var I=Object.getOwnPropertyDescriptor($,J);if(I===void 0){var W=Object.getPrototypeOf($);return W===null?void 0:R(W,J,K)}else{if("value"in I)return I.value;var G=I.get;return G===void 0?void 0:G.call(K)}},u=i(3),l=P(u),d=i(2),p=P(d),f=i(8),c=P(f),g=i(23),b=P(g),y=i(34),w=P(y),m=i(59),h=P(m),x=i(60),v=P(x),_=i(28),j=P(_),S=i(61),E=P(S);function P(R){return R&&R.__esModule?R:{default:R}}function N(R,$){if(!(R instanceof $))throw new TypeError("Cannot call a class as a function")}function O(R,$){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:R}function k(R,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);R.prototype=Object.create($&&$.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(R,$):R.__proto__=$)}var T=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],V=["1","2","3",!1],F=["small",!1,"large","huge"],H=function(R){k($,R);function $(J,K){N(this,$);var I=O(this,($.__proto__||Object.getPrototypeOf($)).call(this,J,K)),W=function G(Y){if(!document.body.contains(J.root))return document.body.removeEventListener("click",G);I.tooltip!=null&&!I.tooltip.root.contains(Y.target)&&document.activeElement!==I.tooltip.textbox&&!I.quill.hasFocus()&&I.tooltip.hide(),I.pickers!=null&&I.pickers.forEach(function(Q){Q.container.contains(Y.target)||Q.close()})};return J.emitter.listenDOM("click",document.body,W),I}return s($,[{key:"addModule",value:function(K){var I=o($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(I),I}},{key:"buildButtons",value:function(K,I){K.forEach(function(W){var G=W.getAttribute("class")||"";G.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),I[Y]!=null))if(Y==="direction")W.innerHTML=I[Y][""]+I[Y].rtl;else if(typeof I[Y]=="string")W.innerHTML=I[Y];else{var Q=W.value||"";Q!=null&&I[Y][Q]&&(W.innerHTML=I[Y][Q])}})})}},{key:"buildPickers",value:function(K,I){var W=this;this.pickers=K.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&A(Y,T),new v.default(Y,I.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var Q=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&A(Y,C,Q==="background"?"#ffffff":"#000000"),new h.default(Y,I[Q])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?A(Y,D):Y.classList.contains("ql-header")?A(Y,V):Y.classList.contains("ql-size")&&A(Y,F)),new j.default(Y)});var G=function(){W.pickers.forEach(function(Q){Q.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,G)}}]),$}(w.default);H.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var K=new FileReader;K.onload=function(I){var W=$.quill.getSelection(!0);$.quill.updateContents(new p.default().retain(W.index).delete(W.length).insert({image:I.target.result}),c.default.sources.USER),$.quill.setSelection(W.index+1,c.default.sources.SILENT),J.value=""},K.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(R){k($,R);function $(J,K){N(this,$);var I=O(this,($.__proto__||Object.getPrototypeOf($)).call(this,J,K));return I.textbox=I.root.querySelector('input[type="text"]'),I.listen(),I}return s($,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(I){b.default.match(I,"enter")?(K.save(),I.preventDefault()):b.default.match(I,"escape")&&(K.cancel(),I.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),I!=null?this.textbox.value=I:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var I=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,c.default.sources.USER)),this.quill.root.scrollTop=I;break}case"video":K=L(K);case"formula":{if(!K)break;var W=this.quill.getSelection(!0);if(W!=null){var G=W.index+W.length;this.quill.insertEmbed(G,this.root.getAttribute("data-mode"),K,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(G+1," ",c.default.sources.USER),this.quill.setSelection(G+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(E.default);function L(R){var $=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":R}function A(R,$){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(K){var I=document.createElement("option");K===J?I.setAttribute("selected","selected"):I.setAttribute("value",K),R.appendChild(I)})}n.BaseTooltip=z,n.default=H},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];this.insertBefore(u[0],null),u.length>1&&this.append.apply(this,u.slice(1))},o.prototype.contains=function(u){for(var l,d=this.iterator();l=d();)if(l===u)return!0;return!1},o.prototype.insertBefore=function(u,l){u&&(u.next=l,l!=null?(u.prev=l.prev,l.prev!=null&&(l.prev.next=u),l.prev=u,l===this.head&&(this.head=u)):this.tail!=null?(this.tail.next=u,u.prev=this.tail,this.tail=u):(u.prev=null,this.head=this.tail=u),this.length+=1)},o.prototype.offset=function(u){for(var l=0,d=this.head;d!=null;){if(d===u)return l;l+=d.length(),d=d.next}return-1},o.prototype.remove=function(u){this.contains(u)&&(u.prev!=null&&(u.prev.next=u.next),u.next!=null&&(u.next.prev=u.prev),u===this.head&&(this.head=u.next),u===this.tail&&(this.tail=u.prev),this.length-=1)},o.prototype.iterator=function(u){return u===void 0&&(u=this.head),function(){var l=u;return u!=null&&(u=u.next),l}},o.prototype.find=function(u,l){l===void 0&&(l=!1);for(var d,p=this.iterator();d=p();){var f=d.length();if(u<f||l&&u===f&&(d.next==null||d.next.length()!==0))return[d,u];u-=f}return[null,0]},o.prototype.forEach=function(u){for(var l,d=this.iterator();l=d();)u(l)},o.prototype.forEachAt=function(u,l,d){if(!(l<=0))for(var p=this.find(u),f=p[0],c=p[1],g,b=u-c,y=this.iterator(f);(g=y())&&b<u+l;){var w=g.length();u>b?d(g,u-b,Math.min(l,b+w-u)):d(g,0,Math.min(w,u+l-b)),b+=w}},o.prototype.map=function(u){return this.reduce(function(l,d){return l.push(u(d)),l},[])},o.prototype.reduce=function(u,l){for(var d,p=this.iterator();d=p();)l=u(l,d);return l},o}();n.default=s},function(r,n,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var b in g)g.hasOwnProperty(b)&&(c[b]=g[b])};return function(c,g){f(c,g);function b(){this.constructor=c}c.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),u=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,p=function(f){s(c,f);function c(g){var b=f.call(this,g)||this;return b.scroll=b,b.observer=new MutationObserver(function(y){b.update(y)}),b.observer.observe(b.domNode,l),b.attach(),b}return c.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(g,b){this.update(),g===0&&b===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,g,b)},c.prototype.formatAt=function(g,b,y,w){this.update(),f.prototype.formatAt.call(this,g,b,y,w)},c.prototype.insertAt=function(g,b,y){this.update(),f.prototype.insertAt.call(this,g,b,y)},c.prototype.optimize=function(g,b){var y=this;g===void 0&&(g=[]),b===void 0&&(b={}),f.prototype.optimize.call(this,b);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)g.push(w.pop());for(var m=function(_,j){j===void 0&&(j=!0),!(_==null||_===y)&&_.domNode.parentNode!=null&&(_.domNode[u.DATA_KEY].mutations==null&&(_.domNode[u.DATA_KEY].mutations=[]),j&&m(_.parent))},h=function(_){_.domNode[u.DATA_KEY]==null||_.domNode[u.DATA_KEY].mutations==null||(_ instanceof o.default&&_.children.forEach(h),_.optimize(b))},x=g,v=0;x.length>0;v+=1){if(v>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(_){var j=u.find(_.target,!0);j!=null&&(j.domNode===_.target&&(_.type==="childList"?(m(u.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(S){var E=u.find(S,!1);m(E,!1),E instanceof o.default&&E.children.forEach(function(P){m(P,!1)})})):_.type==="attributes"&&m(j.prev)),m(j))}),this.children.forEach(h),x=[].slice.call(this.observer.takeRecords()),w=x.slice();w.length>0;)g.push(w.pop())}},c.prototype.update=function(g,b){var y=this;b===void 0&&(b={}),g=g||this.observer.takeRecords(),g.map(function(w){var m=u.find(w.target,!0);return m==null?null:m.domNode[u.DATA_KEY].mutations==null?(m.domNode[u.DATA_KEY].mutations=[w],m):(m.domNode[u.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[u.DATA_KEY]==null||w.update(w.domNode[u.DATA_KEY].mutations||[],b)}),this.domNode[u.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[u.DATA_KEY].mutations,b),this.optimize(g,b)},c.blotName="scroll",c.defaultChild="block",c.scope=u.Scope.BLOCK_BLOT,c.tagName="DIV",c}(o.default);n.default=p},function(r,n,i){var s=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var g in c)c.hasOwnProperty(g)&&(f[g]=c[g])};return function(f,c){p(f,c);function g(){this.constructor=f}f.prototype=c===null?Object.create(c):(g.prototype=c.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),u=i(1);function l(p,f){if(Object.keys(p).length!==Object.keys(f).length)return!1;for(var c in p)if(p[c]!==f[c])return!1;return!0}var d=function(p){s(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.formats=function(c){if(c.tagName!==f.tagName)return p.formats.call(this,c)},f.prototype.format=function(c,g){var b=this;c===this.statics.blotName&&!g?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(f.blotName,!0)),b.attributes.copy(y)}),this.unwrap()):p.prototype.format.call(this,c,g)},f.prototype.formatAt=function(c,g,b,y){if(this.formats()[b]!=null||u.query(b,u.Scope.ATTRIBUTE)){var w=this.isolate(c,g);w.format(b,y)}else p.prototype.formatAt.call(this,c,g,b,y)},f.prototype.optimize=function(c){p.prototype.optimize.call(this,c);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var b=this.next;b instanceof f&&b.prev===this&&l(g,b.formats())&&(b.moveChildren(this),b.remove())},f.blotName="inline",f.scope=u.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=d},function(r,n,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){d(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),u=i(1),l=function(d){s(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.formats=function(f){var c=u.query(p.blotName).tagName;if(f.tagName!==c)return d.formats.call(this,f)},p.prototype.format=function(f,c){u.query(f,u.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!c?this.replaceWith(p.blotName):d.prototype.format.call(this,f,c))},p.prototype.formatAt=function(f,c,g,b){u.query(g,u.Scope.BLOCK)!=null?this.format(g,b):d.prototype.formatAt.call(this,f,c,g,b)},p.prototype.insertAt=function(f,c,g){if(g==null||u.query(c,u.Scope.INLINE)!=null)d.prototype.insertAt.call(this,f,c,g);else{var b=this.split(f),y=u.create(c,g);b.parent.insertBefore(y,b)}},p.prototype.update=function(f,c){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,f,c)},p.blotName="block",p.scope=u.Scope.BLOCK_BLOT,p.tagName="P",p}(o.default);n.default=l},function(r,n,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),u=function(l){s(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.formats=function(p){},d.prototype.format=function(p,f){l.prototype.formatAt.call(this,0,this.length(),p,f)},d.prototype.formatAt=function(p,f,c,g){p===0&&f===this.length()?this.format(c,g):l.prototype.formatAt.call(this,p,f,c,g)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);n.default=u},function(r,n,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){d(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),u=i(1),l=function(d){s(p,d);function p(f){var c=d.call(this,f)||this;return c.text=c.statics.value(c.domNode),c}return p.create=function(f){return document.createTextNode(f)},p.value=function(f){var c=f.data;return c.normalize&&(c=c.normalize()),c},p.prototype.deleteAt=function(f,c){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+c)},p.prototype.index=function(f,c){return this.domNode===f?c:-1},p.prototype.insertAt=function(f,c,g){g==null?(this.text=this.text.slice(0,f)+c+this.text.slice(f),this.domNode.data=this.text):d.prototype.insertAt.call(this,f,c,g)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(f){d.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(f,c){return[this.domNode,f]},p.prototype.split=function(f,c){if(c===void 0&&(c=!1),!c){if(f===0)return this;if(f===this.length())return this.next}var g=u.create(this.domNode.splitText(f));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},p.prototype.update=function(f,c){var g=this;f.some(function(b){return b.type==="characterData"&&b.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=u.Scope.INLINE_BLOT,p}(o.default);n.default=l},function(r,n,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,l){return arguments.length>1&&!this.contains(u)==!l?l:o.call(this,u)}}String.prototype.startsWith||(String.prototype.startsWith=function(u,l){return l=l||0,this.substr(l,u.length)===u}),String.prototype.endsWith||(String.prototype.endsWith=function(u,l){var d=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>d.length)&&(l=d.length),l-=u.length;var p=d.indexOf(u,l);return p!==-1&&p===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),p=d.length>>>0,f=arguments[1],c,g=0;g<p;g++)if(c=d[g],l.call(f,c,g,d))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,s=1,o=0;function u(v,_,j){if(v==_)return v?[[o,v]]:[];(j<0||v.length<j)&&(j=null);var S=f(v,_),E=v.substring(0,S);v=v.substring(S),_=_.substring(S),S=c(v,_);var P=v.substring(v.length-S);v=v.substring(0,v.length-S),_=_.substring(0,_.length-S);var N=l(v,_);return E&&N.unshift([o,E]),P&&N.push([o,P]),b(N),j!=null&&(N=m(N,j)),N=h(N),N}function l(v,_){var j;if(!v)return[[s,_]];if(!_)return[[i,v]];var S=v.length>_.length?v:_,E=v.length>_.length?_:v,P=S.indexOf(E);if(P!=-1)return j=[[s,S.substring(0,P)],[o,E],[s,S.substring(P+E.length)]],v.length>_.length&&(j[0][0]=j[2][0]=i),j;if(E.length==1)return[[i,v],[s,_]];var N=g(v,_);if(N){var O=N[0],k=N[1],T=N[2],C=N[3],D=N[4],V=u(O,T),F=u(k,C);return V.concat([[o,D]],F)}return d(v,_)}function d(v,_){for(var j=v.length,S=_.length,E=Math.ceil((j+S)/2),P=E,N=2*E,O=new Array(N),k=new Array(N),T=0;T<N;T++)O[T]=-1,k[T]=-1;O[P+1]=0,k[P+1]=0;for(var C=j-S,D=C%2!=0,V=0,F=0,H=0,z=0,L=0;L<E;L++){for(var A=-L+V;A<=L-F;A+=2){var R=P+A,$;A==-L||A!=L&&O[R-1]<O[R+1]?$=O[R+1]:$=O[R-1]+1;for(var J=$-A;$<j&&J<S&&v.charAt($)==_.charAt(J);)$++,J++;if(O[R]=$,$>j)F+=2;else if(J>S)V+=2;else if(D){var K=P+C-A;if(K>=0&&K<N&&k[K]!=-1){var I=j-k[K];if($>=I)return p(v,_,$,J)}}}for(var W=-L+H;W<=L-z;W+=2){var K=P+W,I;W==-L||W!=L&&k[K-1]<k[K+1]?I=k[K+1]:I=k[K-1]+1;for(var G=I-W;I<j&&G<S&&v.charAt(j-I-1)==_.charAt(S-G-1);)I++,G++;if(k[K]=I,I>j)z+=2;else if(G>S)H+=2;else if(!D){var R=P+C-W;if(R>=0&&R<N&&O[R]!=-1){var $=O[R],J=P+$-R;if(I=j-I,$>=I)return p(v,_,$,J)}}}}return[[i,v],[s,_]]}function p(v,_,j,S){var E=v.substring(0,j),P=_.substring(0,S),N=v.substring(j),O=_.substring(S),k=u(E,P),T=u(N,O);return k.concat(T)}function f(v,_){if(!v||!_||v.charAt(0)!=_.charAt(0))return 0;for(var j=0,S=Math.min(v.length,_.length),E=S,P=0;j<E;)v.substring(P,E)==_.substring(P,E)?(j=E,P=j):S=E,E=Math.floor((S-j)/2+j);return E}function c(v,_){if(!v||!_||v.charAt(v.length-1)!=_.charAt(_.length-1))return 0;for(var j=0,S=Math.min(v.length,_.length),E=S,P=0;j<E;)v.substring(v.length-E,v.length-P)==_.substring(_.length-E,_.length-P)?(j=E,P=j):S=E,E=Math.floor((S-j)/2+j);return E}function g(v,_){var j=v.length>_.length?v:_,S=v.length>_.length?_:v;if(j.length<4||S.length*2<j.length)return null;function E(F,H,z){for(var L=F.substring(z,z+Math.floor(F.length/4)),A=-1,R="",$,J,K,I;(A=H.indexOf(L,A+1))!=-1;){var W=f(F.substring(z),H.substring(A)),G=c(F.substring(0,z),H.substring(0,A));R.length<G+W&&(R=H.substring(A-G,A)+H.substring(A,A+W),$=F.substring(0,z-G),J=F.substring(z+W),K=H.substring(0,A-G),I=H.substring(A+W))}return R.length*2>=F.length?[$,J,K,I,R]:null}var P=E(j,S,Math.ceil(j.length/4)),N=E(j,S,Math.ceil(j.length/2)),O;if(!P&&!N)return null;N?P?O=P[4].length>N[4].length?P:N:O=N:O=P;var k,T,C,D;v.length>_.length?(k=O[0],T=O[1],C=O[2],D=O[3]):(C=O[0],D=O[1],k=O[2],T=O[3]);var V=O[4];return[k,T,C,D,V]}function b(v){v.push([o,""]);for(var _=0,j=0,S=0,E="",P="",N;_<v.length;)switch(v[_][0]){case s:S++,P+=v[_][1],_++;break;case i:j++,E+=v[_][1],_++;break;case o:j+S>1?(j!==0&&S!==0&&(N=f(P,E),N!==0&&(_-j-S>0&&v[_-j-S-1][0]==o?v[_-j-S-1][1]+=P.substring(0,N):(v.splice(0,0,[o,P.substring(0,N)]),_++),P=P.substring(N),E=E.substring(N)),N=c(P,E),N!==0&&(v[_][1]=P.substring(P.length-N)+v[_][1],P=P.substring(0,P.length-N),E=E.substring(0,E.length-N))),j===0?v.splice(_-S,j+S,[s,P]):S===0?v.splice(_-j,j+S,[i,E]):v.splice(_-j-S,j+S,[i,E],[s,P]),_=_-j-S+(j?1:0)+(S?1:0)+1):_!==0&&v[_-1][0]==o?(v[_-1][1]+=v[_][1],v.splice(_,1)):_++,S=0,j=0,E="",P="";break}v[v.length-1][1]===""&&v.pop();var O=!1;for(_=1;_<v.length-1;)v[_-1][0]==o&&v[_+1][0]==o&&(v[_][1].substring(v[_][1].length-v[_-1][1].length)==v[_-1][1]?(v[_][1]=v[_-1][1]+v[_][1].substring(0,v[_][1].length-v[_-1][1].length),v[_+1][1]=v[_-1][1]+v[_+1][1],v.splice(_-1,1),O=!0):v[_][1].substring(0,v[_+1][1].length)==v[_+1][1]&&(v[_-1][1]+=v[_+1][1],v[_][1]=v[_][1].substring(v[_+1][1].length)+v[_+1][1],v.splice(_+1,1),O=!0)),_++;O&&b(v)}var y=u;y.INSERT=s,y.DELETE=i,y.EQUAL=o,r.exports=y;function w(v,_){if(_===0)return[o,v];for(var j=0,S=0;S<v.length;S++){var E=v[S];if(E[0]===i||E[0]===o){var P=j+E[1].length;if(_===P)return[S+1,v];if(_<P){v=v.slice();var N=_-j,O=[E[0],E[1].slice(0,N)],k=[E[0],E[1].slice(N)];return v.splice(S,1,O,k),[S+1,v]}else j=P}}throw new Error("cursor_pos is out of bounds!")}function m(v,_){var j=w(v,_),S=j[1],E=j[0],P=S[E],N=S[E+1];if(P==null)return v;if(P[0]!==o)return v;if(N!=null&&P[1]+N[1]===N[1]+P[1])return S.splice(E,2,N,P),x(S,E,2);if(N!=null&&N[1].indexOf(P[1])===0){S.splice(E,2,[N[0],P[1]],[0,P[1]]);var O=N[1].slice(P[1].length);return O.length>0&&S.splice(E+2,0,[N[0],O]),x(S,E,3)}else return v}function h(v){for(var _=!1,j=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},S=function(N){return N.charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319},E=2;E<v.length;E+=1)v[E-2][0]===o&&S(v[E-2][1])&&v[E-1][0]===i&&j(v[E-1][1])&&v[E][0]===s&&j(v[E][1])&&(_=!0,v[E-1][1]=v[E-2][1].slice(-1)+v[E-1][1],v[E][1]=v[E-2][1].slice(-1)+v[E][1],v[E-2][1]=v[E-2][1].slice(0,-1));if(!_)return v;for(var P=[],E=0;E<v.length;E+=1)v[E][1].length>0&&P.push(v[E]);return P}function x(v,_,j){for(var S=_+j-1;S>=0&&S>=_-1;S--)if(S+1<v.length){var E=v[S],P=v[S+1];E[0]===P[1]&&v.splice(S,2,[E[0],E[1]+P[1]])}return v}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(s){var o=[];for(var u in s)o.push(u);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?s:o,n.supported=s;function s(u){return Object.prototype.toString.call(u)=="[object Arguments]"}n.unsupported=o;function o(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function u(d,p,f){this.fn=d,this.context=p,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var p=[],f,c;if(this._eventsCount===0)return p;for(c in f=this._events)i.call(f,c)&&p.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},l.prototype.listeners=function(p,f){var c=s?s+p:p,g=this._events[c];if(f)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,w=new Array(y);b<y;b++)w[b]=g[b].fn;return w},l.prototype.emit=function(p,f,c,g,b,y){var w=s?s+p:p;if(!this._events[w])return!1;var m=this._events[w],h=arguments.length,x,v;if(m.fn){switch(m.once&&this.removeListener(p,m.fn,void 0,!0),h){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,c),!0;case 4:return m.fn.call(m.context,f,c,g),!0;case 5:return m.fn.call(m.context,f,c,g,b),!0;case 6:return m.fn.call(m.context,f,c,g,b,y),!0}for(v=1,x=new Array(h-1);v<h;v++)x[v-1]=arguments[v];m.fn.apply(m.context,x)}else{var _=m.length,j;for(v=0;v<_;v++)switch(m[v].once&&this.removeListener(p,m[v].fn,void 0,!0),h){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,f);break;case 3:m[v].fn.call(m[v].context,f,c);break;case 4:m[v].fn.call(m[v].context,f,c,g);break;default:if(!x)for(j=1,x=new Array(h-1);j<h;j++)x[j-1]=arguments[j];m[v].fn.apply(m[v].context,x)}}return!0},l.prototype.on=function(p,f,c){var g=new u(f,c||this),b=s?s+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},l.prototype.once=function(p,f,c){var g=new u(f,c||this,!0),b=s?s+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},l.prototype.removeListener=function(p,f,c,g){var b=s?s+p:p;if(!this._events[b])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[b],this;var y=this._events[b];if(y.fn)y.fn===f&&(!g||y.once)&&(!c||y.context===c)&&(--this._eventsCount===0?this._events=new o:delete this._events[b]);else{for(var w=0,m=[],h=y.length;w<h;w++)(y[w].fn!==f||g&&!y[w].once||c&&y[w].context!==c)&&m.push(y[w]);m.length?this._events[b]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new o:delete this._events[b]}return this},l.prototype.removeAllListeners=function(p){var f;return p?(f=s?s+p:p,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=function(){function Z(ee,M){var U=[],B=!0,re=!1,te=void 0;try{for(var X=ee[Symbol.iterator](),ae;!(B=(ae=X.next()).done)&&(U.push(ae.value),!(M&&U.length===M));B=!0);}catch(ge){re=!0,te=ge}finally{try{!B&&X.return&&X.return()}finally{if(re)throw te}}return U}return function(ee,M){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Z(ee,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function Z(ee,M){for(var U=0;U<M.length;U++){var B=M[U];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(ee,B.key,B)}}return function(ee,M,U){return M&&Z(ee.prototype,M),U&&Z(ee,U),ee}}(),l=i(3),d=k(l),p=i(2),f=k(p),c=i(0),g=k(c),b=i(5),y=k(b),w=i(10),m=k(w),h=i(9),x=k(h),v=i(36),_=i(37),j=i(13),S=k(j),E=i(26),P=i(38),N=i(39),O=i(40);function k(Z){return Z&&Z.__esModule?Z:{default:Z}}function T(Z,ee,M){return ee in Z?Object.defineProperty(Z,ee,{value:M,enumerable:!0,configurable:!0,writable:!0}):Z[ee]=M,Z}function C(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}function D(Z,ee){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:Z}function V(Z,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}var F=(0,m.default)("quill:clipboard"),H="__ql-matcher",z=[[Node.TEXT_NODE,ze],[Node.TEXT_NODE,me],["br",ie],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,nt],["li",fe],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",ce]],L=[v.AlignAttribute,P.DirectionAttribute].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),A=[v.AlignStyle,_.BackgroundStyle,E.ColorStyle,P.DirectionStyle,N.FontStyle,O.SizeStyle].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),R=function(Z){V(ee,Z);function ee(M,U){C(this,ee);var B=D(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,M,U));return B.quill.root.addEventListener("paste",B.onPaste.bind(B)),B.container=B.quill.addContainer("ql-clipboard"),B.container.setAttribute("contenteditable",!0),B.container.setAttribute("tabindex",-1),B.matchers=[],z.concat(B.options.matchers).forEach(function(re){var te=o(re,2),X=te[0],ae=te[1];!U.matchVisual&&ae===be||B.addMatcher(X,ae)}),B}return u(ee,[{key:"addMatcher",value:function(U,B){this.matchers.push([U,B])}},{key:"convert",value:function(U){if(typeof U=="string")return this.container.innerHTML=U.replace(/\>\r?\n +\</g,"><"),this.convert();var B=this.quill.getFormat(this.quill.selection.savedRange.index);if(B[S.default.blotName]){var re=this.container.innerText;return this.container.innerHTML="",new f.default().insert(re,T({},S.default.blotName,B[S.default.blotName]))}var te=this.prepareMatching(),X=o(te,2),ae=X[0],ge=X[1],de=W(this.container,ae,ge);return K(de,`
`)&&de.ops[de.ops.length-1].attributes==null&&(de=de.compose(new f.default().retain(de.length()-1).delete(1))),F.log("convert",this.container.innerHTML,de),this.container.innerHTML="",de}},{key:"dangerouslyPasteHTML",value:function(U,B){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof U=="string")this.quill.setContents(this.convert(U),B),this.quill.setSelection(0,y.default.sources.SILENT);else{var te=this.convert(B);this.quill.updateContents(new f.default().retain(U).concat(te),re),this.quill.setSelection(U+te.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(U){var B=this;if(!(U.defaultPrevented||!this.quill.isEnabled())){var re=this.quill.getSelection(),te=new f.default().retain(re.index),X=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){te=te.concat(B.convert()).delete(re.length),B.quill.updateContents(te,y.default.sources.USER),B.quill.setSelection(te.length()-re.length,y.default.sources.SILENT),B.quill.scrollingContainer.scrollTop=X,B.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var U=this,B=[],re=[];return this.matchers.forEach(function(te){var X=o(te,2),ae=X[0],ge=X[1];switch(ae){case Node.TEXT_NODE:re.push(ge);break;case Node.ELEMENT_NODE:B.push(ge);break;default:[].forEach.call(U.container.querySelectorAll(ae),function(de){de[H]=de[H]||[],de[H].push(ge)});break}}),[B,re]}}]),ee}(x.default);R.DEFAULTS={matchers:[],matchVisual:!0};function $(Z,ee,M){return(typeof ee>"u"?"undefined":s(ee))==="object"?Object.keys(ee).reduce(function(U,B){return $(U,B,ee[B])},Z):Z.reduce(function(U,B){return B.attributes&&B.attributes[ee]?U.push(B):U.insert(B.insert,(0,d.default)({},T({},ee,M),B.attributes))},new f.default)}function J(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return Z[ee]||(Z[ee]=window.getComputedStyle(Z))}function K(Z,ee){for(var M="",U=Z.ops.length-1;U>=0&&M.length<ee.length;--U){var B=Z.ops[U];if(typeof B.insert!="string")break;M=B.insert+M}return M.slice(-1*ee.length)===ee}function I(Z){if(Z.childNodes.length===0)return!1;var ee=J(Z);return["block","list-item"].indexOf(ee.display)>-1}function W(Z,ee,M){return Z.nodeType===Z.TEXT_NODE?M.reduce(function(U,B){return B(Z,U)},new f.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(U,B){var re=W(B,ee,M);return B.nodeType===Z.ELEMENT_NODE&&(re=ee.reduce(function(te,X){return X(B,te)},re),re=(B[H]||[]).reduce(function(te,X){return X(B,te)},re)),U.concat(re)},new f.default):new f.default}function G(Z,ee,M){return $(M,Z,!0)}function Y(Z,ee){var M=g.default.Attributor.Attribute.keys(Z),U=g.default.Attributor.Class.keys(Z),B=g.default.Attributor.Style.keys(Z),re={};return M.concat(U).concat(B).forEach(function(te){var X=g.default.query(te,g.default.Scope.ATTRIBUTE);X!=null&&(re[X.attrName]=X.value(Z),re[X.attrName])||(X=L[te],X!=null&&(X.attrName===te||X.keyName===te)&&(re[X.attrName]=X.value(Z)||void 0),X=A[te],X!=null&&(X.attrName===te||X.keyName===te)&&(X=A[te],re[X.attrName]=X.value(Z)||void 0))}),Object.keys(re).length>0&&(ee=$(ee,re)),ee}function Q(Z,ee){var M=g.default.query(Z);if(M==null)return ee;if(M.prototype instanceof g.default.Embed){var U={},B=M.value(Z);B!=null&&(U[M.blotName]=B,ee=new f.default().insert(U,M.formats(Z)))}else typeof M.formats=="function"&&(ee=$(ee,M.blotName,M.formats(Z)));return ee}function ie(Z,ee){return K(ee,`
`)||ee.insert(`
`),ee}function ce(){return new f.default}function fe(Z,ee){var M=g.default.query(Z);if(M==null||M.blotName!=="list-item"||!K(ee,`
`))return ee;for(var U=-1,B=Z.parentNode;!B.classList.contains("ql-clipboard");)(g.default.query(B)||{}).blotName==="list"&&(U+=1),B=B.parentNode;return U<=0?ee:ee.compose(new f.default().retain(ee.length()-1).retain(1,{indent:U}))}function me(Z,ee){return K(ee,`
`)||(I(Z)||ee.length()>0&&Z.nextSibling&&I(Z.nextSibling))&&ee.insert(`
`),ee}function be(Z,ee){if(I(Z)&&Z.nextElementSibling!=null&&!K(ee,`

`)){var M=Z.offsetHeight+parseFloat(J(Z).marginTop)+parseFloat(J(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+M*1.5&&ee.insert(`
`)}return ee}function nt(Z,ee){var M={},U=Z.style||{};return U.fontStyle&&J(Z).fontStyle==="italic"&&(M.italic=!0),U.fontWeight&&(J(Z).fontWeight.startsWith("bold")||parseInt(J(Z).fontWeight)>=700)&&(M.bold=!0),Object.keys(M).length>0&&(ee=$(ee,M)),parseFloat(U.textIndent||0)>0&&(ee=new f.default().insert("	").concat(ee)),ee}function ze(Z,ee){var M=Z.data;if(Z.parentNode.tagName==="O:P")return ee.insert(M.trim());if(M.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return ee;if(!J(Z.parentNode).whiteSpace.startsWith("pre")){var U=function(re,te){return te=te.replace(/[^\u00a0]/g,""),te.length<1&&re?" ":te};M=M.replace(/\r\n/g," ").replace(/\n/g," "),M=M.replace(/\s\s+/g,U.bind(U,!0)),(Z.previousSibling==null&&I(Z.parentNode)||Z.previousSibling!=null&&I(Z.previousSibling))&&(M=M.replace(/^\s+/,U.bind(U,!1))),(Z.nextSibling==null&&I(Z.parentNode)||Z.nextSibling!=null&&I(Z.nextSibling))&&(M=M.replace(/\s+$/,U.bind(U,!1)))}return ee.insert(M)}n.default=R,n.matchAttributor=Y,n.matchBlot=Q,n.matchNewline=me,n.matchSpacing=be,n.matchText=ze},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function b(y,w){for(var m=0;m<w.length;m++){var h=w[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,w,m){return w&&b(y.prototype,w),m&&b(y,m),y}}(),o=function b(y,w,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,w);if(h===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,m)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(m)}},u=i(6),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(){return p(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);g.blotName="bold",g.tagName=["STRONG","B"],n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=function(){function O(k,T){var C=[],D=!0,V=!1,F=void 0;try{for(var H=k[Symbol.iterator](),z;!(D=(z=H.next()).done)&&(C.push(z.value),!(T&&C.length===T));D=!0);}catch(L){V=!0,F=L}finally{try{!D&&H.return&&H.return()}finally{if(V)throw F}}return C}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return O(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(k,T){for(var C=0;C<T.length;C++){var D=T[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}return function(k,T,C){return T&&O(k.prototype,T),C&&O(k,C),k}}(),u=i(2),l=m(u),d=i(0),p=m(d),f=i(5),c=m(f),g=i(10),b=m(g),y=i(9),w=m(y);function m(O){return O&&O.__esModule?O:{default:O}}function h(O,k,T){return k in O?Object.defineProperty(O,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):O[k]=T,O}function x(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function v(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function _(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var j=(0,b.default)("quill:toolbar"),S=function(O){_(k,O);function k(T,C){x(this,k);var D=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,C));if(Array.isArray(D.options.container)){var V=document.createElement("div");P(V,D.options.container),T.container.parentNode.insertBefore(V,T.container),D.container=V}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var F;return F=j.error("Container required for toolbar",D.options),v(D,F)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(H){D.addHandler(H,D.options.handlers[H])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(H){D.attach(H)}),D.quill.on(c.default.events.EDITOR_CHANGE,function(H,z){H===c.default.events.SELECTION_CHANGE&&D.update(z)}),D.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var H=D.quill.selection.getRange(),z=s(H,1),L=z[0];D.update(L)}),D}return o(k,[{key:"addHandler",value:function(C,D){this.handlers[C]=D}},{key:"attach",value:function(C){var D=this,V=[].find.call(C.classList,function(H){return H.indexOf("ql-")===0});if(V){if(V=V.slice(3),C.tagName==="BUTTON"&&C.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){j.warn("ignoring attaching to disabled format",V,C);return}if(p.default.query(V)==null){j.warn("ignoring attaching to nonexistent format",V,C);return}}var F=C.tagName==="SELECT"?"change":"click";C.addEventListener(F,function(H){var z=void 0;if(C.tagName==="SELECT"){if(C.selectedIndex<0)return;var L=C.options[C.selectedIndex];L.hasAttribute("selected")?z=!1:z=L.value||!1}else C.classList.contains("ql-active")?z=!1:z=C.value||!C.hasAttribute("value"),H.preventDefault();D.quill.focus();var A=D.quill.selection.getRange(),R=s(A,1),$=R[0];if(D.handlers[V]!=null)D.handlers[V].call(D,z);else if(p.default.query(V).prototype instanceof p.default.Embed){if(z=prompt("Enter "+V),!z)return;D.quill.updateContents(new l.default().retain($.index).delete($.length).insert(h({},V,z)),c.default.sources.USER)}else D.quill.format(V,z,c.default.sources.USER);D.update($)}),this.controls.push([V,C])}}},{key:"update",value:function(C){var D=C==null?{}:this.quill.getFormat(C);this.controls.forEach(function(V){var F=s(V,2),H=F[0],z=F[1];if(z.tagName==="SELECT"){var L=void 0;if(C==null)L=null;else if(D[H]==null)L=z.querySelector("option[selected]");else if(!Array.isArray(D[H])){var A=D[H];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),L=z.querySelector('option[value="'+A+'"]')}L==null?(z.value="",z.selectedIndex=-1):L.selected=!0}else if(C==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var R=D[H]===z.getAttribute("value")||D[H]!=null&&D[H].toString()===z.getAttribute("value")||D[H]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",R)}else z.classList.toggle("ql-active",D[H]!=null)})}}]),k}(w.default);S.DEFAULTS={};function E(O,k,T){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+k),T!=null&&(C.value=T),O.appendChild(C)}function P(O,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(T){var C=document.createElement("span");C.classList.add("ql-formats"),T.forEach(function(D){if(typeof D=="string")E(C,D);else{var V=Object.keys(D)[0],F=D[V];Array.isArray(F)?N(C,V,F):E(C,V,F)}}),O.appendChild(C)})}function N(O,k,T){var C=document.createElement("select");C.classList.add("ql-"+k),T.forEach(function(D){var V=document.createElement("option");D!==!1?V.setAttribute("value",D):V.setAttribute("selected","selected"),C.appendChild(V)}),O.appendChild(C)}S.DEFAULTS={container:null,handlers:{clean:function(){var k=this,T=this.quill.getSelection();if(T!=null)if(T.length==0){var C=this.quill.getFormat();Object.keys(C).forEach(function(D){p.default.query(D,p.default.Scope.INLINE)!=null&&k.quill.format(D,!1)})}else this.quill.removeFormat(T,c.default.sources.USER)},direction:function(k){var T=this.quill.getFormat().align;k==="rtl"&&T==null?this.quill.format("align","right",c.default.sources.USER):!k&&T==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",k,c.default.sources.USER)},indent:function(k){var T=this.quill.getSelection(),C=this.quill.getFormat(T),D=parseInt(C.indent||0);if(k==="+1"||k==="-1"){var V=k==="+1"?1:-1;C.direction==="rtl"&&(V*=-1),this.quill.format("indent",D+V,c.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,c.default.sources.USER)},list:function(k){var T=this.quill.getSelection(),C=this.quill.getFormat(T);k==="check"?C.list==="checked"||C.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",k,c.default.sources.USER)}}},n.default=S,n.addControls=P},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function b(y,w){for(var m=0;m<w.length;m++){var h=w[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,w,m){return w&&b(y.prototype,w),m&&b(y,m),y}}(),o=function b(y,w,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,w);if(h===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,m)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(m)}},u=i(28),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(w,m){p(this,y);var h=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return h.label.innerHTML=m,h.container.classList.add("ql-color-picker"),[].slice.call(h.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),h}return s(y,[{key:"buildItem",value:function(m){var h=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return h.style.backgroundColor=m.getAttribute("value")||"",h}},{key:"selectItem",value:function(m,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,h);var x=this.label.querySelector(".ql-color-label"),v=m&&m.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=v:x.style.fill=v)}}]),y}(l.default);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function b(y,w){for(var m=0;m<w.length;m++){var h=w[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,w,m){return w&&b(y.prototype,w),m&&b(y,m),y}}(),o=function b(y,w,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,w);if(h===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,m)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(m)}},u=i(28),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(w,m){p(this,y);var h=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return h.container.classList.add("ql-icon-picker"),[].forEach.call(h.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=m[x.getAttribute("data-value")||""]}),h.defaultItem=h.container.querySelector(".ql-selected"),h.selectItem(h.defaultItem),h}return s(y,[{key:"selectItem",value:function(m,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,h),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function l(d,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}return function(d,p,f){return p&&l(d.prototype,p),f&&l(d,f),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function(){function l(d,p){var f=this;o(this,l),this.quill=d,this.boundsContainer=p||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var f=p.left+p.width/2-this.root.offsetWidth/2,c=p.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),y=0;if(b.right>g.right&&(y=g.right-b.right,this.root.style.left=f+y+"px"),b.left<g.left&&(y=g.left-b.left,this.root.style.left=f+y+"px"),b.bottom>g.bottom){var w=b.bottom-b.top,m=p.bottom-p.top+w;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function N(O,k){var T=[],C=!0,D=!1,V=void 0;try{for(var F=O[Symbol.iterator](),H;!(C=(H=F.next()).done)&&(T.push(H.value),!(k&&T.length===k));C=!0);}catch(z){D=!0,V=z}finally{try{!C&&F.return&&F.return()}finally{if(D)throw V}}return T}return function(O,k){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return N(O,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function N(O,k,T){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,k);if(C===void 0){var D=Object.getPrototypeOf(O);return D===null?void 0:N(D,k,T)}else{if("value"in C)return C.value;var V=C.get;return V===void 0?void 0:V.call(T)}},u=function(){function N(O,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,k,T){return k&&N(O.prototype,k),T&&N(O,T),O}}(),l=i(3),d=x(l),p=i(8),f=x(p),c=i(43),g=x(c),b=i(27),y=x(b),w=i(15),m=i(41),h=x(m);function x(N){return N&&N.__esModule?N:{default:N}}function v(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function _(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function j(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(N){j(O,N);function O(k,T){v(this,O),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=S);var C=_(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,T));return C.quill.container.classList.add("ql-snow"),C}return u(O,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),h.default),this.tooltip=new P(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,D){T.handlers.link.call(T,!D.format.link)})}}]),O}(g.default);E.DEFAULTS=(0,d.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var k=this.quill.getSelection();if(k==null||k.length==0)return;var T=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(T)&&T.indexOf("mailto:")!==0&&(T="mailto:"+T);var C=this.quill.theme.tooltip;C.edit("link",T)}else this.quill.format("link",!1)}}}}});var P=function(N){j(O,N);function O(k,T){v(this,O);var C=_(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,T));return C.preview=C.root.querySelector("a.ql-preview"),C}return u(O,[{key:"listen",value:function(){var T=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(T.linkRange!=null){var D=T.linkRange;T.restoreFocus(),T.quill.formatText(D,"link",!1,f.default.sources.USER),delete T.linkRange}C.preventDefault(),T.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(C,D,V){if(C!=null){if(C.length===0&&V===f.default.sources.USER){var F=T.quill.scroll.descendant(y.default,C.index),H=s(F,2),z=H[0],L=H[1];if(z!=null){T.linkRange=new w.Range(C.index-L,z.length());var A=y.default.formats(z.domNode);T.preview.textContent=A,T.preview.setAttribute("href",A),T.show(),T.position(T.quill.getBounds(T.linkRange));return}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(c.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(29),o=B(s),u=i(36),l=i(38),d=i(64),p=i(65),f=B(p),c=i(66),g=B(c),b=i(67),y=B(b),w=i(37),m=i(26),h=i(39),x=i(40),v=i(56),_=B(v),j=i(68),S=B(j),E=i(27),P=B(E),N=i(69),O=B(N),k=i(70),T=B(k),C=i(71),D=B(C),V=i(72),F=B(V),H=i(73),z=B(H),L=i(13),A=B(L),R=i(74),$=B(R),J=i(75),K=B(J),I=i(57),W=B(I),G=i(41),Y=B(G),Q=i(28),ie=B(Q),ce=i(59),fe=B(ce),me=i(60),be=B(me),nt=i(61),ze=B(nt),Z=i(108),ee=B(Z),M=i(62),U=B(M);function B(re){return re&&re.__esModule?re:{default:re}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":u.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":u.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":x.SizeStyle},!0),o.default.register({"formats/align":u.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":d.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":h.FontClass,"formats/size":x.SizeClass,"formats/blockquote":f.default,"formats/code-block":A.default,"formats/header":g.default,"formats/list":y.default,"formats/bold":_.default,"formats/code":L.Code,"formats/italic":S.default,"formats/link":P.default,"formats/script":O.default,"formats/strike":T.default,"formats/underline":D.default,"formats/image":F.default,"formats/video":z.default,"formats/list/item":b.ListItem,"modules/formula":$.default,"modules/syntax":K.default,"modules/toolbar":W.default,"themes/bubble":ee.default,"themes/snow":U.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":be.default,"ui/color-picker":fe.default,"ui/tooltip":ze.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=function(){function y(w,m){for(var h=0;h<m.length;h++){var x=m[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,m,h){return m&&y(w.prototype,m),h&&y(w,h),w}}(),o=function y(w,m,h){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,m);if(x===void 0){var v=Object.getPrototypeOf(w);return v===null?void 0:y(v,m,h)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(h)}},u=i(0),l=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function c(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var g=function(y){c(w,y);function w(){return p(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(h,x){if(x==="+1"||x==="-1"){var v=this.value(h)||0;x=x==="+1"?v+1:v-1}return x===0?(this.remove(h),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,h,x)}},{key:"canAdd",value:function(h,x){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,h,x)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,h,parseInt(x))}},{key:"value",value:function(h){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,h))||void 0}}]),w}(l.default.Attributor.Class),b=new g("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function d(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function p(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f=function(c){p(g,c);function g(){return l(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function g(b,y){for(var w=0;w<y.length;w++){var m=y[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,y,w){return y&&g(b.prototype,y),w&&g(b,w),b}}(),o=i(4),u=l(o);function l(g){return g&&g.__esModule?g:{default:g}}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function f(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var c=function(g){f(b,g);function b(){return d(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),b}(u.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=function(){function v(_,j){for(var S=0;S<j.length;S++){var E=j[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,j,S){return j&&v(_.prototype,j),S&&v(_,S),_}}(),o=function v(_,j,S){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,j);if(E===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:v(P,j,S)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(S)}},u=i(0),l=g(u),d=i(4),p=g(d),f=i(25),c=g(f);function g(v){return v&&v.__esModule?v:{default:v}}function b(v,_,j){return _ in v?Object.defineProperty(v,_,{value:j,enumerable:!0,configurable:!0,writable:!0}):v[_]=j,v}function y(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function w(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function m(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var h=function(v){m(_,v);function _(){return y(this,_),w(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(S,E){S===x.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,S)}}]),_}(p.default);h.blotName="list-item",h.tagName="LI";var x=function(v){m(_,v),s(_,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",P=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&P.setAttribute("data-checked",S==="checked"),P}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(j){y(this,_);var S=w(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,j)),E=function(N){if(N.target.parentNode===j){var O=S.statics.formats(j),k=l.default.find(N.target);O==="checked"?k.format("list","unchecked"):O==="unchecked"&&k.format("list","checked")}};return j.addEventListener("touchstart",E),j.addEventListener("mousedown",E),S}return s(_,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof h)o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,S,E);else{var P=E==null?this.length():E.offset(this),N=this.split(P);N.parent.insertBefore(S,N)}}},{key:"optimize",value:function(S){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,S)}}]),_}(c.default);x.blotName="list",x.scope=l.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[h],n.ListItem=h,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(56),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function d(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function p(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f=function(c){p(g,c);function g(){return l(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function b(y,w){for(var m=0;m<w.length;m++){var h=w[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,w,m){return w&&b(y.prototype,w),m&&b(y,m),y}}(),o=function b(y,w,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,w);if(h===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,m)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(m)}},u=i(6),l=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function c(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=function(b){c(y,b);function y(){return p(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);g.blotName="script",g.tagName=["SUB","SUP"],n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function d(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function p(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f=function(c){p(g,c);function g(){return l(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),o=u(s);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function d(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function p(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f=function(c){p(g,c);function g(){return l(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function w(m,h){for(var x=0;x<h.length;x++){var v=h[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,h,x){return h&&w(m.prototype,h),x&&w(m,x),m}}(),o=function w(m,h,x){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,h);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,h,x)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(x)}},u=i(0),l=p(u),d=i(27);function p(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function c(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function g(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var b=["alt","height","width"],y=function(w){g(m,w);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(x,v){b.indexOf(x)>-1?v?this.domNode.setAttribute(x,v):this.domNode.removeAttribute(x):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,v)}}],[{key:"create",value:function(x){var v=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,x);return typeof x=="string"&&v.setAttribute("src",this.sanitize(x)),v}},{key:"formats",value:function(x){return b.reduce(function(v,_){return x.hasAttribute(_)&&(v[_]=x.getAttribute(_)),v},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,d.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function w(m,h){for(var x=0;x<h.length;x++){var v=h[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,h,x){return h&&w(m.prototype,h),x&&w(m,x),m}}(),o=function w(m,h,x){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,h);if(v===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:w(_,h,x)}else{if("value"in v)return v.value;var j=v.get;return j===void 0?void 0:j.call(x)}},u=i(4),l=i(27),d=p(l);function p(w){return w&&w.__esModule?w:{default:w}}function f(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function c(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function g(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var b=["height","width"],y=function(w){g(m,w);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(x,v){b.indexOf(x)>-1?v?this.domNode.setAttribute(x,v):this.domNode.removeAttribute(x):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,v)}}],[{key:"create",value:function(x){var v=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,x);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(x)),v}},{key:"formats",value:function(x){return b.reduce(function(v,_){return x.hasAttribute(_)&&(v[_]=x.getAttribute(_)),v},{})}},{key:"sanitize",value:function(x){return d.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),m}(u.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=function(){function x(v,_){for(var j=0;j<_.length;j++){var S=_[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,_,j){return _&&x(v.prototype,_),j&&x(v,j),v}}(),o=function x(v,_,j){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,_);if(S===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:x(E,_,j)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(j)}},u=i(35),l=g(u),d=i(5),p=g(d),f=i(9),c=g(f);function g(x){return x&&x.__esModule?x:{default:x}}function b(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function y(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function w(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var m=function(x){w(v,x);function v(){return b(this,v),y(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"create",value:function(j){var S=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,j);return typeof j=="string"&&(window.katex.render(j,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",j)),S}},{key:"value",value:function(j){return j.getAttribute("data-value")}}]),v}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var h=function(x){w(v,x),s(v,null,[{key:"register",value:function(){p.default.register(m,!0)}}]);function v(){b(this,v);var _=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return v}(c.default);n.FormulaBlot=m,n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=function(){function j(S,E){for(var P=0;P<E.length;P++){var N=E[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,E,P){return E&&j(S.prototype,E),P&&j(S,P),S}}(),o=function j(S,E,P){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,E);if(N===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:j(O,E,P)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(P)}},u=i(0),l=y(u),d=i(5),p=y(d),f=i(9),c=y(f),g=i(13),b=y(g);function y(j){return j&&j.__esModule?j:{default:j}}function w(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function m(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function h(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var x=function(j){h(S,j);function S(){return w(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var N=this.domNode.textContent;this.cachedText!==N&&((N.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(N),this.domNode.normalize(),this.attach()),this.cachedText=N)}}]),S}(b.default);x.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),_=function(j){h(S,j),s(S,null,[{key:"register",value:function(){p.default.register(v,!0),p.default.register(x,!0)}}]);function S(E,P){w(this,S);var N=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,P));if(typeof N.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return N.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){N.highlight(),O=null},N.options.interval)}),N.highlight(),N}return s(S,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var N=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(O){O.highlight(P.options.highlight)}),this.quill.update(p.default.sources.SILENT),N!=null&&this.quill.setSelection(N,p.default.sources.SILENT)}}}]),S}(c.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(j){var S=window.hljs.highlightAuto(j);return S.value}}(),interval:1e3},n.CodeBlock=x,n.CodeToken=v,n.default=_},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function S(E,P,N){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,P);if(O===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,P,N)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(N)}},o=function(){function S(E,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,P,N){return P&&S(E.prototype,P),N&&S(E,N),E}}(),u=i(3),l=w(u),d=i(8),p=w(d),f=i(43),c=w(f),g=i(15),b=i(41),y=w(b);function w(S){return S&&S.__esModule?S:{default:S}}function m(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function h(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function x(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(S){x(E,S);function E(P,N){m(this,E),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=v);var O=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,N));return O.quill.container.classList.add("ql-bubble"),O}return o(E,[{key:"extendToolbar",value:function(N){this.tooltip=new j(this.quill,this.options.bounds),this.tooltip.root.appendChild(N.container),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),y.default)}}]),E}(c.default);_.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var j=function(S){x(E,S);function E(P,N){m(this,E);var O=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,N));return O.quill.on(p.default.events.EDITOR_CHANGE,function(k,T,C,D){if(k===p.default.events.SELECTION_CHANGE)if(T!=null&&T.length>0&&D===p.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var V=O.quill.getLines(T.index,T.length);if(V.length===1)O.position(O.quill.getBounds(T));else{var F=V[V.length-1],H=O.quill.getIndex(F),z=Math.min(F.length()-1,T.index+T.length-H),L=O.quill.getBounds(new g.Range(H,z));O.position(L)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(E,[{key:"listen",value:function(){var N=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){N.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!N.root.classList.contains("ql-hidden")){var O=N.quill.getSelection();O!=null&&N.position(N.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(N){var O=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,N),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",O===0)return O;k.style.marginLeft=-1*O-k.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);j.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=j,n.default=_},function(r,n,i){r.exports=i(63)}]).default})})(Hy);var vA=Hy.exports,xA=Oe&&Oe.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ia=Oe&&Oe.__assign||function(){return ia=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ia.apply(this,arguments)},bA=Oe&&Oe.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,u=s.length;o<u;o++,i++)n[i]=s[o];return n},Fa=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},tr=Fa(q),wA=Fa(ug),zi=Fa(yA),Jh=Fa(vA),_A=function(e){xA(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(s,o,u,l){var d,p,f,c;s==="text-change"?(p=(d=n).onEditorChangeText)===null||p===void 0||p.call(d,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):s==="selection-change"&&((c=(f=n).onEditorChangeSelection)===null||c===void 0||c.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(tr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(tr.default.Children.count(r.children)){var i=tr.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,s;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),u=(s=r.value,s??"");this.isEqualValue(u,o)||this.setEditorContents(this.editor,u)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),bA(this.cleanProps,this.dirtyProps).some(function(l){return!zi.default(r[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!zi.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var u=this.regenerationSnapshot,s=u.delta,l=u.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(s),Yh(function(){return i.setEditorSelection(d,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new Jh.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?zi.default(r.ops,n.ops):zi.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var s=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Yh(function(){return i.setEditorSelection(r,s)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,s;!((s=(i=r)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=wA.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,s=n.preserveWhitespace,o=this.state.generation,u={key:o,ref:function(l){r.editingArea=l}};return tr.default.Children.count(i)?tr.default.cloneElement(tr.default.Children.only(i),u):s?tr.default.createElement("pre",ia({},u)):tr.default.createElement("div",ia({},u))},t.prototype.render=function(){var r;return tr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,s){var o,u;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(u=(o=this.props).onChange)===null||u===void 0||u.call(o,r,n,i,s))}},t.prototype.onEditorChangeSelection=function(r,n,i){var s,o,u,l,d,p;if(this.editor){var f=this.getEditorSelection(),c=!f&&r,g=f&&!r;zi.default(r,f)||(this.selection=r,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,r,n,i),c?(l=(u=this.props).onFocus)===null||l===void 0||l.call(u,r,n,i):g&&((p=(d=this.props).onBlur)===null||p===void 0||p.call(d,f,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Jh.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(tr.default.Component);function Yh(e){Promise.resolve().then(e)}var SA=_A;const sa=ec(SA),jA=()=>{var z;const[e,t]=q.useState([]),[r,n]=q.useState([]),[i,s]=q.useState(""),[o,u]=q.useState(null),[l,d]=q.useState(!1),[p,f]=q.useState(!0),[c,g]=q.useState(null),[b,y]=q.useState(""),[w,m]=q.useState(""),{register:h,control:x,handleSubmit:v,reset:_,setValue:j,watch:S,formState:{errors:E}}=Qt({defaultValues:{clues:[{value:""}]}}),{fields:P,append:N,remove:O}=JS({control:x,name:"clues"});S("game_id"),q.useEffect(()=>{k()},[]),q.useEffect(()=>{i?T(i):n([])},[i]);const k=async()=>{f(!0);try{const{data:L,error:A}=await se.from("games").select("*").order("title");if(A)throw A;t(L||[])}catch{g("Failed to load games")}finally{f(!1)}},T=async L=>{try{const{data:A,error:R}=await se.from("puzzles").select("*").eq("game_id",L).order("sequence_order");if(R)throw R;n(A||[])}catch{g("Failed to load puzzles")}},C=async L=>{try{const A=L.clues.map($=>$.value).filter($=>$.trim()!==""),R={title:L.title,description:b,riddle:w,clues:A,answer:L.answer,image_url:L.image_url||null,video_url:L.video_url||null};if(o){const{error:$}=await se.from("puzzles").update({...R,updated_at:new Date().toISOString()}).eq("id",o.id);if($)throw $}else{const $=r.length>0?Math.max(...r.map(K=>K.sequence_order)):0,{error:J}=await se.from("puzzles").insert({...R,game_id:L.game_id,sequence_order:$+1});if(J)throw J}_({clues:[{value:""}]}),y(""),m(""),u(null),d(!1),i&&T(i)}catch{g("Failed to save puzzle")}},D=L=>{u(L),j("title",L.title),y(L.description),m(L.riddle),j("answer",L.answer),j("game_id",L.game_id),j("image_url",L.image_url||""),j("video_url",L.video_url||""),j("clues",L.clues.map(A=>({value:A}))),d(!0)},V=async L=>{if(confirm("Are you sure you want to delete this puzzle?"))try{const{error:A}=await se.from("puzzles").delete().eq("id",L);if(A)throw A;i&&T(i)}catch{g("Failed to delete puzzle")}},F=async(L,A)=>{const R=r.find(I=>I.id===L);if(!R)return;const $=R.sequence_order,J=A==="up"?$-1:$+1,K=r.find(I=>I.sequence_order===J);if(K)try{await se.from("puzzles").update({sequence_order:J}).eq("id",R.id),await se.from("puzzles").update({sequence_order:$}).eq("id",K.id),T(i)}catch{g("Failed to reorder puzzles")}},H=()=>{u(null),d(!1),y(""),m(""),_({clues:[{value:""}]})};return p?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Loading puzzles..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Puzzle Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage puzzles for your games"})]}),a.jsxs("button",{onClick:()=>d(!0),disabled:!i,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"New Puzzle"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Game to Manage Puzzles"}),a.jsxs("select",{value:i,onChange:L=>s(L.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Choose a game..."}),e.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]})]}),c&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:c})]})}),l&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Edit Puzzle":"Create New Puzzle"}),a.jsxs("form",{onSubmit:v(C),className:"space-y-4",children:[!o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Game"}),a.jsxs("select",{...h("game_id",{required:"Please select a game"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select a game..."}),e.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]}),E.game_id&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:E.game_id.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puzzle Title"}),a.jsx("input",{...h("title",{required:"Title is required"}),type:"text",placeholder:"Enter puzzle title...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),E.title&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:E.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx(sa,{value:b,onChange:y,theme:"snow",className:"bg-white",placeholder:"Brief description of the puzzle...",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","blockquote"],[{color:[]},{background:[]}],["clean"]]}}),!b.trim()&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Description is required"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Riddle/Challenge"}),a.jsx(sa,{value:w,onChange:m,theme:"snow",className:"bg-white",placeholder:"Enter the main puzzle or riddle...",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","blockquote","code-block"],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}),!w.trim()&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Riddle is required"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puzzle Image URL (Optional)"}),a.jsx("input",{...h("image_url"),type:"url",placeholder:"https://example.com/puzzle-image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add an image to help illustrate the puzzle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puzzle Video URL (Optional)"}),a.jsx("input",{...h("video_url"),type:"url",placeholder:"https://example.com/puzzle-video.mp4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a video to provide additional context or clues"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progressive Clues"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Clues are revealed when players submit wrong answers. Order matters!"}),a.jsxs("div",{className:"space-y-2",children:[P.map((L,A)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-500 w-12",children:["#",A+1]}),a.jsx("input",{...h(`clues.${A}.value`),type:"text",placeholder:`Clue ${A+1}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),P.length>1&&a.jsx("button",{type:"button",onClick:()=>O(A),className:"text-red-600 hover:text-red-700 p-1",children:a.jsx(bn,{className:"h-4 w-4"})})]},L.id)),a.jsxs("button",{type:"button",onClick:()=>N({value:""}),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center space-x-1",children:[a.jsx(li,{className:"h-3 w-3"}),a.jsx("span",{children:"Add Clue"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),a.jsx("input",{...h("answer",{required:"Answer is required"}),type:"text",placeholder:"Enter the correct answer...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),E.answer&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:E.answer.message})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",disabled:!b.trim()||!w.trim(),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg transition-colors",children:o?"Update Puzzle":"Create Puzzle"}),a.jsx("button",{type:"button",onClick:H,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),i&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Puzzles for ",(z=e.find(L=>L.id===i))==null?void 0:z.title]}),r.length>0?a.jsx("div",{className:"space-y-4",children:r.map((L,A)=>a.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full font-medium",children:["#",L.sequence_order]}),a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:L.title})]}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 text-sm mb-2",dangerouslySetInnerHTML:{__html:L.description}}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 font-medium mb-2",dangerouslySetInnerHTML:{__html:L.riddle}}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:[L.clues.length," clues"]}),a.jsxs("span",{children:["Answer: ",L.answer]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("button",{onClick:()=>F(L.id,"up"),disabled:A===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed p-1",title:"Move Up",children:a.jsx(Zg,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>F(L.id,"down"),disabled:A===r.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed p-1",title:"Move Down",children:a.jsx(Qg,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>D(L),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Puzzle",children:a.jsx(Ss,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>V(L.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Puzzle",children:a.jsx(bn,{className:"h-4 w-4"})})]})]})]})},L.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No puzzles created yet"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Create your first puzzle to get started"})]})]})]})},kA=()=>{var O;const[e,t]=q.useState([]),[r,n]=q.useState([]),[i,s]=q.useState([]),[o,u]=q.useState(""),[l,d]=q.useState(!1),[p,f]=q.useState(null),[c,g]=q.useState(null),[b,y]=q.useState(null),{register:w,handleSubmit:m,reset:h,formState:{errors:x}}=Qt();q.useEffect(()=>{v()},[]),q.useEffect(()=>{o?_(o):n([])},[o]);const v=async()=>{try{const{data:k,error:T}=await se.from("games").select("*").order("title");if(T)throw T;t(k||[])}catch{g("Failed to load games")}},_=async k=>{try{const{data:T,error:C}=await se.from("access_codes").select(`
          *,
          games (title)
        `).eq("game_id",k).order("created_at",{ascending:!1});if(C)throw C;if(n(T||[]),T&&T.length>0){const D=T.map(F=>F.id),{data:V}=await se.from("code_usage_logs").select("*").in("access_code_id",D).order("timestamp",{ascending:!1});s(V||[])}else s([])}catch{g("Failed to load access codes")}},j=()=>{const k="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let T="";for(let C=0;C<8;C++)T+=k.charAt(Math.floor(Math.random()*k.length));return T},S=async k=>{d(!0),g(null),y(null);try{const T=[],C=[];for(let V=0;V<k.quantity;V++){let F,H=!1;for(;!H;){F=j();const{data:z}=await se.from("access_codes").select("id").eq("code",F).single();H=!z}T.push({code:F,game_id:k.game_id,is_active:!0}),C.push(F)}const{error:D}=await se.from("access_codes").insert(T);if(D)throw D;y(`Generated ${k.quantity} access codes successfully!`),h(),_(o)}catch{g("Failed to generate access codes")}finally{d(!1)}},E=async k=>{try{await navigator.clipboard.writeText(k),f(k),setTimeout(()=>f(null),2e3)}catch(T){console.error("Failed to copy:",T)}},P=async k=>{if(confirm("Are you sure you want to deactivate this access code?"))try{const{error:T}=await se.from("access_codes").update({is_active:!1}).eq("id",k);if(T)throw T;_(o)}catch{g("Failed to deactivate code")}},N=k=>{if(!k.is_active)return{status:"inactive",color:"gray"};if(!k.activated_at)return{status:"unused",color:"blue"};const T=new Date(k.activated_at),C=new Date(T.getTime()+12*60*60*1e3);return new Date>C?{status:"expired",color:"red"}:{status:"active",color:"green"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Access Code Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and monitor access codes for your games"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Game"}),a.jsxs("select",{value:o,onChange:k=>u(k.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Choose a game..."}),e.map(k=>a.jsx("option",{value:k.id,children:k.title},k.id))]})]}),c&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:c})]})}),b&&a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("p",{className:"text-green-700",children:b})]})}),o&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Generate Access Codes for ",(O=e.find(k=>k.id===o))==null?void 0:O.title]}),a.jsxs("form",{onSubmit:m(S),className:"flex items-end space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Codes"}),a.jsx("input",{...w("quantity",{required:"Quantity is required",min:{value:1,message:"Minimum 1 code"},max:{value:100,message:"Maximum 100 codes at once"}}),type:"number",min:"1",max:"100",defaultValue:"1",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),x.quantity&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:x.quantity.message})]}),a.jsx("input",{type:"hidden",...w("game_id"),value:o}),a.jsxs("button",{type:"submit",disabled:l,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[l?a.jsx(iy,{className:"h-4 w-4 animate-spin"}):a.jsx(Kr,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Generating...":"Generate Codes"})]})]})]}),o&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Access Codes (",r.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(k=>{const{status:T,color:C}=N(k);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("code",{className:"text-lg font-mono font-bold text-gray-900",children:k.code}),a.jsx("button",{onClick:()=>E(k.code),className:"text-gray-400 hover:text-gray-600 p-1",title:"Copy to clipboard",children:p===k.code?a.jsx(Lt,{className:"h-4 w-4 text-green-500"}):a.jsx(M_,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${C==="gray"?"bg-gray-100 text-gray-800":C==="blue"?"bg-blue-100 text-blue-800":C==="green"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.activated_at?new Date(k.activated_at).toLocaleString():"Not used"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.expires_at?new Date(k.expires_at).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>P(k.id),disabled:!k.is_active,className:"text-red-600 hover:text-red-700 disabled:text-gray-400 disabled:cursor-not-allowed p-1",title:"Deactivate Code",children:a.jsx(bn,{className:"h-4 w-4"})})})})]},k.id)})})]})})]}),o&&r.length===0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx(Kr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"No access codes generated yet"}),a.jsx("p",{className:"text-gray-500",children:"Generate your first codes to get started"})]})]})},NA=()=>{const[e,t]=q.useState("pages"),[r,n]=q.useState([]),[i,s]=q.useState([]),[o,u]=q.useState(null),[l,d]=q.useState(null),[p,f]=q.useState(!1),[c,g]=q.useState(!1),[b,y]=q.useState(!0),[w,m]=q.useState(null),[h,x]=q.useState(null),{register:v,handleSubmit:_,reset:j,setValue:S,watch:E,formState:{errors:P}}=Qt(),{register:N,handleSubmit:O,reset:k,setValue:T,formState:{errors:C}}=Qt(),[D,V]=q.useState(""),{setPages:F,setSettings:H}=kr();q.useEffect(()=>{if(z(),h||w){const G=setTimeout(()=>{x(null),m(null)},5e3);return()=>clearTimeout(G)}},[]);const z=async()=>{y(!0);try{const{data:G,error:Y}=await se.from("content_pages").select("*").order("nav_order");if(Y)throw Y;n(G||[]);const{data:Q,error:ie}=await se.from("site_settings").select("*").order("category",{ascending:!0});if(ie)throw ie;s(Q||[]),F(G||[]);const ce=(Q||[]).reduce((fe,me)=>({...fe,[me.key]:me.value}),{});H(ce)}catch{m("Failed to load content")}finally{y(!1)}},L=async G=>{try{const Y={...G,content:D,slug:G.slug.toLowerCase().replace(/[^a-z0-9-]/g,"-")};if(o){const{error:Q}=await se.from("content_pages").update({...Y,updated_at:new Date().toISOString()}).eq("id",o.id);if(Q)throw Q}else{const{error:Q}=await se.from("content_pages").insert(Y);if(Q)throw Q}x("Page saved successfully!"),j(),V(""),u(null),f(!1),z(),setTimeout(()=>x(null),3e3)}catch(Y){console.error("Page save error:",Y),m("Failed to save page"),setTimeout(()=>m(null),3e3)}},A=async G=>{try{if(l){const{error:Y}=await se.from("site_settings").update({...G,updated_at:new Date().toISOString()}).eq("id",l.id);if(Y)throw Y}else{const{error:Y}=await se.from("site_settings").insert(G);if(Y)throw Y}x("Setting saved successfully!"),k(),d(null),g(!1),z(),setTimeout(()=>x(null),3e3)}catch(Y){console.error("Setting save error:",Y),m("Failed to save setting"),setTimeout(()=>m(null),3e3)}},R=G=>{u(G),S("title",G.title),S("slug",G.slug),S("meta_description",G.meta_description||""),S("is_published",G.is_published),S("show_in_nav",G.show_in_nav),S("nav_order",G.nav_order),V(G.content),f(!0)},$=G=>{d(G),T("key",G.key),T("value",G.value),T("label",G.label),T("description",G.description||""),T("category",G.category),T("type",G.type),g(!0)},J=async G=>{if(confirm("Are you sure you want to delete this page?"))try{const{error:Y}=await se.from("content_pages").delete().eq("id",G);if(Y)throw Y;z()}catch{m("Failed to delete page")}},K=async G=>{if(confirm("Are you sure you want to delete this setting?"))try{const{error:Y}=await se.from("site_settings").delete().eq("id",G);if(Y)throw Y;z()}catch{m("Failed to delete setting")}},I=()=>a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Edit Page":"Create New Page"}),a.jsxs("form",{onSubmit:_(L),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Title"}),a.jsx("input",{...v("title",{required:"Title is required"}),type:"text",placeholder:"Enter page title...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),P.title&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Slug"}),a.jsx("input",{...v("slug",{required:"Slug is required"}),type:"text",placeholder:"url-slug-here",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),P.slug&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.slug.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),a.jsx("textarea",{...v("meta_description"),rows:2,placeholder:"Brief description for search engines...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx(sa,{value:D,onChange:V,theme:"snow",className:"bg-white",placeholder:"Enter your page content here..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...v("is_published"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Published"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...v("show_in_nav"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Show in Navigation"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nav Order"}),a.jsx("input",{...v("nav_order"),type:"number",defaultValue:0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx(sh,{className:"h-4 w-4"}),a.jsx("span",{children:o?"Update Page":"Create Page"})]}),a.jsx("button",{type:"button",onClick:()=>{f(!1),u(null),j(),V("")},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),W=()=>a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:l?"Edit Setting":"Create New Setting"}),a.jsxs("form",{onSubmit:O(A),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setting Key"}),a.jsx("input",{...N("key",{required:"Key is required"}),type:"text",placeholder:"e.g., site_name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),C.key&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.key.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),a.jsx("input",{...N("label",{required:"Label is required"}),type:"text",placeholder:"e.g., Site Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),C.label&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.label.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{...N("type",{required:"Type is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select type..."}),a.jsx("option",{value:"text",children:"Text"}),a.jsx("option",{value:"textarea",children:"Textarea"}),a.jsx("option",{value:"html",children:"HTML"}),a.jsx("option",{value:"image",children:"Image URL"}),a.jsx("option",{value:"boolean",children:"Boolean"}),a.jsx("option",{value:"number",children:"Number"})]}),C.type&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.type.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("input",{...N("category",{required:"Category is required"}),type:"text",placeholder:"e.g., general, contact, pricing",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),C.category&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.category.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),a.jsx("textarea",{...N("value",{required:"Value is required"}),rows:3,placeholder:"Enter the setting value...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none resize-none"}),C.value&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.value.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),a.jsx("textarea",{...N("description"),rows:2,placeholder:"Brief description of what this setting controls...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none resize-none"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx(sh,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Update Setting":"Create Setting"})]}),a.jsx("button",{type:"button",onClick:()=>{g(!1),d(null),k()},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]});return b?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Loading content..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Content Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your website content and settings"})]})}),w&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:w})]})}),h&&a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("p",{className:"text-green-700",children:h})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("pages"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="pages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(nh,{className:"h-4 w-4 inline mr-2"}),"Pages"]}),a.jsxs("button",{onClick:()=>t("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(oh,{className:"h-4 w-4 inline mr-2"}),"Settings"]})]})}),e==="pages"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Pages"}),a.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"New Page"})]})]}),p&&I(),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"No pages created yet"}),a.jsx("p",{className:"text-gray-500",children:"Create your first page to get started"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(G=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"font-medium text-gray-900",children:G.title})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm text-gray-600",children:["/",G.slug]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${G.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.is_published?"Published":"Draft"}),G.show_in_nav&&a.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"In Nav"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>R(G),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Page",children:a.jsx(Ss,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>J(G.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Page",children:a.jsx(bn,{className:"h-4 w-4"})})]})})]},G.id))})]})})]}),e==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Site Settings"}),a.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"New Setting"})]})]}),c&&W(),i.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx(oh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"No settings configured yet"}),a.jsx("p",{className:"text-gray-500",children:"Create your first setting to customize your site"})]}):Object.entries(i.reduce((G,Y)=>(G[Y.category]||(G[Y.category]=[]),G[Y.category].push(Y),G),{})).map(([G,Y])=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 capitalize",children:G.replace("_"," ")}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.map(Q=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900",children:Q.label}),Q.description&&a.jsx("p",{className:"text-sm text-gray-500",children:Q.description})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>$(Q),className:"text-blue-600 hover:text-blue-700 p-1",children:a.jsx(Ss,{className:"h-3 w-3"})}),a.jsx("button",{onClick:()=>K(Q.id),className:"text-red-600 hover:text-red-700 p-1",children:a.jsx(bn,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsxs("strong",{children:[Q.key,":"]})," ",Q.value]})]},Q.id))})]},G))]})]})},EA=()=>{var V;const[e,t]=q.useState([]),[r,n]=q.useState([]),[i,s]=q.useState([]),[o,u]=q.useState(""),[l,d]=q.useState(null),[p,f]=q.useState(!1),[c,g]=q.useState(!0),[b,y]=q.useState(null),[w,m]=q.useState(""),{register:h,handleSubmit:x,reset:v,setValue:_,watch:j,formState:{errors:S}}=Qt(),E=j("game_id");q.useEffect(()=>{P()},[]),q.useEffect(()=>{o?(O(o),N(o)):(s([]),n([]))},[o]),q.useEffect(()=>{E&&E!==o&&N(E)},[E]);const P=async()=>{g(!0);try{const{data:F,error:H}=await se.from("games").select("*").order("title");if(H)throw H;t(F||[])}catch{y("Failed to load games")}finally{g(!1)}},N=async F=>{try{const{data:H,error:z}=await se.from("puzzles").select("*").eq("game_id",F).order("sequence_order");if(z)throw z;n(H||[])}catch{y("Failed to load puzzles")}},O=async F=>{try{const{data:H,error:z}=await se.from("splash_screens").select("*").eq("game_id",F).order("sequence_order");if(z)throw z;s(H||[])}catch{y("Failed to load splash screens")}},k=async F=>{try{const H={...F,content:w,puzzle_id:F.puzzle_id||null};if(l){const{error:z}=await se.from("splash_screens").update({...H,updated_at:new Date().toISOString()}).eq("id",l.id);if(z)throw z}else{const z=i.length>0?Math.max(...i.map(A=>A.sequence_order)):0,{error:L}=await se.from("splash_screens").insert({...H,sequence_order:z+1});if(L)throw L}v(),m(""),d(null),f(!1),o&&O(o)}catch{y("Failed to save splash screen")}},T=F=>{d(F),_("title",F.title),_("image_url",F.image_url||""),_("video_url",F.video_url||""),_("game_id",F.game_id),_("puzzle_id",F.puzzle_id||""),_("sequence_order",F.sequence_order),m(F.content),f(!0)},C=async F=>{if(confirm("Are you sure you want to delete this splash screen?"))try{const{error:H}=await se.from("splash_screens").delete().eq("id",F);if(H)throw H;o&&O(o)}catch{y("Failed to delete splash screen")}},D=async(F,H)=>{const z=i.find($=>$.id===F);if(!z)return;const L=z.sequence_order,A=H==="up"?L-1:L+1,R=i.find($=>$.sequence_order===A);if(R)try{await se.from("splash_screens").update({sequence_order:A}).eq("id",z.id),await se.from("splash_screens").update({sequence_order:L}).eq("id",R.id),O(o)}catch{y("Failed to reorder splash screens")}};return c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Loading splash screens..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Splash Screen Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create story elements between puzzles"})]}),a.jsxs("button",{onClick:()=>f(!0),disabled:!o,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"New Splash Screen"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Game"}),a.jsxs("select",{value:o,onChange:F=>u(F.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Choose a game..."}),e.map(F=>a.jsx("option",{value:F.id,children:F.title},F.id))]})]}),b&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:b})]})}),p&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:l?"Edit Splash Screen":"Create New Splash Screen"}),a.jsxs("form",{onSubmit:x(k),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Game"}),a.jsxs("select",{...h("game_id",{required:"Please select a game"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select a game..."}),e.map(F=>a.jsx("option",{value:F.id,children:F.title},F.id))]}),S.game_id&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.game_id.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Before Puzzle (Optional)"}),a.jsxs("select",{...h("puzzle_id"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Game Introduction (Before Puzzle 1)"}),r.map(F=>a.jsxs("option",{value:F.id,children:["Before Puzzle ",F.sequence_order,": ",F.title]},F.id))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to show at game start. Multiple splash screens will play in sequence order."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{...h("title",{required:"Title is required"}),type:"text",placeholder:"Enter splash screen title...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),S.title&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (Optional)"}),a.jsx("input",{...h("image_url"),type:"url",placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a background image for the splash screen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Video URL (Optional)"}),a.jsx("input",{...h("video_url"),type:"url",placeholder:"https://example.com/video.mp4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a short video to play on the splash screen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx(sa,{value:w,onChange:m,theme:"snow",className:"bg-white",placeholder:"Enter the story content for this splash screen..."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:l?"Update Splash Screen":"Create Splash Screen"}),a.jsx("button",{type:"button",onClick:()=>{f(!1),d(null),v(),m("")},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),o&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["Splash Screens for ",(V=e.find(F=>F.id===o))==null?void 0:V.title]}),i.length>0?a.jsx("div",{className:"space-y-4",children:i.map((F,H)=>{var z,L;return a.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs("span",{className:"bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full font-medium",children:["#",F.sequence_order]}),a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:F.title}),F.image_url&&a.jsx(ih,{className:"h-4 w-4 text-gray-500"})]}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 text-sm mb-2 line-clamp-2",dangerouslySetInnerHTML:{__html:F.content}}),F.puzzle_id?a.jsxs("p",{className:"text-xs text-gray-500",children:["Shows before Puzzle ",(z=r.find(A=>A.id===F.puzzle_id))==null?void 0:z.sequence_order,": ",(L=r.find(A=>A.id===F.puzzle_id))==null?void 0:L.title]}):a.jsx("p",{className:"text-xs text-gray-500",children:"Shows at game introduction (before Puzzle 1)"})]}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("button",{onClick:()=>D(F.id,"up"),disabled:H===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed p-1",title:"Move Up",children:a.jsx(Zg,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D(F.id,"down"),disabled:H===i.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed p-1",title:"Move Down",children:a.jsx(Qg,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>T(F),className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit Splash Screen",children:a.jsx(Ss,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>C(F.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Splash Screen",children:a.jsx(bn,{className:"h-4 w-4"})})]})]})]})},F.id)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ih,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No splash screens created yet"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Create your first splash screen to add story elements"})]})]})]})},OA=()=>{const[e,t]=q.useState([]),[r,n]=q.useState([]),[i,s]=q.useState(!0),[o,u]=q.useState("30d");q.useEffect(()=>{l()},[o]);const l=async()=>{s(!0);try{const{data:f}=await se.from("games").select("*");n(f||[]);let c=se.from("purchases").select(`
          *,
          games (title),
          access_codes (code)
        `).order("created_at",{ascending:!1});if(o!=="all"){const b=parseInt(o),y=new Date;y.setDate(y.getDate()-b),c=c.gte("created_at",y.toISOString())}const{data:g}=await c;t(g||[])}catch(f){console.error("Failed to load purchase data:",f)}finally{s(!1)}},d={totalRevenue:e.reduce((f,c)=>f+c.amount/100,0),totalPurchases:e.length,completedPurchases:e.filter(f=>f.status==="completed").length,averageOrderValue:e.length>0?e.reduce((f,c)=>f+c.amount/100,0)/e.length:0},p=r.map(f=>{const c=e.filter(g=>g.game_id===f.id);return{game:f,purchases:c.length,revenue:c.reduce((g,b)=>g+b.amount/100,0)}}).sort((f,c)=>c.revenue-f.revenue);return i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Loading purchase data..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Purchase Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track sales and customer data"})]}),a.jsxs("select",{value:o,onChange:f=>u(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"}),a.jsx("option",{value:"all",children:"All time"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",d.totalRevenue.toFixed(2)]})]}),a.jsx(rh,{className:"h-10 w-10 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Purchases"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.totalPurchases})]}),a.jsx(bS,{className:"h-10 w-10 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[d.totalPurchases>0?Math.round(d.completedPurchases/d.totalPurchases*100):0,"%"]})]}),a.jsx(E_,{className:"h-10 w-10 text-purple-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Order Value"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",d.averageOrderValue.toFixed(2)]})]}),a.jsx(rh,{className:"h-10 w-10 text-orange-600"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Game Performance"}),a.jsx("div",{className:"space-y-4",children:p.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:f.game.title}),a.jsx("p",{className:"text-sm text-gray-500",children:f.game.theme})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-gray-900",children:["$",f.revenue.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[f.purchases," purchases"]})]})]},f.game.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Purchases"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Game"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Code"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(f=>{var c,g;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ld,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-900",children:f.email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:((c=f.games)==null?void 0:c.title)||"Unknown Game"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",(f.amount/100).toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("code",{className:"text-sm font-mono text-gray-900",children:((g=f.access_codes)==null?void 0:g.code)||"N/A"})})]},f.id)})})]})})]})]})},TA=({onLogout:e})=>{const[t,r]=q.useState("overview"),[n,i]=q.useState({totalGames:0,totalPuzzles:0,totalCodes:0,activeCodes:0,usedCodes:0});q.useEffect(()=>{s()},[]);const s=async()=>{try{const{count:d}=await se.from("games").select("*",{count:"exact",head:!0}),{count:p}=await se.from("puzzles").select("*",{count:"exact",head:!0}),{count:f}=await se.from("access_codes").select("*",{count:"exact",head:!0}),{count:c}=await se.from("access_codes").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:g}=await se.from("access_codes").select("*",{count:"exact",head:!0}).not("activated_at","is",null);i({totalGames:d||0,totalPuzzles:p||0,totalCodes:f||0,activeCodes:c||0,usedCodes:g||0})}catch(d){console.error("Failed to load dashboard stats:",d)}},o=async()=>{await c_(),e()},u=[{id:"overview",label:"Overview",icon:T_},{id:"games",label:"Games",icon:ns},{id:"puzzles",label:"Puzzles",icon:wo},{id:"codes",label:"Access Codes",icon:Kr},{id:"content",label:"Content",icon:Hn},{id:"splash",label:"Splash Screens",icon:Hn},{id:"purchases",label:"Purchases",icon:Hn}],l=()=>{switch(t){case"games":return a.jsx(Vj,{});case"puzzles":return a.jsx(jA,{});case"codes":return a.jsx(kA,{});case"content":return a.jsx(NA,{});case"splash":return a.jsx(EA,{});case"purchases":return a.jsx(OA,{});case"analytics":return a.jsx("div",{children:"Analytics coming soon..."});case"overview":default:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-8 text-white",children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Welcome to Admin Dashboard"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your Tale and Trail games, puzzles, and access codes from here."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Games"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalGames})]}),a.jsx(ns,{className:"h-10 w-10 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Puzzles"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalPuzzles})]}),a.jsx(wo,{className:"h-10 w-10 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Access Codes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalCodes}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.activeCodes," active"]})]}),a.jsx(Kr,{className:"h-10 w-10 text-purple-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Used Codes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.usedCodes}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.totalCodes>0?Math.round(n.usedCodes/n.totalCodes*100):0,"% usage"]})]}),a.jsx(Hn,{className:"h-10 w-10 text-orange-600"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>r("games"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:shadow-md transition-all",children:[a.jsx(ns,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"Create New Game"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Start building a new puzzle experience"})]}),a.jsxs("button",{onClick:()=>r("puzzles"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:shadow-md transition-all",children:[a.jsx(wo,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"Add Puzzles"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create challenges for your games"})]}),a.jsxs("button",{onClick:()=>r("codes"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:shadow-md transition-all",children:[a.jsx(Kr,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"Generate Codes"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create access codes for players"})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Getting Started Tips"}),a.jsxs("ul",{className:"space-y-2 text-yellow-700",children:[a.jsx("li",{children:"• Create a game first, then add puzzles to it in the desired sequence"}),a.jsx("li",{children:"• Use progressive clues to help players when they get stuck"}),a.jsx("li",{children:"• Generate access codes after your game is ready for players"}),a.jsx("li",{children:"• Each access code is valid for 12 hours from first use"})]})]})]})}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Ay,{showAdminControls:!0,onLogout:o}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-white shadow-lg min-h-screen",children:a.jsx("nav",{className:"p-4",children:a.jsx("div",{className:"space-y-2",children:u.map(d=>{const p=d.icon;return a.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${t===d.id?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(p,{className:"h-5 w-5"}),a.jsx("span",{children:d.label})]},d.id)})})})}),a.jsx("div",{className:"flex-1 p-8",children:l()})]})]})},AA=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900",children:[a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-amber-100 mb-6",children:"How to Play Tale and Trail"}),a.jsx("p",{className:"text-xl text-amber-200 mb-12",children:"Your complete guide to the ultimate puzzle adventure experience"})]})}),a.jsx("section",{className:"py-16 bg-amber-50",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-amber-800 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Kr,{className:"h-10 w-10 text-amber-100"})}),a.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"1. Get Your Code"}),a.jsx("p",{className:"text-amber-700 text-lg",children:"Purchase your unique access code and receive it instantly via email. Each code unlocks 12 hours of puzzle-solving adventure."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-amber-800 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ud,{className:"h-10 w-10 text-amber-100"})}),a.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"2. Start Playing"}),a.jsx("p",{className:"text-amber-700 text-lg",children:"Enter your code to begin. Solve puzzles in sequence, with progressive clues revealed when you need help. Resume anytime within your window."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-amber-800 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Bu,{className:"h-10 w-10 text-amber-100"})}),a.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"3. Complete & Win"}),a.jsx("p",{className:"text-amber-700 text-lg",children:"Work through all puzzles to complete your adventure. Each game tells a unique story with immersive narrative elements."})]})]})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-amber-100 text-center mb-12",children:"Game Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-amber-800 rounded-xl p-6 text-center",children:[a.jsx(Xg,{className:"h-12 w-12 text-amber-200 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-3",children:"12-Hour Access"}),a.jsx("p",{className:"text-amber-200",children:"Your code activates when first used and remains valid for 12 full hours"})]}),a.jsxs("div",{className:"bg-amber-800 rounded-xl p-6 text-center",children:[a.jsx(ny,{className:"h-12 w-12 text-amber-200 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-3",children:"Progressive Clues"}),a.jsx("p",{className:"text-amber-200",children:"Stuck? Wrong answers reveal helpful clues to guide you forward"})]}),a.jsxs("div",{className:"bg-amber-800 rounded-xl p-6 text-center",children:[a.jsx(Hn,{className:"h-12 w-12 text-amber-200 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-3",children:"Team Friendly"}),a.jsx("p",{className:"text-amber-200",children:"Perfect for solo players or groups - work together to solve puzzles"})]})]})]})}),a.jsx("section",{className:"py-16 bg-amber-100",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-amber-900 text-center mb-8",children:"Pro Tips for Success"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"📱 Mobile Friendly"}),a.jsx("p",{className:"text-amber-800",children:"Play on any device! The game works perfectly on phones, tablets, and computers."})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"🧠 Think Outside the Box"}),a.jsx("p",{className:"text-amber-800",children:"Some puzzles require creative thinking. Don't be afraid to try unusual answers!"})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"⏰ Take Your Time"}),a.jsx("p",{className:"text-amber-800",children:"You have 12 hours from first use. Take breaks, discuss with friends, and enjoy the journey."})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"💡 Use the Clues"}),a.jsx("p",{className:"text-amber-800",children:"Don't worry about wrong answers - they unlock helpful clues that guide you to the solution."})]})]})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-green-600 to-green-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Your Adventure?"}),a.jsx("p",{className:"text-xl text-green-100 mb-8",children:"Get your access code and begin the ultimate puzzle experience today!"}),a.jsxs("a",{href:"/purchase",className:"bg-white text-green-700 hover:bg-green-50 font-bold px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl text-lg inline-flex items-center space-x-2",children:[a.jsx(Bu,{className:"h-5 w-5"}),a.jsx("span",{children:"Purchase Access Code"})]})]})})]}),PA=()=>{const e=[{icon:Kr,question:"How do I get an access code?",answer:"Purchase an access code through our Purchase page. You'll receive your unique code via email immediately after payment. Each code is valid for 12 hours from first use."},{icon:Xg,question:"How long do I have to complete the game?",answer:"Once you activate your access code, you have 12 full hours to complete all puzzles. You can take breaks and resume anytime within this window."},{icon:Hn,question:"Can I play with friends?",answer:"Absolutely! The game is perfect for teams. You can work together to solve puzzles, discuss clues, and share the adventure. One access code works for your entire group."},{icon:yS,question:"What devices can I use?",answer:"The game works on any device with a web browser - smartphones, tablets, laptops, or desktop computers. The interface is fully responsive and optimized for mobile play."},{icon:th,question:"What if I get stuck on a puzzle?",answer:"Don't worry! Wrong answers reveal progressive clues to help guide you. The more you try, the more hints you'll unlock. Every puzzle is solvable with the clues provided."},{icon:iy,question:"Can I restart or get a new code?",answer:"Each access code is single-use and expires after 12 hours. If you need a new code, you'll need to make a new purchase. However, you can resume your progress anytime within the 12-hour window."}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900",children:[a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-amber-100 mb-6",children:"Frequently Asked Questions"}),a.jsx("p",{className:"text-xl text-amber-200 mb-12",children:"Everything you need to know about Tale and Trail"})]})}),a.jsx("section",{className:"py-16 bg-amber-50",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"space-y-8",children:e.map((t,r)=>{const n=t.icon;return a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-amber-100 p-3 rounded-full flex-shrink-0",children:a.jsx(n,{className:"h-6 w-6 text-amber-800"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:t.question}),a.jsx("p",{className:"text-amber-800 leading-relaxed",children:t.answer})]})]})},r)})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-amber-100 mb-6",children:"Still Have Questions?"}),a.jsx("p",{className:"text-xl text-amber-200 mb-8",children:"We're here to help! Contact us if you need additional support."}),a.jsxs("a",{href:"/contact",className:"bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-bold px-8 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl text-lg inline-flex items-center space-x-2",children:[a.jsx(th,{className:"h-5 w-5"}),a.jsx("span",{children:"Contact Support"})]})]})})]})},CA=()=>{const[e,t]=q.useState(!1),[r,n]=q.useState(!1),[i,s]=q.useState(null),{register:o,handleSubmit:u,reset:l,formState:{errors:d}}=Qt(),p=async f=>{n(!0),s(null);try{const c="12b5f9c9-9bf9-416a-8ef1-45a3f9e2910d",g=new FormData;g.append("access_key",c),g.append("name",f.name),g.append("email",f.email),g.append("subject",f.subject),g.append("message",f.message),g.append("from_name","Tale and Trail Contact Form"),g.append("replyto",f.email);const y=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:g})).json();if(y.success)t(!0),l(),setTimeout(()=>t(!1),5e3);else throw new Error(y.message||"Failed to send message")}catch(c){console.error("Contact form submission error:",c),s(c instanceof Error?c.message:"Failed to send message. Please try again."),setTimeout(()=>s(null),5e3)}finally{n(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900",children:[a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-amber-100 mb-6",children:"Contact Us"}),a.jsx("p",{className:"text-xl text-amber-200 mb-12",children:"Need help? Have questions? We're here to assist you!"})]})}),a.jsx("section",{className:"py-16 bg-amber-50",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-8",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-amber-800 p-3 rounded-full",children:a.jsx(ld,{className:"h-6 w-6 text-amber-100"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-amber-900",children:"Email"}),a.jsx("p",{className:"text-amber-700",children:"gav.adams@gmail.com"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-amber-800 p-3 rounded-full",children:a.jsx(ry,{className:"h-6 w-6 text-amber-100"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-amber-900",children:"Instagram"}),a.jsx("p",{className:"text-amber-700",children:"@Playtailandtrail"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-xl",children:[a.jsx("h2",{className:"text-2xl font-bold text-amber-900 mb-6",children:"Send us a Message"}),e&&a.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-400 rounded",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lt,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("p",{className:"text-green-700 font-medium",children:"Message sent successfully! We'll get back to you soon."})]})}),i&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700 font-medium",children:i})]})}),a.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Name"}),a.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none"}),d.name&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Email"}),a.jsx("input",{...o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none"}),d.email&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Subject"}),a.jsx("input",{...o("subject",{required:"Subject is required"}),type:"text",className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none"}),d.subject&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.subject.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Message"}),a.jsx("textarea",{...o("message",{required:"Message is required"}),rows:5,className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none resize-none"}),d.message&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.message.message})]}),a.jsxs("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[a.jsx(hS,{className:"h-5 w-5"}),a.jsx("span",{children:r?"Sending...":"Send Message"})]})]})]})]})})})]})},Dl=({slug:e})=>{const{slug:t}=Yx(),r=e||t,[n,i]=q.useState(null),[s,o]=q.useState(!0),[u,l]=q.useState(null);q.useEffect(()=>{if(!r){l("Page not found"),o(!1);return}d()},[r]);const d=async()=>{try{const{data:p,error:f}=await se.from("content_pages").select("*").eq("slug",r).eq("is_published",!0).single();if(f||!p){l("Page not found");return}i(p)}catch{l("Failed to load page")}finally{o(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-100 mx-auto mb-4"}),a.jsx("p",{className:"text-amber-100 text-lg",children:"Loading page..."})]})}):u||!n?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-amber-100 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-amber-200 mb-8",children:"The page you're looking for doesn't exist."}),a.jsx("a",{href:"/",className:"bg-amber-700 hover:bg-amber-600 text-white font-bold px-6 py-3 rounded-lg transition-colors",children:"Return Home"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-900",children:a.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-2xl p-8 md:p-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-amber-900 mb-6",children:n.title}),a.jsx("div",{className:"prose prose-amber max-w-none text-amber-800 leading-relaxed",dangerouslySetInnerHTML:{__html:n.content}})]})})})})},LA=()=>{const{pathname:e}=ur();return q.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function RA(){const[e,t]=q.useState(!1),[r,n]=q.useState(!0),{currentSession:i,error:s,setError:o,clearSession:u}=sr(),{initialize:l}=kr();q.useEffect(()=>{se.auth.getSession().then(({data:{session:g}})=>{t(!!g),n(!1)});const{data:{subscription:c}}=se.auth.onAuthStateChange((g,b)=>{t(!!b),g==="SIGNED_OUT"&&t(!1)});return()=>c.unsubscribe()},[]),q.useEffect(()=>{l();const{currentSession:c}=sr.getState();c&&d(c)},[]);const d=async c=>{try{const{data:g}=await se.from("games").select("*").eq("id",c.game_id).single();g&&sr.getState().setGame(g);const{data:b}=await se.from("puzzles").select("*").eq("game_id",c.game_id).order("sequence_order");b&&sr.getState().setPuzzles(b);const{data:y}=await se.from("access_codes").select("*").eq("id",c.access_code_id).single();y&&sr.getState().setAccessCode(y)}catch(g){console.error("Failed to load game data:",g)}},p=()=>{t(!0)},f=()=>{t(!1)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-yellow-200 mx-auto mb-4"}),a.jsx("p",{className:"text-yellow-200 text-lg",children:"Loading..."})]})}):a.jsxs(I1,{children:[a.jsx(LA,{}),a.jsx(kS,{}),a.jsxs("div",{className:"App",children:[s&&a.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium",children:s}),a.jsx("button",{onClick:()=>o(null),className:"ml-4 text-red-200 hover:text-white",children:"×"})]})}),a.jsxs(f1,{children:[a.jsx(At,{path:"/",element:a.jsx(ES,{})}),a.jsx(At,{path:"/purchase",element:a.jsx(Mj,{})}),a.jsx(At,{path:"/how-it-works",element:a.jsx(AA,{})}),a.jsx(At,{path:"/faq",element:a.jsx(PA,{})}),a.jsx(At,{path:"/contact",element:a.jsx(CA,{})}),a.jsx(At,{path:"/privacy",element:a.jsx(Dl,{slug:"privacy"})}),a.jsx(At,{path:"/terms",element:a.jsx(Dl,{slug:"terms"})}),a.jsx(At,{path:"/:slug",element:a.jsx(Dl,{})}),a.jsx(At,{path:"/play",element:i?a.jsx(Uj,{}):a.jsx($j,{})}),a.jsx(At,{path:"/admin",element:e?a.jsx(TA,{onLogout:f}):a.jsx(Bj,{onLogin:p})}),a.jsx(At,{path:"*",element:a.jsx(c1,{to:"/",replace:!0})})]})]}),a.jsx(NS,{})]})}cg(document.getElementById("root")).render(a.jsx(q.StrictMode,{children:a.jsx(RA,{})}));
